{"version":3,"sources":["webpack:///../examples/lessons/14/app.js","webpack:///./templates/lessons/example-14.jsx","webpack:///../modules/core/src/scenegraph/nodes/model-node.js","webpack:///../modules/core/src/scenegraph/nodes/scenegraph-node.js","webpack:///../node_modules/math.gl/dist/esm/classes/base/vector.js","webpack:///../node_modules/math.gl/dist/esm/classes/vector3.js"],"names":["TEAPOT_UNIFORMS","uMaterialShininess","uShowSpecularHighlights","uUseLighting","uUseTextures","LIGHT_UNIFORMS","uAmbientColor","uPointLightingLocation","uPointLightingSpecularColor","uPointLightingDiffuseColor","AppAnimationLoop","getInfo","onInitialize","gl","setParameters","clearColor","clearDepth","depthTest","GL","file","teapotJson","JSON","galvanizedTexture","data","parameters","mipmap","earthTexture","urls","teapot","id","fs","vs","geometry","attributes","positions","Float32Array","normals","texCoords","indices","Uint16Array","drawMode","TRIANGLES","uniforms","Object","uSampler","onRender","tick","aspect","eyePos","radians","uVMatrix","eye","center","up","$id","document","$value","defaultValue","Number","$checked","useSpecular","useLighting","useTextures","shininess","pointLightPosition","pointLightSpecularColor","pointLightDiffuseColor","ambientColor","texture","getHTMLControls","selectedTexture","phi","uMMatrix","uPMatrix","fov","Math","near","far","AnimationLoop","window","animationLoop","Example","render","exampleConfig","this","props","pageContext","React","Component","ModelNode","setProps","_setModelNodeProps","delete","model","managedResources","forEach","resource","draw","setUniforms","setAttributes","updateModuleSettings","ScenegraphNode","uid","constructor","display","position","rotation","scale","matrix","userData","_setScenegraphNodeProps","toString","setPosition","assert","setRotation","setScale","setMatrix","copyMatrix","copy","setMatrixComponents","update","updateMatrix","pos","rot","identity","translate","rotateXYZ","getCoordinateUniforms","modelMatrix","worldMatrix","worldInverse","worldInverseTranspose","viewMatrix","objectMatrix","worldInverseMatrix","worldInverseTransposeMatrix","_MathArray","Vector","apply","arguments","key","value","sqrt","lengthSquared","len","length","i","ELEMENTS","mathArray","distanceSquared","dist","product","magnitude","check","_len","vectors","Array","_key","_i","_vectors","vector","_len2","_key2","_i2","_vectors2","distance","a","b","add","subtract","multiply","multiplyScalar","get","set","ORIGIN","_Vector","Vector3","_this","x","undefined","y","z","call","debug","array","object","vec3","_ref","_ref$origin","origin","_ref2","_ref2$origin","_ref3","_ref3$origin","matrix4","transformAsPoint","matrix3","matrix2","quaternion"],"mappings":"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","file":"component---templates-lessons-example-14-jsx-27bf891f3d77298dfd75.js","sourcesContent":["import GL from '@luma.gl/constants';\nimport {\n  AnimationLoop,\n  Geometry,\n  Texture2D,\n  loadFile,\n  setParameters,\n  ModelNode\n} from '@luma.gl/core';\nimport {Matrix4, radians} from 'math.gl';\n\nconst INFO_HTML = `\n<p>\n  <a href=\"http://learningwebgl.com/blog/?p=1658\" target=\"_blank\">\n    Specular highlights and loading a JSON model\n  </a>\n<p>\n  The classic WebGL Lessons in luma.gl\n\n<div id=\"control-elements\">\n  <input type=\"checkbox\" id=\"specular\" checked/> Show specular highlight<br/>\n  <input type=\"checkbox\" id=\"lighting\" checked/> Use lighting<br/>\n  Texture:\n  <select id=\"texture\">\n    <option value=\"none\">None</option>\n    <option selected value=\"galvanized\">Galvanized</option>\n    <option value=\"earth\">Earth</option>\n  </select>\n\n  <br/>\n  <h2>Material:</h2>\n  <div class=\"control-block\">\n    <div class=\"control-row\">\n      <div><b>Shininess:</b></div>\n      <input id=\"shininess\" type=\"range\" value=\"32.0\" min=\"0.0\" max=\"100.0\" step=\"1\"/>\n    </div>\n  </div>\n\n  <h2>Point light:</h2>\n  <div class=\"control-block\">\n    <div class=\"control-row\">\n      <div><b>Location:</b></div>\n      <div>X: <input type=\"text\" id=\"lightPositionX\" value=\"-10.0\"/></div>\n      <div>Y: <input type=\"text\" id=\"lightPositionY\" value=\"4.0\"/></div>\n      <div>Z: <input type=\"text\" id=\"lightPositionZ\" value=\"-20.0\"/></div>\n    </div>\n    <div class=\"control-row\">\n      <div><b>Specular colour:</b></div>\n      <div>R:\n        <input id=\"specularR\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n      <div>G:\n        <input id=\"specularG\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n      <div>B:\n        <input id=\"specularB\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n    </div>\n    <div class=\"control-row\">\n      <div><b>Diffuse colour:</b></div>\n      <div>R:\n        <input id=\"diffuseR\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n      <div>G:\n        <input id=\"diffuseG\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n      <div>B:\n        <input id=\"diffuseB\" type=\"range\" value=\"0.8\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n      </div>\n    </div>\n  </div>\n\n  <h2>Ambient light:</h2>\n  <div class=\"control-block\">\n    <div class=\"control-row\">\n      <div><b>Colour:</b></div>\n        <div>R:\n          <input id=\"ambientR\" type=\"range\" value=\"0.2\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n        </div>\n        <div>G:\n          <input id=\"ambientG\" type=\"range\" value=\"0.2\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n        </div>\n        <div>B:\n          <input id=\"ambientB\" type=\"range\" value=\"0.2\" min=\"0.0\" max=\"1.0\" step=\"0.01\"/>\n        </div>\n      </div>\n  </div>\n\n  <br/>\n  Galvanized texture courtesy of\n  <a href=\"http://www.arroway-textures.com/\">Arroway Textures</a>.<br/>\n  Earth texture courtesy of\n  <a href=\"http://www.esa.int/esaEO/SEMGSY2IU7E_index_0.html\">\n    the European Space Agency/Envisat\n  </a>.<br/>\n\n  <br/>\n  The classic WebGL Lessons in luma.gl\n\n </div>\n`;\n\n// Read Lighting form elements variables\nfunction getHTMLControls() {\n  /* global document */\n  const $id = id => document.getElementById(id);\n  const $value = (id, defaultValue = 1) => ($id(id) ? Number($id(id).value) : defaultValue);\n  const $checked = id => ($id(id) ? $id(id).checked : true);\n\n  // Get lighting form elements\n  // const useLighting = lighting.checked;\n  // const useSpecular = specular.checked;\n  // const materialShininess = shininess.value;\n\n  // Get lighting form elements\n  const useSpecular = $checked('specular');\n  const useLighting = $checked('lighting');\n  const useTextures = $value('texture', 'none') !== 'none';\n\n  const shininess = $value('shininess');\n\n  const pointLightPosition = [\n    $value('lightPositionX', -10),\n    $value('lightPositionY', 4),\n    $value('lightPositionZ', -20)\n  ];\n  const pointLightSpecularColor = [\n    $value('specularR', 0.8),\n    $value('specularG', 0.8),\n    $value('specularB', 0.8)\n  ];\n  const pointLightDiffuseColor = [\n    $value('diffuseR', 0.8),\n    $value('diffuseG', 0.8),\n    $value('diffuseB', 0.8)\n  ];\n  const ambientColor = [$value('ambientR', 0.2), $value('ambientG', 0.2), $value('ambientB', 0.2)];\n\n  return {\n    useLighting,\n    useSpecular,\n    useTextures,\n\n    shininess,\n    texture: $value('texture'),\n\n    ambientColor,\n    pointLightPosition,\n    pointLightSpecularColor,\n    pointLightDiffuseColor\n  };\n}\n\nconst FRAGMENT_LIGHTING_VERTEX_SHADER = `\\\nprecision highp float;\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\nuniform mat4 uMMatrix;\nuniform mat4 uVMatrix;\nuniform mat4 uPMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nvoid main(void) {\n  vPosition = uMMatrix * vec4(positions, 1.0);\n  gl_Position = uPMatrix * uVMatrix * vPosition;\n  vTextureCoord = texCoords;\n  vTransformedNormal = uMMatrix * vec4(normals, 0.0);\n}\n`;\n\nconst FRAGMENT_LIGHTING_FRAGMENT_SHADER = `\\\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nuniform float uMaterialShininess;\nuniform bool uShowSpecularHighlights;\nuniform bool uUseLighting;\nuniform bool uUseTextures;\nuniform vec3 uAmbientColor;\nuniform vec3 uPointLightingLocation;\nuniform vec3 uPointLightingSpecularColor;\nuniform vec3 uPointLightingDiffuseColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n    vec3 lightWeighting;\n    if (!uUseLighting) {\n        lightWeighting = vec3(1.0, 1.0, 1.0);\n    } else {\n        vec3 lightDirection = normalize(uPointLightingLocation - vPosition.xyz);\n        vec3 normal = normalize(vTransformedNormal.xyz);\n        float specularLightWeighting = 0.0;\n        if (uShowSpecularHighlights) {\n            vec3 eyeDirection = normalize(-vPosition.xyz);\n            vec3 reflectionDirection = reflect(-lightDirection, normal);\n            specularLightWeighting =\n              pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);\n        }\n        float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        lightWeighting = uAmbientColor\n            + uPointLightingSpecularColor * specularLightWeighting\n            + uPointLightingDiffuseColor * diffuseLightWeighting;\n    }\n    vec4 fragmentColor;\n    if (uUseTextures) {\n        fragmentColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n    } else {\n        fragmentColor = vec4(1.0, 1.0, 1.0, 1.0);\n    }\n    gl_FragColor = vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n}\n`;\n\nconst TEAPOT_UNIFORMS = {\n  uMaterialShininess: 20.0,\n  uShowSpecularHighlights: true,\n  uUseLighting: true,\n  uUseTextures: true\n};\n\nconst LIGHT_UNIFORMS = {\n  uAmbientColor: [0.2, 0.2, 0.2],\n  uPointLightingLocation: [-10.0, 4.0, -20.0],\n  uPointLightingSpecularColor: [0.8, 0.8, 0.8],\n  uPointLightingDiffuseColor: [0.8, 0.8, 0.8]\n};\n\nexport default class AppAnimationLoop extends AnimationLoop {\n  static getInfo() {\n    return INFO_HTML;\n  }\n\n  onInitialize({gl}) {\n    setParameters(gl, {\n      clearColor: [0, 0, 0, 1],\n      clearDepth: 1,\n      depthTest: true,\n      [GL.UNPACK_FLIP_Y_WEBGL]: true\n    });\n\n    return loadFile('Teapot.json').then(file => {\n      const teapotJson = JSON.parse(file);\n\n      const galvanizedTexture = new Texture2D(gl, {\n        data: 'arroway.de_metal+structure+06_d100_flat.jpg',\n        parameters: {\n          [gl.TEXTURE_MAG_FILTER]: gl.LINEAR,\n          [gl.TEXTURE_MIN_FILTER]: gl.LINEAR_MIPMAP_NEAREST,\n          [gl.TEXTURE_WRAP_S]: gl.REPEAT,\n          [gl.TEXTURE_WRAP_T]: gl.REPEAT\n        },\n        mipmap: true\n      });\n\n      const earthTexture = new Texture2D(gl, {\n        urls: 'earth.jpg',\n        parameters: {\n          [gl.TEXTURE_MAG_FILTER]: gl.LINEAR,\n          [gl.TEXTURE_MIN_FILTER]: gl.LINEAR_MIPMAP_NEAREST,\n          [gl.TEXTURE_WRAP_S]: gl.REPEAT,\n          [gl.TEXTURE_WRAP_T]: gl.REPEAT\n        },\n        mipmap: true\n      });\n\n      const teapot = new ModelNode(gl, {\n        id: 'teapot-model',\n        fs: FRAGMENT_LIGHTING_FRAGMENT_SHADER,\n        vs: FRAGMENT_LIGHTING_VERTEX_SHADER,\n        geometry: new Geometry({\n          id: 'teapot-geometry',\n          attributes: {\n            positions: new Float32Array(teapotJson.positions),\n            normals: new Float32Array(teapotJson.normals),\n            texCoords: new Float32Array(teapotJson.texCoords),\n            indices: new Uint16Array(teapotJson.indices)\n          },\n          drawMode: GL.TRIANGLES\n        }),\n        uniforms: Object.assign({uSampler: galvanizedTexture}, TEAPOT_UNIFORMS, LIGHT_UNIFORMS)\n      });\n      return {teapot, earthTexture, galvanizedTexture};\n    });\n  }\n\n  onRender({gl, tick, aspect, teapot, earthTexture, galvanizedTexture}) {\n    gl.clear(GL.COLOR_BUFFER_BIT | GL.DEPTH_BUFFER_BIT);\n\n    // set camera position\n    const eyePos = new Matrix4().rotateX(radians(-30)).transform([0, 0, 5]);\n\n    const uVMatrix = new Matrix4().lookAt({eye: eyePos, center: [0, 0, 0], up: [0, 1, 0]});\n\n    const {\n      useLighting,\n      useSpecular,\n      useTextures,\n      texture,\n      shininess,\n      ambientColor,\n      pointLightPosition,\n      pointLightSpecularColor,\n      pointLightDiffuseColor\n    } = getHTMLControls();\n\n    teapot.setUniforms({\n      uUseLighting: useLighting,\n      uUseTextures: useTextures,\n      uShowSpecularHighlights: useSpecular,\n      uMaterialShininess: shininess\n    });\n\n    if (useLighting) {\n      teapot.setUniforms({\n        uAmbientColor: ambientColor,\n        uPointLightingLocation: pointLightPosition,\n        uPointLightingSpecularColor: pointLightSpecularColor,\n        uPointLightingDiffuseColor: pointLightDiffuseColor\n      });\n    }\n\n    if (useTextures) {\n      const selectedTexture = texture;\n      teapot.setUniforms({\n        uSampler: selectedTexture === 'earth' ? earthTexture : galvanizedTexture\n      });\n    }\n\n    const phi = tick * 0.01;\n    return teapot\n      .setUniforms({\n        uMMatrix: new Matrix4().translate([0, -35, -68]).rotateY(phi),\n        uVMatrix,\n        uPMatrix: new Matrix4().perspective({\n          fov: (45 * Math.PI) / 180,\n          aspect,\n          near: 0.1,\n          far: 100\n        })\n      })\n      .draw();\n  }\n}\n\n/* global window */\nif (typeof window !== 'undefined' && !window.website) {\n  const animationLoop = new AppAnimationLoop();\n  animationLoop.start();\n}\n","import React from 'react';\nimport AnimationLoopExamplePage from '../../src/components/animation-loop-example-page';\nimport AnimationLoop from '../../../examples/lessons/14/app';\n\nexport default class Example extends React.Component {\n  render() {\n    return (\n      <AnimationLoopExamplePage AnimationLoop={AnimationLoop} exampleConfig={this.props.pageContext.exampleConfig} />\n    );\n  }\n}\n","import Model from '../../lib/model';\nimport ScenegraphNode from './scenegraph-node';\n\nexport default class ModelNode extends ScenegraphNode {\n  constructor(gl, props = {}) {\n    super(props);\n\n    // pverride callbacks to make sure we call them with this\n    this.onBeforeRender = null;\n    this.AfterRender = null;\n\n    // Create new Model or used supplied Model\n    if (gl instanceof Model) {\n      this.model = gl;\n      this._setModelNodeProps(props);\n    } else {\n      this.model = new Model(gl, props);\n    }\n\n    this.managedResources = props.managedResources || [];\n  }\n\n  setProps(props) {\n    super.setProps(props);\n    this._setModelNodeProps(props);\n    return this;\n  }\n\n  delete() {\n    if (this.model) {\n      this.model.delete();\n      this.model = null;\n    }\n\n    this.managedResources.forEach(resource => resource.delete());\n    this.managedResources = [];\n  }\n\n  // Forward node methods\n  draw(...args) {\n    // Return value indicates if something was actually drawn\n    return this.model.draw(...args);\n  }\n\n  setUniforms(...args) {\n    this.model.setUniforms(...args);\n    return this;\n  }\n\n  setAttributes(...args) {\n    this.model.setAttributes(...args);\n    return this;\n  }\n\n  updateModuleSettings(...args) {\n    this.model.updateModuleSettings(...args);\n    return this;\n  }\n\n  // PRIVATE\n\n  _setModelNodeProps(props) {\n    this.model.setProps(props);\n  }\n}\n","import {Vector3, Matrix4} from 'math.gl';\nimport {assert, uid} from '../../utils';\n\nexport default class ScenegraphNode {\n  constructor(props = {}) {\n    const {id} = props;\n\n    this.id = id || uid(this.constructor.name);\n\n    this.display = true; // whether to display the object at all\n    this.position = new Vector3();\n    this.rotation = new Vector3();\n    this.scale = new Vector3(1, 1, 1);\n    this.matrix = new Matrix4();\n    this.userData = {};\n\n    this.props = {};\n    this._setScenegraphNodeProps(props);\n  }\n\n  delete() {}\n\n  setProps(props) {\n    this._setScenegraphNodeProps(props);\n    return this;\n  }\n\n  toString() {\n    return `{type: ScenegraphNode, id: ${this.id})}`;\n  }\n\n  setPosition(position) {\n    assert(position.length === 3, 'setPosition requires vector argument');\n    this.position = position;\n    return this;\n  }\n\n  setRotation(rotation) {\n    assert(rotation.length === 3, 'setRotation requires vector argument');\n    this.rotation = rotation;\n    return this;\n  }\n\n  setScale(scale) {\n    assert(scale.length === 3, 'setScale requires vector argument');\n    this.scale = scale;\n    return this;\n  }\n\n  setMatrix(matrix, copyMatrix = true) {\n    if (copyMatrix) {\n      this.matrix.copy(matrix);\n    } else {\n      this.matrix = matrix;\n    }\n  }\n\n  setMatrixComponents({position, rotation, scale, update = true}) {\n    if (position) {\n      this.setPosition(position);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (scale) {\n      this.setScale(scale);\n    }\n    if (update) {\n      this.updateMatrix();\n    }\n    return this;\n  }\n\n  updateMatrix() {\n    const pos = this.position;\n    const rot = this.rotation;\n    const scale = this.scale;\n\n    this.matrix.identity();\n    this.matrix.translate(pos);\n    this.matrix.rotateXYZ(rot);\n    this.matrix.scale(scale);\n    return this;\n  }\n\n  update({position, rotation, scale} = {}) {\n    if (position) {\n      this.setPosition(position);\n    }\n    if (rotation) {\n      this.setRotation(rotation);\n    }\n    if (scale) {\n      this.setScale(scale);\n    }\n    this.updateMatrix();\n    return this;\n  }\n\n  getCoordinateUniforms(viewMatrix, modelMatrix) {\n    // TODO - solve multiple class problem\n    // assert(viewMatrix instanceof Matrix4);\n    assert(viewMatrix);\n    modelMatrix = modelMatrix || this.matrix;\n    const worldMatrix = new Matrix4(viewMatrix).multiplyRight(modelMatrix);\n    const worldInverse = worldMatrix.invert();\n    const worldInverseTranspose = worldInverse.transpose();\n\n    return {\n      viewMatrix,\n      modelMatrix,\n      objectMatrix: modelMatrix,\n      worldMatrix,\n      worldInverseMatrix: worldInverse,\n      worldInverseTransposeMatrix: worldInverseTranspose\n    };\n  }\n\n  // TODO - copied code, not yet vetted\n  /*\n  transform() {\n    if (!this.parent) {\n      this.endPosition.set(this.position);\n      this.endRotation.set(this.rotation);\n      this.endScale.set(this.scale);\n    } else {\n      const parent = this.parent;\n      this.endPosition.set(this.position.add(parent.endPosition));\n      this.endRotation.set(this.rotation.add(parent.endRotation));\n      this.endScale.set(this.scale.add(parent.endScale));\n    }\n\n    const ch = this.children;\n    for (let i = 0; i < ch.length; ++i) {\n      ch[i].transform();\n    }\n\n    return this;\n  }\n  */\n\n  _setScenegraphNodeProps(props) {\n    if ('display' in props) {\n      this.display = props.display;\n    }\n\n    if ('position' in props) {\n      this.setPosition(props.position);\n    }\n    if ('rotation' in props) {\n      this.setRotation(props.rotation);\n    }\n    if ('scale' in props) {\n      this.setScale(props.scale);\n    }\n\n    // Matrix overwrites other props\n    if ('matrix' in props) {\n      this.setMatrix(props.matrix);\n    }\n\n    Object.assign(this.props, props);\n  }\n}\n","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nvar Vector = function (_MathArray) {\n  _inherits(Vector, _MathArray);\n\n  function Vector() {\n    _classCallCheck(this, Vector);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Vector).apply(this, arguments));\n  }\n\n  _createClass(Vector, [{\n    key: \"len\",\n    value: function len() {\n      return Math.sqrt(this.lengthSquared());\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude() {\n      return this.len();\n    }\n  }, {\n    key: \"lengthSquared\",\n    value: function lengthSquared() {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        length += this[i] * this[i];\n      }\n\n      return length;\n    }\n  }, {\n    key: \"magnitudeSquared\",\n    value: function magnitudeSquared() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(mathArray) {\n      return Math.sqrt(this.distanceSquared(mathArray));\n    }\n  }, {\n    key: \"distanceSquared\",\n    value: function distanceSquared(mathArray) {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var dist = this[i] - mathArray[i];\n        length += dist * dist;\n      }\n\n      return checkNumber(length);\n    }\n  }, {\n    key: \"dot\",\n    value: function dot(mathArray) {\n      var product = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        product += this[i] * mathArray[i];\n      }\n\n      return checkNumber(product);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var length = this.magnitude();\n\n      if (length !== 0) {\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= length;\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] *= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lengthSq\",\n    value: function lengthSq() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distanceTo\",\n    value: function distanceTo(vector) {\n      return this.distance(vector);\n    }\n  }, {\n    key: \"distanceToSquared\",\n    value: function distanceToSquared(vector) {\n      return this.distanceSquared(vector);\n    }\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(i) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      return checkNumber(this[i]);\n    }\n  }, {\n    key: \"setComponent\",\n    value: function setComponent(i, value) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      this[i] = value;\n      return this.check();\n    }\n  }, {\n    key: \"addVectors\",\n    value: function addVectors(a, b) {\n      return this.copy(a).add(b);\n    }\n  }, {\n    key: \"subVectors\",\n    value: function subVectors(a, b) {\n      return this.copy(a).subtract(b);\n    }\n  }, {\n    key: \"multiplyVectors\",\n    value: function multiplyVectors(a, b) {\n      return this.copy(a).multiply(b);\n    }\n  }, {\n    key: \"addScaledVector\",\n    value: function addScaledVector(a, b) {\n      return this.add(new this.constructor(a).multiplyScalar(b));\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this[0];\n    },\n    set: function set(value) {\n      return this[0] = checkNumber(value);\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(value) {\n      return this[1] = checkNumber(value);\n    }\n  }]);\n\n  return Vector;\n}(MathArray);\n\nexport { Vector as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Vector from './base/vector';\nimport { config, isArray } from '../lib/common';\nimport { checkNumber } from '../lib/validators';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { vec3_transformMat2, vec3_transformMat4AsVector } from '../lib/gl-matrix-extras';\nvar ORIGIN = [0, 0, 0];\n\nvar Vector3 = function (_Vector) {\n  _inherits(Vector3, _Vector);\n\n  function Vector3() {\n    var _this;\n\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    _classCallCheck(this, Vector3);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Vector3).call(this, -0, -0, -0));\n\n    if (arguments.length === 1 && isArray(x)) {\n      _this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n\n      _this[0] = x;\n      _this[1] = y;\n      _this[2] = z;\n    }\n\n    return _this;\n  }\n\n  _createClass(Vector3, [{\n    key: \"set\",\n    value: function set(x, y, z) {\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      return this.check();\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(array) {\n      this[0] = array[0];\n      this[1] = array[1];\n      this[2] = array[2];\n      return this.check();\n    }\n  }, {\n    key: \"fromObject\",\n    value: function fromObject(object) {\n      if (config.debug) {\n        checkNumber(object.x);\n        checkNumber(object.y);\n        checkNumber(object.z);\n      }\n\n      this[0] = object.x;\n      this[1] = object.y;\n      this[2] = object.z;\n      return this.check();\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject(object) {\n      object.x = this[0];\n      object.y = this[1];\n      object.z = this[2];\n      return object;\n    }\n  }, {\n    key: \"angle\",\n    value: function angle(vector) {\n      return vec3.angle(this, vector);\n    }\n  }, {\n    key: \"cross\",\n    value: function cross(vector) {\n      vec3.cross(this, this, vector);\n      return this.check();\n    }\n  }, {\n    key: \"rotateX\",\n    value: function rotateX(_ref) {\n      var radians = _ref.radians,\n          _ref$origin = _ref.origin,\n          origin = _ref$origin === void 0 ? ORIGIN : _ref$origin;\n      vec3.rotateX(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateY\",\n    value: function rotateY(_ref2) {\n      var radians = _ref2.radians,\n          _ref2$origin = _ref2.origin,\n          origin = _ref2$origin === void 0 ? ORIGIN : _ref2$origin;\n      vec3.rotateY(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateZ\",\n    value: function rotateZ(_ref3) {\n      var radians = _ref3.radians,\n          _ref3$origin = _ref3.origin,\n          origin = _ref3$origin === void 0 ? ORIGIN : _ref3$origin;\n      vec3.rotateZ(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(matrix4) {\n      return this.transformAsPoint(matrix4);\n    }\n  }, {\n    key: \"transformAsPoint\",\n    value: function transformAsPoint(matrix4) {\n      vec3.transformMat4(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformAsVector\",\n    value: function transformAsVector(matrix4) {\n      vec3_transformMat4AsVector(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix3\",\n    value: function transformByMatrix3(matrix3) {\n      vec3.transformMat3(this, this, matrix3);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix2\",\n    value: function transformByMatrix2(matrix2) {\n      vec3_transformMat2(this, this, matrix2);\n      return this.check();\n    }\n  }, {\n    key: \"transformByQuaternion\",\n    value: function transformByQuaternion(quaternion) {\n      vec3.transformQuat(this, this, quaternion);\n      return this.check();\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      return 3;\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(value) {\n      return this[2] = checkNumber(value);\n    }\n  }]);\n\n  return Vector3;\n}(Vector);\n\nexport { Vector3 as default };"],"sourceRoot":""}