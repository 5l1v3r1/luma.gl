(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{DhAv:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("Dq+y"),r("Ggvi"),r("zGcK"),r("E5k/"),r("v9g0"),r("YbXK"),r("cFtU"),r("pJf4"),r("q8oJ"),r("8npG"),r("rzGZ"),r("m210"),r("4DPX");var n=r("xmzN"),i=r("WFpA");function s(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=function(){function e(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}e.getDefaultProgramManager=function(t){return t.luma=t.luma||{},t.luma.defaultProgramManager=t.luma.defaultProgramManager||new e(t),t.luma.defaultProgramManager};var t=e.prototype;return t.addDefaultModule=function(e){this._defaultModules.find((function(t){return t.name===e.name}))||this._defaultModules.push(e),this.stateHash++},t.removeDefaultModule=function(e){var t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((function(e){return e.name!==t})),this.stateHash++},t.addShaderHook=function(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++},t.get=function(e){var t=this;void 0===e&&(e={});for(var r,a=e,o=a.vs,u=void 0===o?"":o,f=a.fs,d=void 0===f?"":f,h=a.defines,c=void 0===h?{}:h,l=a.inject,g=void 0===l?{}:l,m=a.varyings,v=void 0===m?[]:m,b=a.bufferMode,p=void 0===b?35981:b,y=a.transpileToGLSL100,_=void 0!==y&&y,O=this._getModuleList(e.modules),M=this._getHash(u),A=this._getHash(d),j=O.map((function(e){return t._getHash(e.name)})).sort(),S=v.map((function(e){return t._getHash(e)})),C=Object.keys(c).sort(),x=Object.keys(g).sort(),w=[],I=[],F=s(C);!(r=F()).done;){var B=r.value;w.push(this._getHash(B)),w.push(this._getHash(c[B]))}for(var D,P=s(x);!(D=P()).done;){var E=D.value;I.push(this._getHash(E)),I.push(this._getHash(g[E]))}var T=M+"/"+A+"D"+w.join("/")+"M"+j.join("/")+"I"+I.join("/")+"V"+S.join("/")+"H"+this.stateHash+"B"+p+(_?"T":"");if(!this._programCache[T]){var U=Object(n.a)(this.gl,{vs:u,fs:d,modules:O,inject:g,defines:c,hookFunctions:this._hookFunctions,transpileToGLSL100:_});this._programCache[T]=new i.a(this.gl,{hash:T,vs:U.vs,fs:U.fs,varyings:v,bufferMode:p}),this._getUniforms[T]=U.getUniforms||function(e){},this._useCounts[T]=0}return this._useCounts[T]++,this._programCache[T]},t.getUniforms=function(e){return this._getUniforms[e.hash]||null},t.release=function(e){var t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])},t._getHash=function(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]},t._getModuleList=function(e){void 0===e&&(e=[]);for(var t=new Array(this._defaultModules.length+e.length),r={},n=0,i=0,s=this._defaultModules.length;i<s;++i){var a=this._defaultModules[i],o=a.name;t[n++]=a,r[o]=!0}for(var u=0,f=e.length;u<f;++u){var d=e[u],h=d.name;r[h]||(t[n++]=d,r[h]=!0)}return t.length=n,t},e}()},GInI:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("9ZhD"),r("YBKJ"),r("ofTv");var n=r("73Rc"),i=r.n(n),s=r("lHlH"),a=r("98Cc"),o=r("3LCa"),u=r("3dIF"),f=r("BunF");var d=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),Object(u.a)(t),(n=e.call(this,t,r)||this).initialize(r),n.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e){return Object(s.e)(e)};var a=n.prototype;return a.initialize=function(e){var t=this;return void 0===e&&(e={}),this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(f.a)(this.buffers)||this.bind((function(){return t._unbindBuffers()})),this.setProps(e),this},a.setProps=function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)},a.setBuffers=function(e){var t=this;return void 0===e&&(e={}),this.bind((function(){for(var r in e)t.setBuffer(r,e[r])})),this},a.setBuffer=function(e,t){var r=this,n=this._getVaryingIndex(e),i=this._getBufferParams(t),a=i.buffer,o=i.byteSize,u=i.byteOffset;return n<0?(this.unused[e]=a,s.f.warn((function(){return r.id+" unused varying buffer "+e}))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,a,u,o),this)},a.begin=function(e){return void 0===e&&(e=i.a.POINTS),this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this},a.end=function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,null),this},a._getBufferParams=function(e){var t,r,n;return e instanceof o.a==!1?(n=e.buffer,r=e.byteSize,t=e.byteOffset):n=e,void 0===t&&void 0===r||(t=t||0,r=r||n.byteLength-t),{buffer:n,byteOffset:t,byteSize:r}},a._getVaryingInfo=function(e){return this.configuration&&this.configuration.getVaryingInfo(e)},a._getVaryingIndex=function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1},a._bindBuffers=function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),r=t.buffer,n=t.byteSize,i=t.byteOffset;this._bindBuffer(e,r,i,n)}},a._unbindBuffers=function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)},a._bindBuffer=function(e,t,r,n){void 0===r&&(r=0);var s=t&&t.handle;return s&&void 0!==n?this.gl.bindBufferRange(i.a.TRANSFORM_FEEDBACK_BUFFER,e,s,r,n):this.gl.bindBufferBase(i.a.TRANSFORM_FEEDBACK_BUFFER,e,s),this},a._createHandle=function(){return this.gl.createTransformFeedback()},a._deleteHandle=function(){this.gl.deleteTransformFeedback(this.handle)},a._bindHandle=function(e){this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,this.handle)},n}(a.a)},"UD/Y":function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));r("rzGZ"),r("Dq+y"),r("8npG"),r("Ggvi"),r("YBKJ"),r("9ZhD"),r("E5k/");var n=r("73Rc"),i=r.n(n),s=r("lHlH"),a=r("DhAv"),o=r("BunF"),u=r("Iq2B"),f=r("IObG"),d=r("WFpA"),h=r("WrWi"),c=r("3LCa"),l=r("GInI"),g=(r("sC2a"),r("pJf4"),r("62vL")),m=r("Ifu7");function v(e,t){void 0===t&&(t={});var r=t.isInteger,n=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){for(var r=t.maxElts,n=void 0===r?16:r,i=t.size,s=void 0===i?1:i,a="[",o=0;o<e.length&&o<n;++o)o>0&&(a+=","+(o%s==0?" ":"")),a+=v(e[o],t);return""+a+(e.length>n?"...":"]")}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return n?"0":"0.";if(n)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var i=e.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}function b(e,t,r,n){var i,s,a=e.gl;if(!t)return(s={})[n]="null",s["Format "]="N/A",s;var o,u,f,d="NOT PROVIDED",h="N/A",l="N/A",m="N/A";if(r&&(d=r.type,h=r.size,o=-1!==(d=String(d).replace("Array","")).indexOf("nt")),t instanceof c.a){var b,p,y=t,_=y.getDebugData(),O=_.data;if(u=_.modified?"*":"",f=O,l=(m=y.byteLength)/O.BYTES_PER_ELEMENT/h,r)p=(r.divisor>0?"I ":"P ")+" "+l+" (x"+h+"="+m+" bytes "+Object(g.a)(a,d)+")";else o=!0,p=m+" bytes";return(b={})[n]=""+u+v(f,{size:h,isInteger:o}),b["Format "]=p,b}return f=t,h=t.length,o=-1!==(d=String(t.constructor.name).replace("Array","")).indexOf("nt"),(i={})[n]=v(f,{size:h,isInteger:o})+" (constant)",i["Format "]=h+"x"+d+" (constant)",i}function p(e,t){var r=t.type,n=t.size,i=Object(m.b)(r,n);return i?e+" ("+i.name+")":e}r("Ll4R"),r("zGcK"),r("YbXK"),r("cFtU"),r("q8oJ"),r("m210"),r("4DPX");function y(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=void 0===e?{}:e,r=t.header,n=void 0===r?"Uniforms":r,i=t.program,s=t.uniforms,a=t.undefinedOnly,o=void 0!==a&&a;Object(u.a)(i);for(var f,d=i._uniformSetters,h={},c=Object.keys(d).sort(),l=0,g=y(c);!(f=g()).done;){var m=f.value;m.match(".*_.*")||m.match(".*Matrix")||M({table:h,header:n,uniforms:s,uniformName:m,undefinedOnly:o})&&l++}for(var b,p=y(c);!(b=p()).done;){var _=b.value;_.match(".*Matrix")&&M({table:h,header:n,uniforms:s,uniformName:_,undefinedOnly:o})&&l++}for(var O,A=y(c);!(O=A()).done;){var j=O.value;h[j]||M({table:h,header:n,uniforms:s,uniformName:j,undefinedOnly:o})&&l++}var S=0,C={};if(!o)for(var x in s){var w,I=s[x];if(!h[x])S++,C[x]=((w={Type:"NOT USED: "+I})[n]=v(I),w)}return{table:h,count:l,unusedTable:C,unusedCount:S}}function M(e){var t,r=e.table,n=e.header,i=e.uniforms,s=e.uniformName,a=e.undefinedOnly,o=i[s],u=function(e){return null!=e}(o);return(!a||!u)&&(r[s]=((t={})[n]=u?v(o):"N/A",t["Uniform Type"]=u?o:"NOT PROVIDED",t),!0)}function A(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e){var t=e.accessor,r=t.type,n=t.size,i=Object(m.b)(r,n);return i?i.name+" "+e.name:e.name}r("SIeT"),r("h3Sa"),r("xtjI");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function F(e,t){var r=(t||{}).attributeMap,n=void 0===r?I:r;return n&&n[e]||e}function B(e,t){var r;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}Object(u.a)(Number.isFinite(t.size),"attribute "+e+" needs size")}var D=function(){},P={},E=function(){function e(e,t){void 0===t&&(t={});var r=t.id,n=void 0===r?Object(o.c)("model"):r;Object(u.a)(Object(s.d)(e)),this.id=n,this.gl=e,this.id=t.id||Object(o.c)("Model"),this.lastLogTime=0,this.initialize(t)}var t=e.prototype;return t.initialize=function(e){this.props={},this.programManager=e.programManager||a.a.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;var t=e.program,r=void 0===t?null:t,n=e.vs,s=e.fs,o=e.modules,f=e.defines,d=e.inject,h=e.varyings,c=e.bufferMode,l=e.transpileToGLSL100;this.programProps={program:r,vs:n,fs:s,modules:o,defines:f,inject:d,varyings:h,bufferMode:c,transpileToGLSL100:l},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:i.a.TRIANGLES,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},Object(u.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")},t.setProps=function(e){this._setModelProps(e)},t.delete=function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()},t.getDrawMode=function(){return this.drawMode},t.getVertexCount=function(){return this.vertexCount},t.getInstanceCount=function(){return this.instanceCount},t.getAttributes=function(){return this.attributes},t.getProgram=function(){return this.program},t.setProgram=function(e){var t=e.program,r=e.vs,n=e.fs,i=e.modules,s=e.defines,a=e.inject,o=e.varyings,u=e.bufferMode,f=e.transpileToGLSL100;this.programProps={program:t,vs:r,fs:n,modules:i,defines:s,inject:a,varyings:o,bufferMode:u,transpileToGLSL100:f},this._programDirty=!0},t.getUniforms=function(){return this.uniforms},t.setDrawMode=function(e){return this.drawMode=e,this},t.setVertexCount=function(e){return Object(u.a)(Number.isFinite(e)),this.vertexCount=e,this},t.setInstanceCount=function(e){return Object(u.a)(Number.isFinite(e)),this.instanceCount=e,this},t.setGeometry=function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,r){var n={},s=t.indices;for(var a in t.attributes){var o=t.attributes[a],f=F(a,r);if("indices"===a)s=o;else if(o.constant)n[f]=o.value;else{var d=o.value,h=x({},o);delete h.value,n[f]=[new c.a(e,d),h],B(a,h)}}if(s){var l=s.value||s;Object(u.a)(l instanceof Uint16Array||l instanceof Uint32Array,'attribute array for "indices" must be of integer type');var g={size:1,isIndexed:void 0===s.isIndexed||s.isIndexed};n.indices=[new c.a(e,{data:l,target:i.a.ELEMENT_ARRAY_BUFFER}),g]}return n}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this},t.setAttributes=function(e){if(void 0===e&&(e={}),Object(o.a)(e))return this;var t={};for(var r in e){var n=e[r];t[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(t),this},t.setUniforms=function(e){return void 0===e&&(e={}),Object.assign(this.uniforms,e),this},t.getModuleUniforms=function(e){this._checkProgram();var t=this.programManager.getUniforms(this.program);return t?t(e):{}},t.updateModuleSettings=function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)},t.clear=function(e){return Object(f.a)(this.program.gl,e),this},t.draw=function(e){void 0===e&&(e={}),this._checkProgram();var t,r=e,n=r.moduleSettings,i=void 0===n?null:n,a=r.framebuffer,o=r.uniforms,u=void 0===o?{}:o,f=r.attributes,d=void 0===f?{}:f,h=r.transformFeedback,c=void 0===h?this.transformFeedback:h,l=r.parameters,g=void 0===l?{}:l,m=r.vertexArray,v=void 0===m?this.vertexArray:m;this.setAttributes(d),this.updateModuleSettings(i),this.setUniforms(u),s.f.priority>=2&&(t=this._logDrawCallStart(2));var b=this.vertexArray.getDrawParams(),p=this.props,y=p.isIndexed,_=void 0===y?b.isIndexed:y,O=p.indexType,M=void 0===O?b.indexType:O,A=p.indexOffset,j=void 0===A?b.indexOffset:A,S=p.vertexArrayInstanced;(void 0===S?b.isInstanced:S)&&!this.isInstanced&&s.f.warn("Found instanced attributes on non-instanced model",this.id)();var C=this.isInstanced,x=this.instanceCount,w=this.props,I=w.onBeforeRender,F=void 0===I?D:I,B=w.onAfterRender,E=void 0===B?D:B;F(),this.program.setUniforms(this.uniforms);var T=this.program.draw(Object.assign(P,e,{logPriority:t,uniforms:null,framebuffer:a,parameters:g,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:v,transformFeedback:c,isIndexed:_,indexType:M,isInstanced:C,instanceCount:x,offset:_?j:0}));return E(),s.f.priority>=2&&this._logDrawCallEnd(t,v,a),T},t.transform=function(e){void 0===e&&(e={});var t,r=e,n=r.discard,s=void 0===n||n,a=r.feedbackBuffers,o=r.unbindModels,u=void 0===o?[]:o,f=e.parameters;(a&&this._setFeedbackBuffers(a),s)&&(f=Object.assign({},f,((t={})[i.a.RASTERIZER_DISCARD]=s,t)));u.forEach((function(e){return e.vertexArray.unbindBuffers()}));try{this.draw(Object.assign({},e,{parameters:f}))}finally{u.forEach((function(e){return e.vertexArray.bindBuffers()}))}return this},t.render=function(e){return void 0===e&&(e={}),s.f.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()},t._setModelProps=function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)},t._checkProgram=function(e){if(void 0===e&&(e=null),this._programDirty||this.programManager.stateHash!==this._programManagerState){var t=this.programProps.program;if(t)this._managedProgram=!1;else{var r=this.programProps,n=r.vs,i=r.fs,s=r.modules,a=r.inject,o=r.defines,f=r.varyings,c=r.bufferMode,l=r.transpileToGLSL100;t=this.programManager.get({vs:n,fs:i,modules:s,inject:a,defines:o,varyings:f,bufferMode:c,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}Object(u.a)(t instanceof d.a,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new h.a(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}},t._deleteGeometryBuffers=function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof c.a&&t.delete()}},t._setAnimationProps=function(e){if(this.animated){Object(u.a)(e,"Model.draw(): animated uniforms but no animationProps");var t=this._evaluateAnimateUniforms(e);Object.assign(this.uniforms,t)}},t._setFeedbackBuffers=function(e){if(void 0===e&&(e={}),Object(o.a)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new l.a(t,{program:this.program}),this.transformFeedback.setBuffers(e),this},t._logDrawCallStart=function(e){var t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),s.f.group(2,">>> DRAWING MODEL "+this.id,{collapsed:s.f.level<=2})(),e},t._logDrawCallEnd=function(e,t,r,n){if(void 0!==e){var i=function(e){var t=void 0===e?{}:e,r=t.vertexArray,n=t.header,i=void 0===n?"Attributes":n;if(!r.configuration)return{};var s={};r.elements&&(s.ELEMENT_ARRAY_BUFFER=b(r,r.elements,null,i));var a=r.values;for(var o in a){var u=r._getAttributeInfo(o);if(u){var f=o+": "+u.name,d=r.accessors[u.location];d&&(f=o+": "+p(u.name,d)),s[f]=b(r,a[o],d,i)}}return s}({vertexArray:t,header:this.id+" attributes",attributes:this._attributes}),a=O({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),o=a.table,u=a.unusedTable,f=a.unusedCount,d=O({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),h=d.table;d.count>0&&s.f.log("MISSING UNIFORMS",Object.keys(h))(),f>0&&s.f.log("UNUSED UNIFORMS",Object.keys(u))();var c=function(e){for(var t,r={},n="Accessors for "+e.id,i=A(e.attributeInfos);!(t=i()).done;){var s,a=t.value;if(a)r["in "+S(a)]=((s={})[n]=JSON.stringify(a.accessor),s)}for(var o,u=A(e.varyingInfos);!(o=u()).done;){var f,d=o.value;if(d)r["out "+S(d)]=((f={})[n]=JSON.stringify(d.accessor),f)}return r}(this.vertexArray.configuration);s.f.table(e,i)(),s.f.table(e,o)(),s.f.table(e+1,c)(),n&&n.log({logLevel:2,message:"Rendered to "+n.id}),s.f.groupEnd(2,">>> DRAWING MODEL "+this.id)()}},e}()}}]);