(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{10:function(e,t){},11:function(e,t){},12:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},"75fp":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("ZiRl"),n("YBKJ"),n("Dq+y"),n("xJgp"),n("YbXK"),n("cFtU"),n("pJf4"),n("q8oJ"),n("8npG"),n("rzGZ"),n("m210"),n("4DPX");function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=1,o=1,s=function(){function e(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}var t=e.prototype;return t.addChannel=function(e){var t=e.delay,n=void 0===t?0:t,r=e.duration,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.rate,s=void 0===o?1:o,u=e.repeat,c=a++,f={time:0,delay:n,duration:i,rate:s,repeat:void 0===u?1:u};return this._setChannelTime(f,this.time),this.channels.set(c,f),c},t.removeChannel=function(e){this.channels.delete(e);for(var t,n=r(this.animations);!(t=n()).done;){var i=t.value,a=i[0];i[1].channel===e&&this.detachAnimation(a)}},t.isFinished=function(e){var t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat},t.getTime=function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time},t.setTime=function(e){this.time=Math.max(0,e);for(var t,n=r(this.channels.values());!(t=n()).done;){var i=t.value;this._setChannelTime(i,this.time)}for(var a,o=r(this.animations.values());!(a=o()).done;){var s=a.value,u=s.animation,c=s.channel;u.setTime(this.getTime(c))}},t.play=function(){this.playing=!0},t.pause=function(){this.playing=!1,this.lastEngineTime=-1},t.reset=function(){this.setTime(0)},t.attachAnimation=function(e,t){var n=o++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n},t.detachAnimation=function(e){this.animations.delete(e)},t.update=function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)},t._setChannelTime=function(e,t){var n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)},e}()},8:function(e,t){},9:function(e,t){},ItzM:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));n("Ll4R");var i=n("U8pU"),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=a.global||a.self||a.window,s="object"!==(void 0===r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u="function"==typeof importScripts,c=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/);c&&parseFloat(c[1])}).call(this,n("yLpj"),n("8oxB"))},JDJB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Pa}));var r={};n.r(r),n.d(r,"decode",(function(){return Kn})),n.d(r,"encode",(function(){return Yn}));var i={};n.r(i),n.d(i,"decode",(function(){return ir})),n.d(i,"encode",(function(){return ar}));var a={};n.r(a),n.d(a,"decode",(function(){return ur})),n.d(a,"encode",(function(){return cr}));var o={};n.r(o),n.d(o,"decode",(function(){return pr})),n.d(o,"encode",(function(){return dr}));var s=n("q1tI"),u=n.n(s),c=n("z0FI"),f=(n("YbXK"),n("cFtU"),n("pJf4"),n("HQhv"),n("E5k/"),n("6kNP"),n("xtjI"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi"),n("o0o1")),l=n.n(f);n("wcNg"),n("MIFh");function p(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){p(a,r,i,o,s,"next",e)}function s(e){p(a,r,i,o,s,"throw",e)}o(void 0)}))}}n("YBKJ"),n("AqHK");function h(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2.2.0";h(e,"no loader provided");var n=e.version;t&&n&&(t=v(t),n=v(n))}function v(e){var t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}n("R48M"),n("+ar0"),n("JHok"),n("OeI1");var m=n("rePB");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,n=e.options&&e.options[e.id];return t=t||n&&n.workerUrl}function _(e){var t;return h(e,"null loader"),h(w(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=y(y({},e=e[0]),{},{options:y(y({},e.options),t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),h(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}var x=n("U8pU"),A=(n("n7j8"),n("1OyB")),O=n("vuIU"),E=function(){function e(){Object(A.a)(this,e)}return Object(O.a)(e,[{key:"log",value:function(){return function(e){}}},{key:"info",value:function(){return function(e){}}},{key:"warn",value:function(){return function(e){}}},{key:"error",value:function(){return function(e){}}}]),e}(),S={CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new(function(){function e(){Object(A.a)(this,e),this.console=console}return Object(O.a)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.log).bind.apply(e,[this.console].concat(n))}},{key:"info",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.info).bind.apply(e,[this.console].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.warn).bind.apply(e,[this.console].concat(n))}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.console.error).bind.apply(e,[this.console].concat(n))}}]),e}()),dataType:"arraybuffer",metadata:!1};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){return e&&"object"===Object(x.a)(e)&&e.constructor==={}.constructor},I=j({},S);function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return L(e,t,r),P(e,t,n)}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console;if(n)for(var i in t)"object"===Object(x.a)(t[i])||n[i]||r.warn("Top-level loader option ".concat(i," not recognized"));var a=t&&t[e.id]||{},o=e.options&&e.options[e.id]||{},s=e.defaultOptions&&e.defaultOptions[e.id]||{};for(var u in a)u in o||(u in s?r.warn("".concat(e.name," loader option ").concat(e.id,".").concat(u," deprecated, use ").concat(s[u])):r.warn("".concat(e.name," loader option ").concat(e.id,".").concat(u," not recognized")))}function P(e,t,n){var r=j({},e.options||{});return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new E),M(r,I),M(r,t),r}function M(e,t){for(var n in t)if(n in t){var r=t[n];k(r)&&k(e[n])?e[n]=j(j({},e[n]),t[n]):e[n]=t[n]}}n("m210"),n("sC2a");var C=function(e){return"boolean"==typeof e},B=function(e){return"function"==typeof e},U=function(e){return null!==e&&"object"===Object(x.a)(e)},D=function(e){return e&&"function"==typeof e[Symbol.iterator]},N=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]},F=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},V=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},G=function(e){return function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||U(e)&&B(e.tee)&&B(e.cancel)&&B(e.getReader)}(e)||function(e){return U(e)&&B(e.read)&&B(e.pipe)&&C(e.readable)}(e)},H=l.a.mark(X);function X(e){var t,n,r,i,a,o,s,u=arguments;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.chunkSize,r=void 0===n?262144:n,i=0,a=new TextEncoder;case 4:if(!(i<e.length)){c.next=12;break}return o=Math.min(e.length-i,r),s=e.slice(i,i+o),i+=o,c.next=10,a.encode(s);case 10:c.next=4;break;case 12:case"end":return c.stop()}}),H)}n("CtJk");var z=l.a.mark(W);function W(e){var t,n,r,i,a,o,s,u=arguments;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=u.length>1&&void 0!==u[1]?u[1]:{},n=t.chunkSize,r=void 0===n?262144:n,i=0;case 3:if(!(i<e.byteLength)){c.next=14;break}return a=Math.min(e.byteLength-i,r),o=new ArrayBuffer(a),s=new Uint8Array(e,i,a),new Uint8Array(o).set(s),i+=a,c.next=12,o;case 12:c.next=3;break;case 14:case"end":return c.stop()}}),z)}function q(e){this.wrapped=e}function K(e){return new q(e)}function J(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof q;Promise.resolve(s?o.wrapped:o).then((function(e){s?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function Y(e){return function(){return new J(e.apply(this,arguments))}}"function"==typeof Symbol&&Symbol.asyncIterator&&(J.prototype[Symbol.asyncIterator]=function(){return this}),J.prototype.next=function(e){return this._invoke("next",e)},J.prototype.throw=function(e){return this._invoke("throw",e)},J.prototype.return=function(e){return this._invoke("return",e)};function Q(e){return $.apply(this,arguments)}function $(){return($=Y(l.a.mark((function e(t){var n,r,i,a,o,s,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:{},r=n.chunkSize||1048576,i=0;case 3:if(!(i<t.size)){e.next=14;break}return a=i+r,o=t.slice(i,a),e.next=8,K(Z(o));case 8:return s=e.sent,i=a,e.next=12,s;case 12:e.next=3;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=d(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=new FileReader;r.onloadend=function(t){return e(t.target.result)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=n("nGEl");function ne(e){if(te.a||te.b>=10){if("function"==typeof e[Symbol.asyncIterator])return e;if("function"==typeof e.getIterator)return e.getIterator()}return te.a?function(e){return re.apply(this,arguments)}(e):function(e){return ie.apply(this,arguments)}(e)}function re(){return(re=Y(l.a.mark((function e(t){var n,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=5,K(n.read());case 5:if(r=e.sent,i=r.done,a=r.value,!i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,a;case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n.releaseLock();case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function ie(){return(ie=Y(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:t=e.sent;case 3:if(null===(n=t.read())){e.next=9;break}return e.next=8,n;case 8:return e.abrupt("continue",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,K(ae(t));case 13:e.next=3;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=d(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.once("readable",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?X(e,t):e instanceof ArrayBuffer?W(e,t):V(e)?Q(e,t):G(e)?ne(e):F(e)?ne(e.body):h(!1)}function ue(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function ce(e,t){var n=e instanceof ArrayBuffer?new Uint8Array(e):e,r=t instanceof ArrayBuffer?new Uint8Array(t):t,i=new Uint8Array(n.byteLength+r.byteLength);return i.set(n,0),i.set(r,n.byteLength),i}function fe(e){return le.apply(this,arguments)}function le(){return(le=d(l.a.mark((function e(t){var n,r,i,a,o,s,u,c,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new ArrayBuffer(0),r="",i=!0,a=!1,e.prev=4,s=ue(t);case 6:return e.next=8,s.next();case 8:return u=e.sent,i=u.done,e.next=12,u.value;case 12:if(c=e.sent,i){e.next=19;break}"string"==typeof(f=c)?r+=f:n=ce(n,f);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),a=!0,o=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!a){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt("return",r||n);case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}var pe=function(){function e(t,n){Object(A.a)(this,e),this._fileOrBlob=t,this.bodyUsed=!1}var t,n,r;return Object(O.a)(e,[{key:"arrayBuffer",value:(r=d(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),n=t.reader,r=t.promise,n.readAsArrayBuffer(this._fileOrBlob),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"text",value:(n=d(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),n=t.reader,r=t.promise,n.readAsText(this._fileOrBlob),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"json",value:(t=d(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_getFileReader",value:function(){h(!this.bodyUsed),this.bodyUsed=!0;var e=new FileReader,t=new Promise((function(t,n){try{e.onerror=function(e){return n(new Error("Read error"))},e.onabort=function(){return n(new Error("Read aborted."))},e.onload=function(){return t(e.result)}}catch(r){n(r)}}));return{reader:e,promise:t}}},{key:"headers",get:function(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}},{key:"ok",get:function(){return!0}},{key:"status",get:function(){return 200}},{key:"url",get:function(){return this._fileOrBlob.name||""}}]),e}();function de(e,t){return Promise.resolve(new pe(e,t))}function he(e){return ge.apply(this,arguments)}function ge(){return(ge=d(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=12;break}return n="fetch failed ".concat(t.status," ").concat(t.statusText),e.prev=2,e.next=5,t.text().slice(10);case 5:r=e.sent,n+=r,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:throw new Error(n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var ve="Cannot convert supplied data type";function me(e,t){return F(e)?t=t||e.url:V(t)&&(t=t.name),"string"==typeof t?t.replace(/\?.*/,""):t}function be(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){var n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)||(a=e)&&"object"===Object(x.a)(a)&&a.isBuffer){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var r=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+i)),r}var a;throw new Error(ve)}function ye(e,t){return we.apply(this,arguments)}function we(){return(we=d(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(t=e.sent,r=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!r){e.next=6;break}return e.abrupt("return",be(t,n));case 6:if(!V(t)){e.next=10;break}return e.next=9,de(t);case 9:t=e.sent;case 10:if(!F(t)){e.next=24;break}return i=t,e.next=14,he(i);case 14:if(!n.binary){e.next=20;break}return e.next=17,i.arrayBuffer();case 17:e.t0=e.sent,e.next=23;break;case 20:return e.next=22,i.text();case 22:e.t0=e.sent;case 23:return e.abrupt("return",e.t0);case 24:if(G(t)&&(t=se(t)),!D(t)&&!N(t)){e.next=27;break}return e.abrupt("return",fe(t));case 27:throw new Error(ve);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _e=n("KQm4"),xe=(n("TAD1"),""),Ae={};function Oe(e){for(var t in Ae)if(e.startsWith(t)){var n=Ae[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(xe).concat(e)),e}n("gu/5"),n("eoYm");function Ee(e){return Se.apply(this,arguments)}function Se(){return(Se=d(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,!t.headers.get("Content-Type").includes("application/json")){e.next=10;break}return e.t0=n,e.next=7,t.text();case 7:n=e.t0+=e.sent,e.next=11;break;case 10:n+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt("return",n);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Te(e){return je.apply(this,arguments)}function je(){return(je=d(l.a.mark((function e(t){var n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},!V(t)){e.next=3;break}return e.abrupt("return",de(t,n));case 3:return t=Oe(t),e.next=6,fetch(t,n);case 6:if((r=e.sent).ok||!n.throws){e.next=13;break}return e.t0=Error,e.next=11,Ee(r);case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n||(e=Ie({fetch:e.fetch||Te},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function Le(e,t){if(!t&&!Array.isArray(e))return e;var n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){var r=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[].concat(Object(_e.a)(n),Object(_e.a)(r)):r}return n&&n.length?n:null}n("xJgp"),n("Ll4R"),n("WevN");var Pe=new Map;function Me(e){return"try {\n  importScripts('".concat(e,"');\n} catch (error) {\n  console.error(error);\n}")}n("ToIb");function Ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=n||new Set;if(e){if(Be(e))r.add(e);else if(Be(e.buffer))r.add(e.buffer);else if(t&&"object"===Object(x.a)(e))for(var i in e)Ce(e[i],t,r)}else;return void 0===n?Array.from(r):null}function Be(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}var Ue=0;function De(e){var t=e.data;(0,e.resolve)(t)}var Ne=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"web-worker-".concat(Ue++):r,a=t.onMessage;Object(A.a)(this,e);var o=function(e){if(h("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){var t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=Me(t)}var n=Pe.get(e);if(!n){var r=new Blob([e],{type:"application/javascript"});n=URL.createObjectURL(r),Pe.set(e,n)}return n}(n,i);this.worker=new Worker(o,{name:i}),this.name=i,this.onMessage=a||De}var t;return Object(O.a)(e,[{key:"process",value:(t=d(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.worker.onmessage=function(t){return n.onMessage({worker:n.worker,data:t.data,resolve:e,reject:r})},n.worker.onerror=function(e){var t="".concat(n.name,": WorkerThread.process() failed");e.message&&(t+=" ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));var i=new Error(t);console.error(e),r(i)};var i=Ce(t);n.worker.postMessage(t,i)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),Fe=function(){function e(t){var n=t.source,r=t.name,i=void 0===r?"unnamed":r,a=t.maxConcurrency,o=void 0===a?1:a,s=t.onMessage,u=t.onDebug,c=void 0===u?function(){}:u;Object(A.a)(this,e),this.source=n,this.name=i,this.maxConcurrency=o,this.onMessage=s,this.onDebug=c,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1}var t;return Object(O.a)(e,[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"process",value:(t=d(l.a.mark((function e(t,n){var r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){r.jobQueue.push({data:t,jobName:n,resolve:e,reject:i}),r._startQueuedJob()})));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"_startQueuedJob",value:function(){var e=this;if(this.jobQueue.length){var t=this._getAvailableWorker();if(t){var n=this.jobQueue.shift();this.onDebug({message:"processing",worker:t.name,job:n.jobName,backlog:this.jobQueue.length}),t.process(n.data).then((function(e){return n.resolve(e)})).catch((function(e){return n.reject(e)})).then((function(){return e._onWorkerDone(t)}))}}}},{key:"_onWorkerDone",value:function(e){this.isDestroyed?e.destroy():(this.idleQueue.push(e),this._startQueuedJob())}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new Ne({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}(),Ve=function(){function e(t){var n=t.maxConcurrency,r=void 0===n?5:n,i=t.onMessage,a=t.onDebug,o=void 0===a?function(){}:a;Object(A.a)(this,e),this.maxConcurrency=r,this.onMessage=i,this.onDebug=o,this.workerPools=new Map}var t;return Object(O.a)(e,null,[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}]),Object(O.a)(e,[{key:"setProps",value:function(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug)}},{key:"destroy",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:"process",value:(t=d(l.a.mark((function e(t,n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getWorkerPool(t,n),e.abrupt("return",i.process(r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"_getWorkerPool",value:function(e,t){var n=this.workerPools.get(t);return n||(n=new Fe({source:e,name:t,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(t,n)),n}}]),e}(),Ge=n(11);function He(e){if(Ge.toArrayBuffer&&(e=Object(Ge.toArrayBuffer)(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return h(!1)}function Xe(e,t,n,r){if(!Ve.isSupported())return!1;var i=n&&n[e.id];return!!("local"===n.worker&&i&&i.localWorkerUrl||n.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(n))}function ze(e,t,n,r){var i=(n||{}).worker,a=n&&n[e.id]||{},o="local"===i?a.localWorkerUrl:a.workerUrl,s="url(".concat(o,")"),u=e.name,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);We||(We=new Ve({onMessage:qe}));return We.setProps(t),We}(n);n=JSON.parse(JSON.stringify(n));var f="2.2.0"!==e.version?"(core version ".concat("2.2.0",")"):"";return c.process(s,"".concat(u,"-worker@").concat(e.version).concat(f),{arraybuffer:He(t),options:n,source:"loaders.gl@".concat("2.2.0"),type:"parse"})}var We=null;function qe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=d(l.a.mark((function e(t){var n,r,i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.worker,r=t.data,i=t.resolve,a=t.reject,e.t0=r.type,e.next="done"===e.t0?4:"parse"===e.t0?6:"error"===e.t0?17:19;break;case 4:return i(r.result),e.abrupt("break",19);case 6:return e.prev=6,e.next=9,ht(r.arraybuffer,r.options,r.url);case 9:o=e.sent,n.postMessage({type:"parse-done",id:r.id,result:o},Ce(o)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),n.postMessage({type:"parse-error",id:r.id,message:e.t1.message});case 16:return e.abrupt("break",19);case 17:return a(r.message),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}n("t+I+"),n("wZFJ"),n("q8oJ"),n("C9fy");var Je=/^data:(.*?)(;|,)/,Ye=/^(.*?)(;|,)/;function Qe(e){if("string"!=typeof e)return"";var t=e.match(Je);return t?t[1]:""}var $e=/\?.*/;function Ze(e){if(F(e)){var t=function(e){if("string"!=typeof e)return"";var t=e.match(Ye);return t?t[1]:""}(e.headers.get("content-type")),n=Qe(e.url);return{url:e.url||"",type:t||n||null}}return V(e)?{url:e.url||"",type:e.type||""}:"string"==typeof e?{url:e.replace($e,""),type:Qe(e)}:{url:"",type:""}}n("v9g0");var et=[];function tt(){return et}function nt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it=/\.([^.]+)$/;function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return _(t);st(t=[].concat(Object(_e.a)(t||[]),Object(_e.a)(tt())));var i=Ze(e),a=i.url,o=i.type,s=ut(t,a||r.url);if(!(s=(s=s||ct(t,o))||ft(t,e))&&!n.nothrow)throw new Error(ot(e,a,o));return s}function ot(e,t,n){var r="No valid loader found";return e&&(r+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return dt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return dt(e,n,t)}return""}(e),'"')),t&&(r+=" for ".concat(t)),r}function st(e){var t,n=nt(e);try{for(n.s();!(t=n.n()).done;){_(t.value)}}catch(r){n.e(r)}finally{n.f()}}function ut(e,t){var n=t&&t.match(it),r=n&&n[1];return r&&function(e,t){t=t.toLowerCase();var n,r=nt(e);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,o=nt(a.extensions);try{for(o.s();!(i=o.n()).done;){if(i.value.toLowerCase()===t)return a}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e,r)}function ct(e,t){var n,r=nt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(a){r.e(a)}finally{r.f()}return null}function ft(e,t){if(!t)return null;var n,r=nt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("string"==typeof t){if(lt(t,i))return i}else if(ArrayBuffer.isView(t)){if(pt(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(pt(t,0,i))return i}}}catch(a){r.e(a)}finally{r.f()}return null}function lt(e,t){return t.testText&&t.testText(e)}function pt(e,t,n){switch(Array.isArray(n.test)?"array":Object(x.a)(n.test)){case"function":return n.test(e,n);case"string":case"array":return(Array.isArray(n.test)?n.test:[n.test]).some((function(n){return n===dt(e,t,n.length)}));default:return!1}}function dt(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function ht(e,t,n,r){return gt.apply(this,arguments)}function gt(){return(gt=d(l.a.mark((function e(t,n,r,i){var a,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||Array.isArray(n)||w(n)||(i=r,r=n,n=null),a="","string"==typeof i&&(a=i,i=null),r=r||{},o=me(t,a),s=Le(n,i),u=at(t,s,r,{url:o})){e.next=9;break}return e.abrupt("return",null);case 9:return r=R(u,r,o),i=Re({url:o,parse:ht,loaders:s},r,i),e.next=13,vt(u,t,r,i);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t,n,r){return mt.apply(this,arguments)}function mt(){return(mt=d(l.a.mark((function e(t,n,r,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(t),e.next=3,ye(n,t);case 3:if(n=e.sent,!t.parseTextSync||"string"!=typeof n){e.next=7;break}return r.dataType="text",e.abrupt("return",t.parseTextSync(n,r,i,t));case 7:if(!Xe(t,0,r)){e.next=11;break}return e.next=10,ze(t,n,r);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parse){e.next=15;break}return e.next=14,t.parse(n,r,i,t);case 14:return e.abrupt("return",e.sent);case 15:return h(!t.parseSync),e.abrupt("return",h(!1));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("9ZhD"),n("n0hJ");function bt(e,t){if(!e)throw new Error(t)}var yt=n("mgqj"),wt=yt.a._parseImageNode,_t="undefined"!=typeof Image,xt="undefined"!=typeof ImageBitmap,At=Boolean(wt),Ot=!!yt.b||At;function Et(e){var t=Tt(e);if(!t)throw new Error("Not an image");return t}function St(e){switch(Et(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:return bt(!1)}}function Tt(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===Object(x.a)(e)&&e.data&&e.width&&e.height?"data":null}var jt=/^data:image\/svg\+xml/,kt=/\.svg((\?|#).*)?$/;function It(e){return e&&(jt.test(e)||kt.test(e))}function Rt(e,t){if(It(t)){var n=(new TextDecoder).decode(e);return"data:image/svg+xml;base64,".concat(btoa(n))}return Lt(e,t)}function Lt(e,t){if(It(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}function Pt(e,t,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=d(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rt(t,r),a=self.URL||self.webkitURL,o="string"!=typeof i&&a.createObjectURL(i),e.prev=3,e.next=6,Ct(o||i,n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,o&&a.revokeObjectURL(o),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function Ct(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=d(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new Image).src=t,!(n.image&&n.image.decode&&r.decode)){e.next=6;break}return e.next=5,r.decode();case 5:return e.abrupt("return",r);case 6:return e.next=8,new Promise((function(e,n){try{r.onload=function(){return e(r)},r.onerror=function(e){return n(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(i){n(i)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ut={},Dt=!0;function Nt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=d(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!It(r)){e.next=7;break}return e.next=3,Pt(t,n,r);case 3:a=e.sent,i=a,e.next=8;break;case 7:i=Lt(t,r);case 8:return o=n&&n.imagebitmap,e.next=11,Vt(i,o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=d(l.a.mark((function e(t){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ht(n=r.length>1&&void 0!==r[1]?r[1]:null)&&Dt||(n=null),!n){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,n);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),Dt=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ht(e){for(var t in e||Ut)return!0;return!1}function Xt(e){var t=zt(e);return function(e){var t=zt(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=zt(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var n=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var n=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:n}}(),r=n.tableMarkers,i=n.sofMarkers,a=2;for(;a+9<t.byteLength;){var o=t.getUint16(a,!1);if(i.has(o))return{mimeType:"image/jpeg",height:t.getUint16(a+5,!1),width:t.getUint16(a+7,!1)};if(!r.has(o))return null;a+=2,a+=t.getUint16(a,!1)}return null}(t)||function(e){var t=zt(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||function(e){var t=zt(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength))return null;return{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}}(t)}function zt(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}function Wt(e,t){var n=(Xt(e)||{}).mimeType,r=yt.a._parseImageNode;return bt(r),r(e,n,t)}function qt(e,t,n){return Kt.apply(this,arguments)}function Kt(){return(Kt=d(l.a.mark((function e(t,n,r){var i,a,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=n||{}).image||{},a=i.type||"auto",o=(r||{}).url,s=Jt(a),e.t0=s,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,Nt(t,n,o);case 10:return u=e.sent,e.abrupt("break",21);case 12:return e.next=14,Pt(t,n,o);case 14:return u=e.sent,e.abrupt("break",21);case 16:return e.next=18,Wt(t,n);case 18:return u=e.sent,e.abrupt("break",21);case 20:bt(!1);case 21:return"data"===a&&(u=St(u)),e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){switch(e){case"auto":case"data":return function(){if(xt)return"imagebitmap";if(_t)return"image";if(Ot)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return xt||_t||Ot;case"imagebitmap":return xt;case"image":return _t;case"data":return Ot;case"html":return _t;case"ndarray":return Ot;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}var Yt={id:"image",name:"Images",version:"2.2.0",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vndmicrosofticon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:qt,test:function(e){return Boolean(Xt(new DataView(e)))},options:{image:{type:"auto",decode:!0}}};function Qt(e,t,n){if(e.byteLength<=t+n)return"";for(var r=new DataView(e),i="",a=0;a<n;a++)i+=String.fromCharCode(r.getUint8(t+a));return i}function $t(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Qt(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var n=0;return Qt(e,n,t)}return""}(e),'"'))}}function Zt(e){return e+3&-4}function en(e,t,n){var r=n?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}function tn(e,t,n){var r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{var i=e.byteOffset,a=e.byteLength;r=new Uint8Array(e.buffer,i,a)}return t.set(r,n),n+Zt(r.byteLength)}function nn(e,t){if(!e)throw new Error(t||"assert failed: gltf")}n("lFjb");function rn(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;var n=t.baseUri||t.uri;if(!n)throw new Error("'baseUri' must be provided to resolve relative url ".concat(e));return n.substr(0,n.lastIndexOf("/")+1)+e}function an(e,t,n){var r=e.bufferViews[n];nn(r);var i=t[r.buffer];nn(i);var a=(r.byteOffset||0)+i.byteOffset;return new Uint8Array(i.arrayBuffer,a,r.byteLength)}var on=n("ODXe"),sn=n("ItzM"),un=n(12);var cn,fn={};function ln(e){return pn.apply(this,arguments)}function pn(){return(pn=d(l.a.mark((function e(t){var n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r=i.length>2&&void 0!==i[2]?i[2]:{},n&&(t=dn(t,n,r)),fn[t]=fn[t]||hn(t),e.next=6,fn[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(e,t,n){var r=n.modules||{};return r[e]?r[e]:sn.b?n.CDN?(function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}(n.CDN.startsWith("http")),"".concat(n.CDN,"/").concat(t,"@").concat("2.2.5","/dist/libs/").concat(e)):sn.c?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function hn(e){return gn.apply(this,arguments)}function gn(){return(gn=d(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(sn.b){e.next=9;break}return e.abrupt("return",Object(un.requireFromFile)(t));case 9:if(!sn.c){e.next=11;break}return e.abrupt("return",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return r=e.sent,e.next=16,r.text();case 16:return i=e.sent,e.abrupt("return",vn(i,t));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){if(!sn.b)return Object(un.requireFromString)(e,t);if(sn.c)return eval.call(sn.a,e),null;var n=document.createElement("script");n.id=t;try{n.appendChild(document.createTextNode(e))}catch(r){n.text=e}return document.body.appendChild(n),null}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e){return wn.apply(this,arguments)}function wn(){return(wn=d(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.modules||{}).draco3d){e.next=3;break}return e.abrupt("return",{draco:n.draco3d.createDecoderModule()});case 3:return cn=cn||_n(t),e.next=6,cn;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e){return xn.apply(this,arguments)}function xn(){return(xn=d(l.a.mark((function e(t){var n,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,ln("draco_decoder.js","draco",t);case 5:return n=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,ln("draco_wasm_wrapper.js","draco",t);case 10:return e.t2=e.sent,e.next=13,ln("draco_decoder.wasm","draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:i=e.sent,a=Object(on.a)(i,2),n=a[0],r=a[1];case 21:return n=n||sn.a.DracoDecoderModule,e.next=24,An(n,r);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t){var n={};return t&&(n.wasmBinary=t),new Promise((function(t){e(bn(bn({},n),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}n("5irr"),n("SIeT"),n("6nXr"),n("h3Sa"),n("AItV"),n("88iX");function On(e){if(!e||!e.POSITION)return null;var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=e.POSITION.value,u=s&&s.length;if(!u)return null;for(var c=0;c<u;c+=3){var f=s[c],l=s[c+1],p=s[c+2];t=f<t?f:t,n=l<n?l:n,r=p<r?p:r,i=f>i?f:i,a=l>a?l:a,o=p>o?p:o}return[[t,n,r],[i,a,o]]}var En=0,Sn=1,Tn={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},jn={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},kn=function(){function e(t){Object(A.a)(this,e),this.draco=t,this.drawMode="TRIANGLE"}return Object(O.a)(e,[{key:"destroy",value:function(){}},{key:"destroyGeometry",value:function(e){e&&this.draco.destroy(e.dracoGeometry)}},{key:"parseSync",value:function(e,t){var n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength);var r,i,a,o=new this.draco.Decoder,s={};try{var u=o.GetEncodedGeometryType(n);switch(u){case this.draco.TRIANGULAR_MESH:i=new this.draco.Mesh,r=o.DecodeBufferToMesh(n,i),a={type:En,faceCount:i.num_faces(),attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;case this.draco.POINT_CLOUD:i=new this.draco.PointCloud,r=o.DecodeBufferToPointCloud(n,i),a={type:Sn,attributeCount:i.num_attributes(),vertexCount:i.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!r.ok()||!i.ptr){var c="DRACO decompression failed: ".concat(r.error_msg());throw i&&this.draco.destroy(i),new Error(c)}s.loaderData={header:a},this.extractDRACOGeometry(o,i,u,s),s.header={vertexCount:a.vertexCount,boundingBox:On(s.attributes)}}finally{this.draco.destroy(o),this.draco.destroy(n)}return s}},{key:"extractDRACOGeometry",value:function(e,t,n,r){var i=this.getAttributes(e,t),a=i.POSITION;if(!a)throw new Error("DRACO decompressor: No position attribute found.");return this.getPositionAttributeMetadata(a),n===this.draco.TRIANGULAR_MESH?(i.indices="TRIANGLE_STRIP"===this.drawMode?this.getMeshStripIndices(e,t):this.getMeshFaceIndices(e,t),r.mode="TRIANGLE_STRIP"===this.drawMode?5:4):r.mode=0,i.indices&&(r.indices={value:i.indices,size:1},delete i.indices),r.attributes=i,r}},{key:"getPositionAttributeMetadata",value:function(e){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var t=new this.draco.AttributeQuantizationTransform;if(t.InitFromAttribute(e)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=t.range(),this.metadata.attributes.position.numQuantizationBits=t.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var n=0;n<3;++n)this.metadata.attributes.position.minValues[n]=t.min_value(n)}this.draco.destroy(t)}},{key:"getAttributes",value:function(e,t){var n={},r=t.num_points();for(var i in Tn){var a=this.draco[i],o=e.GetAttributeId(t,a);if(-1!==o){var s=e.GetAttribute(t,o),u=this.getAttributeTypedArray(e,t,s,i).typedArray;n[Tn[i]]={value:u,size:u.length/r}}}return n}},{key:"getMeshFaceIndices",value:function(e,t){for(var n=t.num_faces(),r=new Uint32Array(3*n),i=new this.draco.DracoInt32Array,a=0;a<n;++a){e.GetFaceFromMesh(t,a,i);var o=3*a;r[o]=i.GetValue(0),r[o+1]=i.GetValue(1),r[o+2]=i.GetValue(2)}return this.draco.destroy(i),r}},{key:"getMeshStripIndices",value:function(e,t){var n=new this.draco.DracoInt32Array;e.GetTriangleStripsFromMesh(t,n);for(var r=new Uint32Array(n.size()),i=0;i<n.size();++i)r[i]=n.GetValue(i);return this.draco.destroy(n),r}},{key:"getAttributeTypedArray",value:function(e,t,n,r){if(0===n.ptr){var i="DRACO decode bad attribute ".concat(r);throw new Error(i)}var a,o,s=jn[n.data_type()],u=n.num_components(),c=t.num_points()*u;switch(s){case Float32Array:a=new this.draco.DracoFloat32Array,e.GetAttributeFloatForAllPoints(t,n,a),o=new Float32Array(c);break;case Int8Array:a=new this.draco.DracoInt8Array,e.GetAttributeInt8ForAllPoints(t,n,a),o=new Int8Array(c);break;case Int16Array:a=new this.draco.DracoInt16Array,e.GetAttributeInt16ForAllPoints(t,n,a),o=new Int16Array(c);break;case Int32Array:a=new this.draco.DracoInt32Array,e.GetAttributeInt32ForAllPoints(t,n,a),o=new Int32Array(c);break;case Uint8Array:a=new this.draco.DracoUInt8Array,e.GetAttributeUInt8ForAllPoints(t,n,a),o=new Uint8Array(c);break;case Uint16Array:a=new this.draco.DracoUInt16Array,e.GetAttributeUInt16ForAllPoints(t,n,a),o=new Uint16Array(c);break;case Uint32Array:a=new this.draco.DracoUInt32Array,e.GetAttributeUInt32ForAllPoints(t,n,a),o=new Uint32Array(c);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var f=0;f<c;f++)o[f]=a.GetValue(f);return this.draco.destroy(a),{typedArray:o,components:u}}},{key:"decode",value:function(e,t){return this.parseSync(e,t)}}]),e}();function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ln=Rn(Rn({},{id:"draco",name:"Draco",version:"2.2.5",extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,test:"DRACO",options:{draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":Object(x.a)(WebAssembly))?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@".concat("2.2.5","/dist/draco-loader.worker.js"),localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js"}}}),{},{parse:function(e,t,n,r){return Pn.apply(this,arguments)}});function Pn(){return(Pn=d(l.a.mark((function e(t,n,r,i){var a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn(n);case 2:return a=e.sent,o=a.draco,s=new kn(o),e.prev=5,e.abrupt("return",s.parseSync(t));case 7:return e.prev=7,s.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}n("sc67");var Mn=["SCALAR","VEC2","VEC3","VEC4"],Cn=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),Bn={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Un={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},Dn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Nn(e){return Mn[e-1]||Mn[0]}function Fn(e){var t=Cn.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function Vn(e,t){var n=Dn[e.componentType],r=Bn[e.type],i=Un[e.componentType],a=e.count*r,o=e.count*r*i;return nn(o>=0&&o<=t.byteLength),{ArrayType:n,length:a,byteLength:o}}var Gn=function(){function e(t){if(Object(A.a)(this,e),t instanceof e)return t;t||(t={json:{version:2,buffers:[]},buffers:[]}),this.gltf=t,nn(this.gltf.json)}return Object(O.a)(e,[{key:"getApplicationData",value:function(e){return this.json[e]}},{key:"getExtraData",value:function(e){return(this.json.extras||{})[e]}},{key:"getExtension",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),n=this.json.extensions||{};return t?n[e]||!0:null}},{key:"getRequiredExtension",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:"getRequiredExtensions",value:function(){return this.json.extensionsRequired||[]}},{key:"getUsedExtensions",value:function(){return this.json.extensionsUsed||[]}},{key:"getObjectExtension",value:function(e,t){return(e.extensions||{})[t]}},{key:"getScene",value:function(e){return this.getObject("scenes",e)}},{key:"getNode",value:function(e){return this.getObject("nodes",e)}},{key:"getSkin",value:function(e){return this.getObject("skins",e)}},{key:"getMesh",value:function(e){return this.getObject("meshes",e)}},{key:"getMaterial",value:function(e){return this.getObject("materials",e)}},{key:"getAccessor",value:function(e){return this.getObject("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this.getObject("textures",e)}},{key:"getSampler",value:function(e){return this.getObject("samplers",e)}},{key:"getImage",value:function(e){return this.getObject("images",e)}},{key:"getBufferView",value:function(e){return this.getObject("bufferViews",e)}},{key:"getBuffer",value:function(e){return this.getObject("buffers",e)}},{key:"getObject",value:function(e,t){if("object"===Object(x.a)(t))return t;var n=this.json[e]&&this.json[e][t];if(!n)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return n}},{key:"getTypedArrayForBufferView",value:function(e){var t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];nn(n);var r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}},{key:"getTypedArrayForAccessor",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=Vn(e,t),i=r.ArrayType,a=r.length;return new i(n,t.byteOffset+e.byteOffset,a)}},{key:"getTypedArrayForImageData",value:function(e){e=this.getAccessor(e);var t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}},{key:"addApplicationData",value:function(e,t){return this.json[e]=t,this}},{key:"addExtraData",value:function(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}},{key:"addObjectExtension",value:function(e,t,n){return nn(n),e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}},{key:"removeObjectExtension",value:function(e,t){return delete(e.extensions||{})[t],this}},{key:"addExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nn(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}},{key:"addRequiredExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nn(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}},{key:"registerUsedExtension",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:"registerRequiredExtension",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:"removeExtension",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:"setObjectExtension",value:function(e,t,n){(e.extensions||{})[t]=n}},{key:"addMesh",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=this._addAttributes(e),i={primitives:[{attributes:r,indices:t,mode:n}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:"addPointCloud",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:"addImage",value:function(e,t){var n;t=t||((n=Xt(e))?n.mimeType:null);var r={bufferView:this.addBufferView(e),mimeType:t};return this.json.images=this.json.images||[],this.json.images.push(r),this.json.images.length-1}},{key:"addBufferView",value:function(e){var t=e.byteLength;nn(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);var n={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=Zt(t),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(n),this.json.bufferViews.length-1}},{key:"addAccessor",value:function(e,t){var n={bufferView:e,type:Nn(t.size),componentType:t.componentType,count:t.count};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}},{key:"addBinaryBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},n=this.addBufferView(e),r={size:t.size,componentType:Fn(e),count:Math.round(e.length/t.size)};return this.addAccessor(n,Object.assign(r,t))}},{key:"createBinaryChunk",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0,i=0;i<this.sourceBuffers.length;i++){r=tn(this.sourceBuffers[i],n,r)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:"_removeStringFromArray",value:function(e,t){for(var n=!0;n;){var r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}},{key:"json",get:function(){return this.gltf.json}}]),e}();function Hn(e){var t={};for(var n in e){var r=e[n];if("indices"!==n){var i=Xn(r);t[n]=i}}return t}function Xn(e,t){var n=function(e,t){var n=e,r=1,i=0;e&&e.value&&(n=e.value,r=e.size||1);n&&(ArrayBuffer.isView(n)||(n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(n&&!(e instanceof t))return new t(e);return e}(n,Float32Array)),i=n.length/r);return{buffer:n,size:r,count:i}}(e),r=n.buffer,i=n.size;return{value:r,size:i,bufferView:null,byteOffset:0,count:n.count,type:Nn(i),componentType:Fn(r)}}var zn=l.a.mark(tr);function Wn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return(Jn=d(l.a.mark((function e(t,n,r){var i,a,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.gltf.decompressMeshes){e.next=2;break}return e.abrupt("return");case 2:i=new Gn(t),a=[],o=Wn(tr(i));try{for(o.s();!(s=o.n()).done;)u=s.value,i.getObjectExtension(u,"KHR_draco_mesh_compression")&&a.push(Qn(u,i,n,r))}catch(c){o.e(c)}finally{o.f()}return e.next=8,Promise.all(a);case 8:i.removeExtension("KHR_draco_mesh_compression");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Gn(e),i=Wn(r.json.meshes||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;Zn(a,n),r.addRequiredExtension("KHR_draco_mesh_compression")}}catch(o){i.e(o)}finally{i.f()}}function Qn(e,t,n,r){return $n.apply(this,arguments)}function $n(){return($n=d(l.a.mark((function e(t,n,r,i){var a,o,s,u,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getObjectExtension(t,"KHR_draco_mesh_compression"),o=n.getTypedArrayForBufferView(a.bufferView),s=en(o.buffer,o.byteOffset),u=i.parse,e.next=6,u(s,Ln,r,i);case 6:c=e.sent,t.attributes=Hn(c.attributes),c.indices&&(t.indices=Xn(c.indices)),er(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!r.DracoWriter||!r.DracoLoader)throw new Error("DracoWriter/DracoLoader not available");var a=r.DracoWriter.encodeSync({attributes:e}),o=i.parseSync,s=o({attributes:e}),u=r._addFauxAttributes(s.attributes),c=r.addBufferView(a),f={primitives:[{attributes:u,mode:n,extensions:Object(m.a)({},"KHR_draco_mesh_compression",{bufferView:c,attributes:u})}]};return f}function er(e){if(!e.attributes&&Object.keys(e.attributes).length>0)throw new Error("Empty glTF primitive detected: Draco decompression failure?")}function tr(e){var t,n,r,i,a,o;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=Wn(e.json.meshes||[]),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=Wn(r.primitives),s.prev=6,i.s();case 8:if((a=i.n()).done){s.next=14;break}return o=a.value,s.next=12,o;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),zn,null,[[1,26,29,32],[6,16,19,22]])}function nr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ir(e,t){var n=new Gn(e),r=n.json,i=n.getExtension("KHR_lights_punctual");i&&(n.json.lights=i.lights,n.removeExtension("KHR_lights_punctual"));var a,o=nr(r.nodes||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=n.getObjectExtension(s,"KHR_lights_punctual");u&&(s.light=u.light),n.removeObjectExtension(s,"KHR_lights_punctual")}}catch(c){o.e(c)}finally{o.f()}}function ar(e,t){var n=new Gn(e),r=n.json;if(r.lights){var i=n.addExtension("KHR_lights_punctual");nn(!i.lights),i.lights=r.lights,delete r.lights}if(n.json.lights){var a,o=nr(n.json.lights);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.node;n.addObjectExtension(u,"KHR_lights_punctual",s)}}catch(c){o.e(c)}finally{o.f()}delete n.json.lights}}function or(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e,t){var n=new Gn(e),r=n.json;n.removeExtension("KHR_materials_unlit");var i,a=or(r.materials||[]);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.extensions&&o.extensions.KHR_materials_unlit&&(o.unlit=!0),n.removeObjectExtension(o,"KHR_materials_unlit")}}catch(s){a.e(s)}finally{a.f()}}function cr(e,t){var n=new Gn(e),r=n.json;if(n.materials){var i,a=or(r.materials);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.unlit&&(delete o.unlit,n.addObjectExtension(o,"KHR_materials_unlit"),n.addExtension("KHR_materials_unlit"))}}catch(s){a.e(s)}finally{a.f()}}}function fr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t){var n=new Gn(e),r=n.json,i=n.getExtension("KHR_techniques_webgl");if(i){var a,o=function(e,t){var n=e.programs,r=void 0===n?[]:n,i=e.shaders,a=void 0===i?[]:i,o=e.techniques,s=void 0===o?[]:o,u=new TextDecoder;return a.forEach((function(e){if(!Number.isFinite(e.bufferView))throw new Error("KHR_techniques_webgl: no shader code");e.code=u.decode(t.getTypedArrayForBufferView(e.bufferView))})),r.forEach((function(e){e.fragmentShader=a[e.fragmentShader],e.vertexShader=a[e.vertexShader]})),s.forEach((function(e){e.program=r[e.program]})),s}(i,n),s=fr(r.materials||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.getObjectExtension(u,"KHR_techniques_webgl");c&&(u.technique=Object.assign({},c,o[c.technique]),u.technique.values=hr(u.technique,n)),n.removeObjectExtension(u,"KHR_techniques_webgl")}}catch(f){s.e(f)}finally{s.f()}n.removeExtension("KHR_techniques_webgl")}}function dr(e,t){}function hr(e,t){var n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach((function(t){e.uniforms[t].value&&!(t in n)&&(n[t]=e.uniforms[t].value)})),Object.keys(n).forEach((function(e){"object"===Object(x.a)(n[e])&&void 0!==n[e].index&&(n[e].texture=t.getTexture(n[e].index))})),n}var gr={KHR_draco_mesh_compression:r,KHR_lights_punctual:i,KHR_materials_unlit:a,KHR_techniques_webgl:o};function vr(e){return mr.apply(this,arguments)}function mr(){return(mr=d(l.a.mark((function e(t){var n,r,i,a,o,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,n.gltf=n.gltf||{},e.t0=l.a.keys(gr);case 4:if((e.t1=e.t0()).done){e.next=14;break}if(i=e.t1.value,a=n.gltf.excludeExtensions||{},i in a&&!a[i]){e.next=12;break}return o=gr[i],e.next=12,o.decode(t,n,r);case 12:e.next=4;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br;function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new DataView(e),i=n.magic,a=void 0===i?1735152710:i,o=r.getUint32(t,!1);return o===a||1735152710===o}function _r(e,t,n,r){for(;n+8<=e.header.byteLength;){var i=t.getUint32(n+0,!0),a=t.getUint32(n+4,!0);switch(n+=8,a){case 1313821514:xr(e,t,n,i,r);break;case 5130562:Ar(e,t,n,i,r);break;case 0:r.glb.strict||xr(e,t,n,i,r);break;case 1:r.glb.strict||Ar(e,t,n,i,r)}n+=Zt(i)}return n}function xr(e,t,n,r,i){var a=new Uint8Array(t.buffer,n,r),o=new TextDecoder("utf8").decode(a);e.json=JSON.parse(o)}function Ar(e,t,n,r,i){e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer})}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Tr={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},jr={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},kr={magFilter:jr.TEXTURE_MAG_FILTER,minFilter:jr.TEXTURE_MIN_FILTER,wrapS:jr.TEXTURE_WRAP_S,wrapT:jr.TEXTURE_WRAP_T},Ir=(br={},Object(m.a)(br,jr.TEXTURE_MAG_FILTER,jr.LINEAR),Object(m.a)(br,jr.TEXTURE_MIN_FILTER,jr.NEAREST_MIPMAP_LINEAR),Object(m.a)(br,jr.TEXTURE_WRAP_S,jr.REPEAT),Object(m.a)(br,jr.TEXTURE_WRAP_,jr.REPEAT),br);var Rr=function(){function e(){Object(A.a)(this,e)}return Object(O.a)(e,[{key:"postProcess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.json,r=e.buffers,i=void 0===r?[]:r,a=e.images,o=void 0===a?[]:a,s=e.baseUri,u=void 0===s?"":s;return nn(n),this.baseUri=u,this.json=n,this.buffers=i,this.images=o,this._resolveTree(this.json,t),this.json}},{key:"_resolveTree",value:function(e){var t=this;e.bufferViews&&(e.bufferViews=e.bufferViews.map((function(e,n){return t._resolveBufferView(e,n)}))),e.images&&(e.images=e.images.map((function(e,n){return t._resolveImage(e,n)}))),e.samplers&&(e.samplers=e.samplers.map((function(e,n){return t._resolveSampler(e,n)}))),e.textures&&(e.textures=e.textures.map((function(e,n){return t._resolveTexture(e,n)}))),e.accessors&&(e.accessors=e.accessors.map((function(e,n){return t._resolveAccessor(e,n)}))),e.materials&&(e.materials=e.materials.map((function(e,n){return t._resolveMaterial(e,n)}))),e.meshes&&(e.meshes=e.meshes.map((function(e,n){return t._resolveMesh(e,n)}))),e.nodes&&(e.nodes=e.nodes.map((function(e,n){return t._resolveNode(e,n)}))),e.skins&&(e.skins=e.skins.map((function(e,n){return t._resolveSkin(e,n)}))),e.scenes&&(e.scenes=e.scenes.map((function(e,n){return t._resolveScene(e,n)}))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}},{key:"getScene",value:function(e){return this._get("scenes",e)}},{key:"getNode",value:function(e){return this._get("nodes",e)}},{key:"getSkin",value:function(e){return this._get("skins",e)}},{key:"getMesh",value:function(e){return this._get("meshes",e)}},{key:"getMaterial",value:function(e){return this._get("materials",e)}},{key:"getAccessor",value:function(e){return this._get("accessors",e)}},{key:"getCamera",value:function(e){return null}},{key:"getTexture",value:function(e){return this._get("textures",e)}},{key:"getSampler",value:function(e){return this._get("samplers",e)}},{key:"getImage",value:function(e){return this._get("images",e)}},{key:"getBufferView",value:function(e){return this._get("bufferViews",e)}},{key:"getBuffer",value:function(e){return this._get("buffers",e)}},{key:"_get",value:function(e,t){if("object"===Object(x.a)(t))return t;var n=this.json[e]&&this.json[e][t];return n||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),n}},{key:"_resolveScene",value:function(e,t){var n=this;return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map((function(e){return n.getNode(e)})),e}},{key:"_resolveNode",value:function(e,t){var n=this;return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map((function(e){return n.getNode(e)}))),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}},{key:"_resolveSkin",value:function(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}},{key:"_resolveMesh",value:function(e,t){var n=this;return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map((function(e){var t=(e=Er({},e)).attributes;for(var r in e.attributes={},t)e.attributes[r]=n.getAccessor(t[r]);return void 0!==e.indices&&(e.indices=n.getAccessor(e.indices)),void 0!==e.material&&(e.material=n.getMaterial(e.material)),e}))),e}},{key:"_resolveMaterial",value:function(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture=Er({},e.normalTexture),e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture=Er({},e.occlustionTexture),e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture=Er({},e.emmisiveTexture),e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){e.pbrMetallicRoughness=Er({},e.pbrMetallicRoughness);var n=e.pbrMetallicRoughness;n.baseColorTexture&&(n.baseColorTexture=Er({},n.baseColorTexture),n.baseColorTexture.texture=this.getTexture(n.baseColorTexture.index)),n.metallicRoughnessTexture&&(n.metallicRoughnessTexture=Er({},n.metallicRoughnessTexture),n.metallicRoughnessTexture.texture=this.getTexture(n.metallicRoughnessTexture.index))}return e}},{key:"_resolveAccessor",value:function(e,t){var n,r;if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=(n=e.componentType,Tr[n]),e.components=(r=e.type,Sr[r]),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){var i=e.bufferView.buffer,a=Vn(e,e.bufferView),o=a.ArrayType,s=a.length,u=(e.bufferView.byteOffset||0)+i.byteOffset;e.value=new o(i.arrayBuffer,u,s)}return e}},{key:"_resolveTexture",value:function(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):Ir,e.source=this.getImage(e.source),e}},{key:"_resolveSampler",value:function(e,t){for(var n in e.id=e.id||"sampler-".concat(t),e.parameters={},e){var r=this._enumSamplerParameter(n);void 0!==r&&(e.parameters[r]=e[n])}return e}},{key:"_enumSamplerParameter",value:function(e){return kr[e]}},{key:"_resolveImage",value:function(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var n=this.images[t];return n&&(e.image=n),e}},{key:"_resolveBufferView",value:function(e,t){e.id=e.id||"bufferView-".concat(t);var n=e.buffer;e.buffer=this.buffers[n];var r=this.buffers[n].arrayBuffer,i=this.buffers[n].byteOffset||0;return"byteOffset"in e&&(i+=e.byteOffset),e.data=new Uint8Array(r,i,e.byteLength),e}},{key:"_resolveCamera",value:function(e,t){return e.id=e.id||"camera-".concat(t),e.perspective,e.orthographic,e}}]),e}();function Lr(e,t){return(new Rr).postProcess(e,t)}function Pr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=d(l.a.mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:0,i=c.length>3?c[3]:void 0,a=c.length>4?c[4]:void 0,Cr(t,n,r,i),o=[],i.gltf.loadImages&&(s=Dr(t,i,a),o.push(s)),!i.gltf.loadBuffers){e.next=9;break}return e.next=9,Br(t,i,a);case 9:return u=vr(t,i,a),o.push(u),e.next=13,Promise.all(o);case 13:return e.abrupt("return",i.gltf.postProcess?Lr(t,i):t);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cr(e,t,n,r){(r.uri&&(e.baseUri=r.uri),t instanceof ArrayBuffer&&!wr(t,n,r))&&(t=(new TextDecoder).decode(t));if("string"==typeof t)e.json=$t(t);else if(t instanceof ArrayBuffer){var i={};n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new DataView(t);e.type=yr(i,n+0),e.version=i.getUint32(n+4,!0);var a=i.getUint32(n+8,!0);return e.header={byteOffset:n,byteLength:a},h(2===e.version,"Invalid GLB version ".concat(e.version,". Only supports v2.")),h(e.header.byteLength>20),e.json={},e.binChunks=[],_r(e,i,n+12,r),n+e.header.byteLength}(i,t,n,r),nn("glTF"===i.type,"Invalid GLB magic string ".concat(i.type)),e._glb=i,e.json=i.json}else nn(!1,"GLTF: must be ArrayBuffer or string");var a=e.json.buffers||[];if(e.buffers=new Array(a.length).fill(null),e._glb&&e._glb.header.hasBinChunk){var o=e._glb.binChunks;e.buffers[0]={arrayBuffer:o[0].arrayBuffer,byteOffset:o[0].byteOffset,byteLength:o[0].byteLength}}var s=e.json.images||[];e.images=new Array(s.length).fill({})}function Br(e,t,n){return Ur.apply(this,arguments)}function Ur(){return(Ur=d(l.a.mark((function e(t,n,r){var i,a,o,s,u,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.json.buffers.length)){e.next=18;break}if(!(a=t.json.buffers[i]).uri){e.next=15;break}return nn(o=r.fetch),s=rn(a.uri,n),e.next=9,o(s);case 9:return u=e.sent,e.next=12,u.arrayBuffer();case 12:c=e.sent,t.buffers[i]={arrayBuffer:c,byteOffset:0,byteLength:c.byteLength},delete a.uri;case 15:++i,e.next=1;break;case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e,t,n){return Nr.apply(this,arguments)}function Nr(){return(Nr=d(l.a.mark((function e(t,n,r){var i,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.json.images||[],a=[],o=0;o<i.length;++o)a.push(Fr(t,i[o],o,n,r));return e.next=5,Promise.all(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e,t,n,r,i){return Vr.apply(this,arguments)}function Vr(){return(Vr=d(l.a.mark((function e(t,n,r,i,a){var o,s,u,c,f,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.fetch,s=a.parse,!n.uri){e.next=9;break}return c=rn(n.uri,i),e.next=5,o(c);case 5:return f=e.sent,e.next=8,f.arrayBuffer();case 8:u=e.sent;case 9:return Number.isFinite(n.bufferView)&&(p=an(t.json,t.buffers,n.bufferView),u=en(p.buffer,p.byteOffset,p.byteLength)),nn(u,"glTF image has no data"),e.next=13,s(u,Yt,{},a);case 13:d=e.sent,t.images[r]=d;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xr={id:"gltf",name:"glTF",version:"2.2.0",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,test:"glTF",parse:function(e){return Wr.apply(this,arguments)},options:{gltf:{loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},uri:"",log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}},zr=Xr;function Wr(){return(Wr=d(l.a.mark((function e(t){var n,r,i,a,o,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,(n=Hr(Hr({},Xr.options),n)).gltf=Hr(Hr({},Xr.options.gltf),n.gltf),qr(n),i=n.byteOffset,a=void 0===i?0:i,o={},e.next=9,Pr(o,t,a,n,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qr(e){"fetchImages"in e&&(e.gltf.loadImages=e.fetchImages),"createImages"in e&&(e.gltf.loadImages=e.createImages),"fetchLinkedResources"in e&&(e.gltf.fetchBuffers=e.fetchLinkedResources),"decompress"in e&&(e.gltf.decompressMeshes=e.decompress),"decompress"in e.gltf&&(e.gltf.decompressMeshes=e.gltf.decompress),"postProcess"in e&&(e.gltf.postProcess=e.postProcess)}var Kr=n("WHLF"),Jr=n("qxLR"),Yr=n(5),Qr=n(6),$r=n.n(Qr),Zr=n(7),ei=n.n(Zr),ti=n(8),ni=n.n(ti),ri=n(9),ii=n(10);!("TextEncoder"in Kr.a)&&Jr.TextEncoder&&(Kr.a.TextEncoder=Jr.TextEncoder),!("TextDecoder"in Kr.a)&&Jr.TextDecoder&&(Kr.a.TextDecoder=Jr.TextDecoder),Kr.b||"atob"in Kr.a||!Yr.atob||(Kr.a.atob=Yr.atob),Kr.b||"btoa"in Kr.a||!Yr.btoa||(Kr.a.btoa=Yr.btoa),Kr.b||"Headers"in Kr.a||!$r.a||(Kr.a.Headers=$r.a),Kr.b||"Response"in Kr.a||!ei.a||(Kr.a.Response=ei.a),Kr.b||"fetch"in Kr.a||!ni.a||(Kr.a.fetch=ni.a),Kr.b||"_encodeImageNode"in Kr.a||!ri.encodeImageNode||(Kr.a._encodeImageNode=ri.encodeImageNode),Kr.b||"_parseImageNode"in Kr.a||!ii.parseImageNode||(Kr.a._parseImageNode=ii.parseImageNode);var ai=n("73Rc"),oi=n.n(ai),si=n("75fp"),ui=n("bjw9"),ci=n("lHlH"),fi=n("JR+K"),li=n("IObG"),pi=n("1+Ew"),di=n("3LCa"),hi=n("YJ55"),gi=n("BunF"),vi=n("Iq2B"),mi=function(){function e(e){void 0===e&&(e={});var t=e.id;this.id=t||Object(gi.c)(this.constructor.name),this.display=!0,this.position=new pi.c,this.rotation=new pi.c,this.scale=new pi.c(1,1,1),this.matrix=new pi.a,this.userData={},this.props={},this._setScenegraphNodeProps(e)}var t=e.prototype;return t.delete=function(){},t.setProps=function(e){return this._setScenegraphNodeProps(e),this},t.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},t.setPosition=function(e){return Object(vi.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this},t.setRotation=function(e){return Object(vi.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this},t.setScale=function(e){return Object(vi.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this},t.setMatrix=function(e,t){void 0===t&&(t=!0),t?this.matrix.copy(e):this.matrix=e},t.setMatrixComponents=function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,a=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),a&&this.updateMatrix(),this},t.updateMatrix=function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this},t.update=function(e){var t=void 0===e?{}:e,n=t.position,r=t.rotation,i=t.scale;return n&&this.setPosition(n),r&&this.setRotation(r),i&&this.setScale(i),this.updateMatrix(),this},t.getCoordinateUniforms=function(e,t){Object(vi.a)(e),t=t||this.matrix;var n=new pi.a(e).multiplyRight(t),r=n.invert(),i=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:i}},t._setScenegraphNodeProps=function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)},e}();function bi(e){return function(e){if(Array.isArray(e))return wi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){if(e){if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _i=function(e){var t,n;function r(t){var n;void 0===t&&(t={});var r=(t=Array.isArray(t)?{children:t}:t).children,i=void 0===r?[]:r;return ci.f.assert(i.every((function(e){return e instanceof mi})),"every child must an instance of ScenegraphNode"),(n=e.call(this,t)||this).children=i,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];Array.isArray(a)?this.add.apply(this,bi(a)):this.children.push(a)}return this},i.remove=function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this},i.removeAll=function(){return this.children=[],this},i.delete=function(){this.children.forEach((function(e){return e.delete()})),this.removeAll(),e.prototype.delete.call(this)},i.traverse=function(e,t){for(var n,i=(void 0===t?{}:t).worldMatrix,a=void 0===i?new pi.a:i,o=new pi.a(a).multiplyRight(this.matrix),s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=yi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}(this.children);!(n=s()).done;){var u=n.value;u instanceof r?u.traverse(e,{worldMatrix:o}):e(u,{worldMatrix:o})}},r}(mi),xi=(n("zTTH"),{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),Ai={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Oi(e){if(!e._animation){var t=Ai[e.componentType],n=xi[e.type],r=n*e.count,i=e.bufferView.data,a=new t(i.buffer,i.byteOffset+(e.byteOffset||0),r);if(1===n)e._animation=Array.from(a);else{for(var o=[],s=0;s<a.length;s+=n)o.push(Array.from(a.slice(s,s+n)));e._animation=o}}return e._animation}var Ei=new pi.a;var Si=new pi.b;function Ti(e,t,n,r){var i=t.input,a=t.interpolation,o=t.output,s=e%i[i.length-1],u=i.findIndex((function(e){return e>=s})),c=Math.max(0,u-1);if(!Array.isArray(n[r]))switch(r){case"translation":n[r]=[0,0,0];break;case"rotation":n[r]=[0,0,0,1];break;case"scale":n[r]=[1,1,1];break;default:ci.f.warn("Bad animation path "+r)()}Object(vi.a)(n[r].length===o[c].length);var f=i[c],l=i[u];switch(a){case"STEP":!function(e,t,n){for(var r=0;r<n.length;r++)e[t][r]=n[r]}(n,r,o[c]);break;case"LINEAR":if(l>f){var p=(s-f)/(l-f);!function(e,t,n,r,i){if("rotation"===t){Si.slerp({start:n,target:r,ratio:i});for(var a=0;a<Si.length;a++)e[t][a]=Si[a]}else for(var o=0;o<n.length;o++)e[t][o]=i*r[o]+(1-i)*n[o]}(n,r,o[c],o[u],p)}break;case"CUBICSPLINE":if(l>f){var d=(s-f)/(l-f),h=l-f;!function(e,t,n){for(var r=n.p0,i=n.outTangent0,a=n.inTangent1,o=n.p1,s=n.tDiff,u=n.ratio,c=0;c<e[t].length;c++){var f=i[c]*s,l=a[c]*s;e[t][c]=(2*Math.pow(u,3)-3*Math.pow(u,2)+1)*r[c]+(Math.pow(u,3)-2*Math.pow(u,2)+u)*f+(-2*Math.pow(u,3)+3*Math.pow(u,2))*o[c]+(Math.pow(u,3)-Math.pow(u,2))*l}}(n,r,{p0:o[3*c+1],outTangent0:o[3*c+2],inTangent1:o[3*u+0],p1:o[3*u+1],tDiff:h,ratio:d})}break;default:ci.f.warn("Interpolation "+a+" not supported")()}}var ji=function(){function e(e){this.startTime=0,this.playing=!0,this.speed=1,Object.assign(this,e)}return e.prototype.animate=function(e){if(this.playing){var t=(e/1e3-this.startTime)*this.speed;this.channels.forEach((function(e){var n=e.sampler,r=e.target,i=e.path;Ti(t,n,r,i),function(e,t){if(t.matrix.identity(),e.translation&&t.matrix.translate(e.translation),e.rotation){var n=Ei.fromQuaternion(e.rotation);t.matrix.multiplyRight(n)}e.scale&&t.matrix.scale(e.scale)}(r,r._node)}))}},e}(),ki=function(){function e(e){this.animations=e.animations.map((function(t,n){var r=t.name||"Animation-"+n,i=t.samplers.map((function(t){var n=t.input,r=t.interpolation,i=void 0===r?"LINEAR":r,a=t.output;return{input:Oi(e.accessors[n]),interpolation:i,output:Oi(e.accessors[a])}})),a=t.channels.map((function(t){var n=t.sampler,r=t.target;return{sampler:i[n],target:e.nodes[r.node],path:r.path}}));return new ji({name:r,channels:a})}))}var t=e.prototype;return t.animate=function(e){this.setTime(e)},t.setTime=function(e){this.animations.forEach((function(t){return t.animate(e)}))},t.getAnimations=function(){return this.animations},e}(),Ii=(n("cxuS"),{name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else // HAS_TANGENTS != 1\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if (__VERSION__ < 300)\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n// WebGL 1.0 does not support non-constant in for loops\n// This provides an easy way to handle these cases\n// and still take advantage of WebGL 2.0\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n  float NdotL;                  // cos angle between normal and light direction\n  float NdotV;                  // cos angle between normal and view direction\n  float NdotH;                  // cos angle between normal and half vector\n  float LdotH;                  // cos angle between light direction and half vector\n  float VdotH;                  // cos angle between view direction and half vector\n  float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n  float metalness;              // metallic value at the surface\n  vec3 reflectance0;            // full reflectance color (normal incidence angle)\n  vec3 reflectance90;           // reflectance color at grazing angle\n  float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n  vec3 diffuseColor;            // color contribution from diffuse lighting\n  vec3 specularColor;           // color contribution from specular lighting\n  vec3 n;                       // normal at surface point\n  vec3 v;                       // vector from surface point to camera\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else //SRGB_FAST_APPROXIMATION\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif //SRGB_FAST_APPROXIMATION\n  return vec4(linOut,srgbIn.w);;\n#else //MANUAL_SRGB\n  return srgbIn;\n#endif //MANUAL_SRGB\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n  // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  // The tbn matrix is linearly interpolated, so we need to re-normalize\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0; // resolution of 512x512\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  // retrieve a scale and bias to F0. See [1], Figure 3\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n  // For presentation, this allows us to disable IBL terms\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across\n// the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface\n// for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes\n// from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);             // Vector from surface point to light\n  vec3 h = normalize(l+v);                        // Half vector between both l and v\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  // Calculate the shading terms for the microfacet specular shading model\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n\n  // Calculation of analytical lighting contribution\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n  // Metallic and Roughness material properties are packed together\n  // In glTF, these factors can be specified by fixed scalar values\n  // or from a metallic-roughness map\n  float perceptualRoughness = u_MetallicRoughnessValues.y;\n  float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n  // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n  // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n  vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n  perceptualRoughness = mrSample.g * perceptualRoughness;\n  metallic = mrSample.b * metallic;\n#endif\n  perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n  metallic = clamp(metallic, 0.0, 1.0);\n  // Roughness is authored as perceptual roughness; as is convention,\n  // convert to material roughness by squaring the perceptual roughness [2].\n  float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n  // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 f0 = vec3(0.04);\n  vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n  diffuseColor *= 1.0 - metallic;\n  vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n  // Compute reflectance.\n  float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n  // For typical incident reflectance range (between 4% to 100%) set the grazing\n  // reflectance to 100% for typical fresnel effect.\n  // For very low reflectance range on highly diffuse objects (below 4%),\n  // incrementally reduce grazing reflecance to 0%.\n  float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n  vec3 specularEnvironmentR0 = specularColor.rgb;\n  vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n  vec3 n = getNormal();                          // normal at surface point\n  vec3 v = normalize(u_Camera - pbr_vPosition);  // Vector from surface point to camera\n\n  float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n  vec3 reflection = -normalize(reflect(v, n));\n\n  PBRInfo pbrInputs = PBRInfo(\n    0.0, // NdotL\n    NdotV,\n    0.0, // NdotH\n    0.0, // LdotH\n    0.0, // VdotH\n    perceptualRoughness,\n    metallic,\n    specularEnvironmentR0,\n    specularEnvironmentR90,\n    alphaRoughness,\n    diffuseColor,\n    specularColor,\n    n,\n    v\n  );\n\n  vec3 color = vec3(0, 0, 0);\n\n#ifdef USE_LIGHTS\n  // Apply ambient light\n  PBRInfo_setAmbientLight(pbrInputs);\n  color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n\n  // Apply directional light\n  SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n    if (i < lighting_uDirectionalLightCount) {\n      PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n      color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n    }\n  }\n\n  // Apply point light\n  SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n    if (i < lighting_uPointLightCount) {\n      PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n      float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n      color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n    }\n  }\n#endif\n\n  // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n  color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n  // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n  float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n  color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n  vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n  color += emissive;\n#endif\n\n  // This section uses mix to override final color for reference app visualization\n  // of various parameters in the lighting equation.\n#ifdef PBR_DEBUG\n  // TODO: Figure out how to debug multiple lights\n\n  // color = mix(color, F, u_ScaleFGDSpec.x);\n  // color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n  // color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n  // color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n  // color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n  color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n  color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n  color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[n("xGy9").a]}),Ri=n("UD/Y");var Li=function(e){var t,n;function r(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,n)||this).onBeforeRender=null,r.AfterRender=null,t instanceof Ri.a?(r.model=t,r._setModelNodeProps(n)):r.model=new Ri.a(t,n),r.managedResources=n.managedResources||[],r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setProps=function(t){return e.prototype.setProps.call(this,t),this._setModelNodeProps(t),this},i.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach((function(e){return e.delete()})),this.managedResources=[]},i.draw=function(){var e;return(e=this.model).draw.apply(e,arguments)},i.setUniforms=function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this},i.setAttributes=function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this},i.updateModuleSettings=function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this},i._setModelNodeProps=function(e){this.model.setProps(e)},r}(mi),Pi=n("dTJe"),Mi=n("2aL3"),Ci=n("2urO"),Bi=function(){function e(e,t){var n=t.attributes,r=t.material,i=t.pbrDebug,a=t.imageBasedLightingEnvironment,o=t.lights,s=t.useTangents;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Object(Pi.b)(e,Mi.a.GLSL_TEXTURE_LOD)&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],a&&(this.uniforms.u_DiffuseEnvSampler=a.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=a.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=a.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),i&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(n.NORMAL,"HAS_NORMALS"),this.defineIfPresent(n.TANGENT&&s,"HAS_TANGENTS"),this.defineIfPresent(n.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(a,"USE_IBL"),this.defineIfPresent(o,"USE_LIGHTS"),this.defineIfPresent(i,"PBR_DEBUG"),r&&this.parseMaterial(r)}var t=e.prototype;return t.defineIfPresent=function(e,t){e&&(this.defines[t]=1)},t.parseTexture=function(e,t,n){var r;void 0===n&&(n=null);var i=e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},a=new Ci.a(this.gl,{id:e.name||e.id,parameters:i,pixelStore:(r={},r[this.gl.UNPACK_FLIP_Y_WEBGL]=!1,r),data:e.texture.source.image});this.uniforms[t]=a,this.defineIfPresent(n,n),this.generatedTextures.push(a)},t.parsePbrMetallicRoughness=function(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");var t=e.metallicFactor,n=void 0===t?1:t,r=e.roughnessFactor,i=void 0===r?1:r;this.uniforms.u_MetallicRoughnessValues=[n,i]},t.parseMaterial=function(e){if(e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");var t=e.normalTexture.scale,n=void 0===t?1:t;this.uniforms.u_NormalScale=n}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");var r=e.occlusionTexture.strength,i=void 0===r?1:r;this.uniforms.u_OcclusionStrength=i}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){var a=e.alphaCutoff,o=void 0===a?.5:a;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=o}else"BLEND"===e.alphaMode&&(ci.f.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))},e}();function Ui(e){return function(e){if(Array.isArray(e))return Di(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ni(e,t){return Object(ci.e)(e)?"#version 300 es\n"+t:t}var Fi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vi={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1},Gi=function(){function e(e,t){void 0===t&&(t={}),this.gl=e,this.options=Object.assign({},Vi,t)}var t=e.prototype;return t.instantiate=function(e){var t=this;return this.gltf=e,(e.scenes||[]).map((function(e){return t.createScene(e)}))},t.createAnimator=function(){return Array.isArray(this.gltf.animations)?new ki(this.gltf):null},t.createScene=function(e){var t=this,n=(e.nodes||[]).map((function(e){return t.createNode(e)}));return new _i({id:e.name||e.id,children:n})},t.createNode=function(e){var t=this;if(!e._node){var n=(e.children||[]).map((function(e){return t.createNode(e)}));e.mesh&&n.push(this.createMesh(e.mesh));var r=new _i({id:e.name||e.id,children:n});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){var i=(new pi.a).fromQuaternion(e.rotation);r.matrix.multiplyRight(i)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node},t.createMesh=function(e){var t=this;if(!e._mesh){var n=(e.primitives||[]).map((function(n,r){return t.createPrimitive(n,r,e)})),r=new _i({id:e.name||e.id,children:n});e._mesh=r}return e._mesh},t.getVertexCount=function(e){ci.f.warn("getVertexCount() not found")()},t.createPrimitive=function(e,t,n){return function(e,t){var n=t.id,r=t.drawMode,i=t.vertexCount,a=t.attributes,o=t.modelOptions,s=new Bi(e,t);ci.f.info(4,"createGLTFModel defines: ",s.defines)();var u=[];u.push.apply(u,Ui(s.generatedTextures)),u.push.apply(u,Ui(Object.values(a).map((function(e){return e.buffer}))));var c=new Li(e,Object.assign({id:n,drawMode:r,vertexCount:i,modules:[Ii],defines:s.defines,parameters:s.parameters,vs:Ni(e,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:Ni(e,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:u},o));return c.setProps({attributes:a}),c.setUniforms(s.uniforms),c}(this.gl,Object.assign({id:e.name||(n.name||n.id)+"-primitive-"+t,drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options))},t.createAttributes=function(e,t){var n=this,r={};return Object.keys(e).forEach((function(t){r[t]=n.createAccessor(e[t],n.createBuffer(e[t],n.gl.ARRAY_BUFFER))})),t&&(r.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),ci.f.info(4,"glTF Attributes",{attributes:e,indices:t,generated:r})(),r},t.createBuffer=function(e,t){e.bufferView||(e.bufferView={});var n=e.bufferView;return n.lumaBuffers||(n.lumaBuffers={}),n.lumaBuffers[t]||(n.lumaBuffers[t]=new di.a(this.gl,{id:"from-"+n.id,data:n.data||e.value,target:t})),n.lumaBuffers[t]},t.createAccessor=function(e,t){return new hi.a({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:Fi[e.type]})},t.createSampler=function(e){return e},t.needsPOT=function(){return!1},e}();function Hi(e,t,n){var r=new Gi(e,n);return{scenes:r.instantiate(t),animator:r.createAnimator()}}var Xi=n("9cyU"),zi=n("WY7U");n("QNMc");function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){var r=e;"function"==typeof e&&(r=e(qi(qi({},t),n))),bt("string"==typeof r);var i=t.baseUrl;return i&&(r="/"===i[i.length-1]?"".concat(i).concat(r):"".concat(i,"/").concat(r)),Oe(r)}var Ji=function(e){return e&&"object"===Object(x.a)(e)};function Yi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=d(l.a.mark((function e(t,n){var r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,$i(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t,n){return Zi.apply(this,arguments)}function Zi(){return(Zi=d(l.a.mark((function e(t,n,r){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,na(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:if(!Ji(t)){e.next=8;break}return e.next=7,ea(t,n,r);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,n(i,r);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t,n){return ta.apply(this,arguments)}function ta(){return(ta=d(l.a.mark((function e(t,n,r){var i,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in i=[],a={},o=function(e){var o=$i(t[e],n,r).then((function(t){a[e]=t}));i.push(o)},t)o(s);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=d(l.a.mark((function e(t,n){var r,i,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=t.map((function(e){return $i(e,n,r)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return(aa=d(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yi(t,(function(e){return oa(e,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t,n){return sa.apply(this,arguments)}function sa(){return(sa=d(l.a.mark((function e(t,n,r){var i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return a=e.sent,e.next=8,n(a,r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e){return la.apply(this,arguments)}function la(){return(la=d(l.a.mark((function e(t){var n,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,pa(t,n);case 3:return r=e.sent,e.next=6,ia(r,qt,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return da.apply(this,arguments)}function da(){return(da=d(l.a.mark((function e(t,n){var r,i,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},0===(i=n&&n.image&&n.image.mipLevels||0)){e.next=8;break}return e.next=5,ha(t,i,n,r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=Ki(t,n,r);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e,t,n,r){return ga.apply(this,arguments)}function ga(){return(ga=d(l.a.mark((function e(t,n,r,i){var a,o,s,u,c,f,p,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],"auto"!==n){e.next=9;break}return o=Ki(t,r,ca(ca({},i),{},{lod:0})),e.next=5,oa(o,qt,r);case 5:s=e.sent,u=St(s),c=u.width,f=u.height,n=va({width:c,height:f}),a.push(o);case 9:for(bt(n>0),p=a.length;p<n;++p)d=Ki(t,r,ca(ca({},i),{},{lod:p})),a.push(d);return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e){var t=e.width,n=e.height;return 1+Math.floor(Math.log2(Math.max(t,n)))}var ma,ba=function(){function e(e,t){var n=t.brdfLutUrl,r=t.getTexUrl,i=t.specularMipLevels,a=void 0===i?10:i;this.gl=e,this.brdfLutUrl=n,this.getTexUrl=r,this.specularMipLevels=a}var t=e.prototype;return t.makeCube=function(e){var t=e.id,n=e.getTextureForFace,r=e.parameters,i={};return zi.a.FACES.forEach((function(e){i[e]=n(e)})),new zi.a(this.gl,{id:t,mipmaps:!1,parameters:r,pixels:i})},t.getDiffuseEnvSampler=function(){var e,t=this;this._DiffuseEnvSampler||(this._DiffuseEnvSampler=this.makeCube({id:"DiffuseEnvSampler",getTextureForFace:function(e){return fa(t.getTexUrl("diffuse",e,0))},parameters:(e={},e[oi.a.TEXTURE_WRAP_S]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_WRAP_T]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_MIN_FILTER]=oi.a.LINEAR,e[oi.a.TEXTURE_MAG_FILTER]=oi.a.LINEAR,e)}));return this._DiffuseEnvSampler},t.getSpecularEnvSampler=function(){var e,t=this;this._SpecularEnvSampler||(this._SpecularEnvSampler=this.makeCube({id:"SpecularEnvSampler",getTextureForFace:function(e){for(var n=[],r=0;r<=t.specularMipLevels-1;r++)n.push(fa(t.getTexUrl("specular",e,r)));return n},parameters:(e={},e[oi.a.TEXTURE_WRAP_S]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_WRAP_T]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_MIN_FILTER]=oi.a.LINEAR_MIPMAP_LINEAR,e[oi.a.TEXTURE_MAG_FILTER]=oi.a.LINEAR,e)}));return this._SpecularEnvSampler},t.getBrdfTexture=function(){var e;this._BrdfTexture||(this._BrdfTexture=new Ci.a(this.gl,{id:"brdfLUT",parameters:(e={},e[oi.a.TEXTURE_WRAP_S]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_WRAP_T]=oi.a.CLAMP_TO_EDGE,e[oi.a.TEXTURE_MIN_FILTER]=oi.a.LINEAR,e[oi.a.TEXTURE_MAG_FILTER]=oi.a.LINEAR,e),data:fa(this.brdfLutUrl)}));return this._BrdfTexture},t.delete=function(){this._DiffuseEnvSampler&&(this._DiffuseEnvSampler.delete(),this._DiffuseEnvSampler=null),this._SpecularEnvSampler&&(this._SpecularEnvSampler.delete(),this._SpecularEnvSampler=null),this._BrdfTexture&&(this._BrdfTexture.delete(),this._BrdfTexture=null)},e}();function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){_a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aa(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Oa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Aa(a,r,i,o,s,"next",e)}function s(e){Aa(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ea=((ma={})[oi.a.TEXTURE_CUBE_MAP_POSITIVE_X]="right",ma[oi.a.TEXTURE_CUBE_MAP_NEGATIVE_X]="left",ma[oi.a.TEXTURE_CUBE_MAP_POSITIVE_Y]="top",ma[oi.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]="bottom",ma[oi.a.TEXTURE_CUBE_MAP_POSITIVE_Z]="front",ma[oi.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]="back",ma),Sa="https://raw.githubusercontent.com/uber-common/deck.gl-data/master/luma.gl/examples/gltf/",Ta={default:{directionalLights:[{color:[255,255,255],direction:[0,.5,.5],intensity:1}]},ambient:{ambientLight:{color:[255,255,255],intensity:1}},directional1:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},directional3:{directionalLights:[{color:[255,0,0],direction:[1,0,0],intensity:1},{color:[0,0,255],direction:[0,0,1],intensity:1},{color:[0,255,0],direction:[0,1,0],intensity:1}]},point1far:{pointLights:[{color:[255,0,0],position:[200,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}},point1near:{pointLights:[{color:[255,0,0],position:[10,0,0],attenuation:[0,0,.01],intensity:1}],ambientLight:{color:[255,255,255],intensity:1}}},ja={pbrDebug:!0,imageBasedLightingEnvironment:null,lights:!1};function ka(e,t,n){return Ia.apply(this,arguments)}function Ia(){return(Ia=Oa(l.a.mark((function e(t,n,r){var i,a,o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?window.fetch(t):t,e.next=3,ht(i,zr,wa(wa({},r),{},{gl:n}));case 3:return a=e.sent,o=Hi(n,a,r),s=o.scenes,u=o.animator,s[0].traverse((function(e,t){t.worldMatrix;return ci.f.info(4,"Using model: ",e)()})),e.abrupt("return",{scenes:s,animator:u,gltf:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ra=function(e){var t,n;function r(t){var n;void 0===t&&(t={}),n=e.call(this,wa(wa({},t),{},{glOptions:{webgl1:!0,webgl2:!0,alpha:!1}}))||this;var r=t,i=r.modelFile,a=void 0===i?null:i,o=r.initialZoom,s=void 0===o?2:o;return n.scenes=[],n.animator=null,n.gl=null,n.modelFile=a,n.mouse={lastX:0,lastY:0},n.translate=s,n.rotation=[0,0],n.rotationStart=[0,0],n.u_ScaleDiffBaseMR=[0,0,0,0],n.u_ScaleFGDSpec=[0,0,0,0],n.attachTimeline(new si.a),n.timeline.play(),n.timelineChannel=n.timeline.addChannel({rate:.5}),n.animationHandle=null,n.onInitialize=n.onInitialize.bind(xa(n)),n.onRender=n.onRender.bind(xa(n)),n._setDisplay(new Xi.a),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getInfo=function(){return'\n<p><b>glTF Loader</b>.</p>\n<p>Rendered using luma.gl.</p>\n<div>\n  Show\n  <select id="showSelector">\n    <option value="0 0 0 0 0 0 0 0">Final Result</option>\n\n    <option value="0 1 0 0 0 0 0 0">Base Color</option>\n    <option value="0 0 1 0 0 0 0 0">Metallic</option>\n    <option value="0 0 0 1 0 0 0 0">Roughness</option>\n    <option value="1 0 0 0 0 0 0 0">Diffuse</option>\n\n    <option value="0 0 0 0 1 0 0 0">Specular Reflection</option>\n    <option value="0 0 0 0 0 1 0 0">Geometric Occlusion</option>\n    <option value="0 0 0 0 0 0 1 0">Microfacet Distribution</option>\n    <option value="0 0 0 0 0 0 0 1">Specular</option>\n  </select>\n  <br>\n</div>\n<div>\n  Regular Lights\n  <select id="lightSelector">\n    <option value="default">Default</option>\n    <option value="ambient">Ambient Only</option>\n    <option value="directional1">1x Directional (Red) + Ambient</option>\n    <option value="directional3">3x Directional (RGB)</option>\n    <option value="point1far">1x Point Light Far (Red) + Ambient</option>\n    <option value="point1near">1x Point Light Near (Red) + Ambient</option>\n  </select>\n  <br>\n</div>\n<div>\n  Image-Based Light\n  <select id="iblSelector">\n    <option value="exclusive">On (Exclusive)</option>\n    <option value="addition">On (Addition to Regular)</option>\n    <option value="off">Off (Only Regular)</option>\n  </select>\n  <br>\n</div>\n<p><img src="https://img.shields.io/badge/WebVR-Supported-orange.svg" /></p>\n'};var i=r.prototype;return i.initalizeEventHandling=function(e){var t=this,n=!1,r=function(e,r){t.mouse.lastX=e,t.mouse.lastY=r,t.rotationStart[0]=t.rotation[0],t.rotationStart[1]=t.rotation[1],n=!0},i=function(e,r){if(n){var i=e-t.mouse.lastX,a=r-t.mouse.lastY;t.rotation[0]=t.rotationStart[0]+a/100,t.rotation[1]=t.rotationStart[1]+i/100}};e.addEventListener("wheel",(function(e){t.translate+=e.deltaY/10,t.translate<.5&&(t.translate=.5),e.preventDefault()})),e.addEventListener("mousedown",(function(e){r(e.clientX,e.clientY),e.preventDefault()})),e.addEventListener("mouseup",(function(e){n=!1})),e.addEventListener("mousemove",(function(e){i(e.clientX,e.clientY)})),e.addEventListener("touchstart",(function(e){r(e.touches[0].clientX,e.touches[0].clientY),e.preventDefault()})),e.addEventListener("touchmove",(function(e){i(e.touches[0].clientX,e.touches[0].clientY)})),e.addEventListener("touchend",(function(e){0===e.touches.length&&(n=!1)})),e.addEventListener("dragover",(function(e){e.dataTransfer.dropEffect="link",e.preventDefault()})),e.addEventListener("drop",(function(e){(e.preventDefault(),e.dataTransfer.files&&1===e.dataTransfer.files.length)&&(t._deleteScenes(),ka(new Promise((function(t){var n=new window.FileReader;n.onload=function(e){return t(e.target.result)},n.readAsArrayBuffer(e.dataTransfer.files[0])})),t.gl,t.loadOptions).then((function(e){return t._fileLoaded(e)})))}))},i._fileLoaded=function(e){null!==this.animationHandle&&(this.timeline.detachAnimation(this.animationHandle),this.animationHandle=null),this.animator=null,Object.assign(this,e),this.animator&&(this.animationHandle=this.timeline.attachAnimation(this.animator,this.timelineChannel))},i.onInitialize=function(e){var t=this,n=e.gl,r=e.canvas;if(Object(ci.j)(n,{depthTest:!0,blend:!1}),this.loadOptions=ja,this.environment=new ba(n,{brdfLutUrl:Sa+"/brdfLUT.png",getTexUrl:function(e,t,n){return Sa+"/papermill/"+e+"/"+e+"_"+Ea[t]+"_"+n+".jpg"}}),this.loadOptions.imageBasedLightingEnvironment=this.environment,this.gl=n,this.modelFile){ka(this.modelFile,this.gl,{pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0}).then((function(e){return t._fileLoaded(e)}))}else{ka(Sa+"DamagedHelmet.glb",this.gl,this.loadOptions).then((function(e){return t._fileLoaded(e)}))}var i=document.getElementById("showSelector");i&&(i.onchange=function(e){var n=i.value.split(" ").map((function(e){return parseFloat(e)}));t.u_ScaleDiffBaseMR=n.slice(0,4),t.u_ScaleFGDSpec=n.slice(4)});var a=document.getElementById("lightSelector");a&&(a.onchange=function(e){t.light=a.value});var o=document.getElementById("iblSelector");o&&(o.onchange=function(e){t._updateLightSettings(o.value),t._rebuildModel()}),this.initalizeEventHandling(r)},i._updateLightSettings=function(e){switch(e){case"exclusive":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!1});break;case"addition":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:this.environment,lights:!0});break;case"off":Object.assign(this.loadOptions,{imageBasedLightingEnvironment:null,lights:!0})}},i._rebuildModel=function(){(this.gltf.meshes||[]).forEach((function(e){return delete e._mesh})),(this.gltf.nodes||[]).forEach((function(e){return delete e._node})),(this.gltf.bufferViews||[]).forEach((function(e){return delete e.lumaBuffers})),this._deleteScenes(),Object.assign(this,Hi(this.gl,this.gltf,this.loadOptions))},i._deleteScenes=function(){this.scenes.forEach((function(e){return e.delete()})),this.scenes=[],fi.a.get("Resource Counts").forEach((function(e){var t=e.name,n=e.count;ci.f.info(3,t+": "+n)()}))},i.applyLight=function(e){e.updateModuleSettings({lightSources:Ta[this.light||"default"]})},i.onRender=function(e){var t=this,n=e.gl,r=(e.time,e.aspect),i=e.viewMatrix,a=e.projectionMatrix;Object(li.a)(n,{color:[.2,.2,.2,1],depth:!0});var o=this.rotation,s=o[0],u=o[1],c=[-this.translate*Math.sin(u)*Math.cos(-s),-this.translate*Math.sin(-s),this.translate*Math.cos(u)*Math.cos(-s)],f=new pi.a(i?Array.from(i):null).translate([0,0,-this.translate]).rotateX(s).rotateY(u),l=a?new pi.a(Array.from(a)):(new pi.a).perspective({fov:Object(pi.d)(40),aspect:r,near:.1,far:9e3});if(!this.scenes.length)return!1;var p=!0;return this.scenes[0].traverse((function(e,n){var r=n.worldMatrix,i=new pi.a(l).multiplyRight(f).multiplyRight(r);t.applyLight(e),p=p&&e.draw({uniforms:{u_Camera:c,u_MVPMatrix:i,u_ModelMatrix:r,u_NormalMatrix:new pi.a(r).invert().transpose(),u_ScaleDiffBaseMR:t.u_ScaleDiffBaseMR,u_ScaleFGDSpec:t.u_ScaleFGDSpec},parameters:e.props.parameters})})),p},r}(ui.a);if("undefined"!=typeof window&&!window.website){(new Ra).start();var La=document.createElement("div");La.innerHTML=Ra.getInfo(),document.body.appendChild(La)}var Pa=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return u.a.createElement(c.a,{AnimationLoop:Ra,exampleConfig:this.props.pageContext.exampleConfig})},r}(u.a.Component)},QNMc:function(e,t,n){var r=n("P8UN");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},WHLF:function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("U8pU"),a="object"!==(void 0===e?"undefined":Object(i.a)(e))||"[object process]"!==String(e)||e.browser,o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==r&&r},s=o.global||o.self||o.window}).call(this,n("8oxB"),n("yLpj"))},mgqj:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));n("Ll4R");var i=n("U8pU"),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=a.global||a.self||a.window,s="object"!==(void 0===r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser,u=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,n("yLpj"),n("8oxB"))},nGEl:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));n("Ll4R");var i=n("U8pU"),a=("undefined"!=typeof self&&self,"undefined"!=typeof window&&window,"undefined"!=typeof document&&document,"object"!==(void 0===r?"undefined":Object(i.a)(r))||"[object process]"!==String(r)||r.browser),o=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/),s=o&&parseFloat(o[1])||0}).call(this,n("yLpj"),n("8oxB"))},qxLR:function(e,t,n){(function(t){function r(e,t,n){return t<=e&&e<=n}n("CtJk"),n("R48M"),n("pJf4"),n("lFjb"),n("AqHK"),n("JHok"),n("HXzo"),n("MIFh"),n("sc67"),t["encoding-indexes"]={};var i=Math.floor;function a(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function o(e){return 0<=e&&e<=127}var s=o;function u(e){this.tokens=[].slice.call(e),this.tokens.reverse()}u.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)}};function c(e,t){if(e)throw TypeError("Decoder error");return t||65533}function f(e){throw TypeError("The code point "+e+" could not be encoded.")}function l(e){return e=String(e).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(d,e)?d[e]:null}var p=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],d={};p.forEach((function(e){e.encodings.forEach((function(e){e.labels.forEach((function(t){d[t]=e}))}))}));var h,g,v={},m={};function b(e,t){return t&&t[e]||null}function y(e,t){var n=t.indexOf(e);return-1===n?null:n}function w(e){if(!("encoding-indexes"in t))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return t["encoding-indexes"][e]}function _(e,t){if(!(this instanceof _))throw TypeError("Called as a function. Did you forget 'new'?");e=void 0!==e?String(e):"utf-8",t=a(t),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=l(e);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+e);if(!m[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=n,Boolean(t.fatal)&&(this._error_mode="fatal"),Boolean(t.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function x(e,n){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");n=a(n),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(n.fatal)?"fatal":"replacement";if(Boolean(n.NONSTANDARD_allowLegacyEncoding)){var r=l(e=void 0!==e?String(e):"utf-8");if(null===r||"replacement"===r.name)throw RangeError("Unknown encoding: "+e);if(!v[r.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=r}else this._encoding=l("utf-8"),void 0!==e&&"console"in t&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function A(e){var t=e.fatal,n=0,i=0,a=0,o=128,s=191;this.handler=function(e,u){if(-1===u&&0!==a)return a=0,c(t);if(-1===u)return-1;if(0===a){if(r(u,0,127))return u;if(r(u,194,223))a=1,n=31&u;else if(r(u,224,239))224===u&&(o=160),237===u&&(s=159),a=2,n=15&u;else{if(!r(u,240,244))return c(t);240===u&&(o=144),244===u&&(s=143),a=3,n=7&u}return null}if(!r(u,o,s))return n=a=i=0,o=128,s=191,e.prepend(u),c(t);if(o=128,s=191,n=n<<6|63&u,(i+=1)!==a)return null;var f=n;return n=a=i=0,f}}function O(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(s(t))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var a=[(t>>6*n)+i];n>0;){var o=t>>6*(n-1);a.push(128|63&o),n-=1}return a}}function E(e,t){var n=t.fatal;this.handler=function(t,r){if(-1===r)return-1;if(o(r))return r;var i=e[r-128];return null===i?c(n):i}}function S(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(s(n))return n;var r=y(n,e);return null===r&&f(n),r+128}}function T(e){var t=e.fatal,n=0,i=0,a=0;this.handler=function(e,s){if(-1===s&&0===n&&0===i&&0===a)return-1;var u;if(-1!==s||0===n&&0===i&&0===a||(n=0,i=0,a=0,c(t)),0!==a){u=null,r(s,48,57)&&(u=function(e){if(e>39419&&e<189e3||e>1237575)return null;if(7457===e)return 59335;var t,n=0,r=0,i=w("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[0]<=e))break;n=a[0],r=a[1]}return r+e-n}(10*(126*(10*(n-129)+i-48)+a-129)+s-48));var f=[i,a,s];return n=0,i=0,a=0,null===u?(e.prepend(f),c(t)):u}if(0!==i)return r(s,129,254)?(a=s,null):(e.prepend([i,s]),n=0,i=0,c(t));if(0!==n){if(r(s,48,57))return i=s,null;var l=n,p=null;n=0;var d=s<127?64:65;return(r(s,64,126)||r(s,128,254))&&(p=190*(l-129)+(s-d)),null===(u=null===p?null:b(p,w("gb18030")))&&o(s)&&e.prepend(s),null===u?c(t):u}return o(s)?s:128===s?8364:r(s,129,254)?(n=s,null):c(t)}}function j(e,t){e.fatal;this.handler=function(e,n){if(-1===n)return-1;if(s(n))return n;if(58853===n)return f(n);if(t&&8364===n)return 128;var r=y(n,w("gb18030"));if(null!==r){var a=r%190;return[i(r/190)+129,a+(a<63?64:65)]}if(t)return f(n);r=function(e){if(59335===e)return 7457;var t,n=0,r=0,i=w("gb18030-ranges");for(t=0;t<i.length;++t){var a=i[t];if(!(a[1]<=e))break;n=a[1],r=a[0]}return r+e-n}(n);var o=i(r/10/126/10),u=i((r-=10*o*126*10)/10/126),c=i((r-=10*u*126)/10);return[o+129,u+48,c+129,r-10*c+48]}}function k(e){var t=e.fatal,n=0;this.handler=function(e,i){if(-1===i&&0!==n)return n=0,c(t);if(-1===i&&0===n)return-1;if(0!==n){var a=n,s=null;n=0;var u=i<127?64:98;switch((r(i,64,126)||r(i,161,254))&&(s=157*(a-129)+(i-u)),s){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var f=null===s?null:b(s,w("big5"));return null===f&&o(i)&&e.prepend(i),null===f?c(t):f}return o(i)?i:r(i,129,254)?(n=i,null):c(t)}}function I(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(s(t))return t;var n=function(e){var t=g=g||w("big5").map((function(e,t){return t<5024?null:e}));return 9552===e||9566===e||9569===e||9578===e||21313===e||21317===e?t.lastIndexOf(e):y(e,t)}(t);if(null===n)return f(t);var r=i(n/157)+129;if(r<161)return f(t);var a=n%157;return[r,a+(a<63?64:98)]}}function R(e){var t=e.fatal,n=!1,i=0;this.handler=function(e,a){if(-1===a&&0!==i)return i=0,c(t);if(-1===a&&0===i)return-1;if(142===i&&r(a,161,223))return i=0,65216+a;if(143===i&&r(a,161,254))return n=!0,i=a,null;if(0!==i){var s=i;i=0;var u=null;return r(s,161,254)&&r(a,161,254)&&(u=b(94*(s-161)+(a-161),w(n?"jis0212":"jis0208"))),n=!1,r(a,161,254)||e.prepend(a),null===u?c(t):u}return o(a)?a:142===a||143===a||r(a,161,254)?(i=a,null):c(t)}}function L(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(s(t))return t;if(165===t)return 92;if(8254===t)return 126;if(r(t,65377,65439))return[142,t-65377+161];8722===t&&(t=65293);var n=y(t,w("jis0208"));return null===n?f(t):[i(n/94)+161,n%94+161]}}function P(e){var t=e.fatal,n=0,i=1,a=2,o=3,s=4,u=5,f=6,l=n,p=n,d=0,h=!1;this.handler=function(e,g){switch(l){default:case n:return 27===g?(l=u,null):r(g,0,127)&&14!==g&&15!==g&&27!==g?(h=!1,g):-1===g?-1:(h=!1,c(t));case i:return 27===g?(l=u,null):92===g?(h=!1,165):126===g?(h=!1,8254):r(g,0,127)&&14!==g&&15!==g&&27!==g&&92!==g&&126!==g?(h=!1,g):-1===g?-1:(h=!1,c(t));case a:return 27===g?(l=u,null):r(g,33,95)?(h=!1,65344+g):-1===g?-1:(h=!1,c(t));case o:return 27===g?(l=u,null):r(g,33,126)?(h=!1,d=g,l=s,null):-1===g?-1:(h=!1,c(t));case s:if(27===g)return l=u,c(t);if(r(g,33,126)){l=o;var v=b(94*(d-33)+g-33,w("jis0208"));return null===v?c(t):v}return-1===g?(l=o,e.prepend(g),c(t)):(l=o,c(t));case u:return 36===g||40===g?(d=g,l=f,null):(e.prepend(g),h=!1,l=p,c(t));case f:var m=d;d=0;var y=null;if(40===m&&66===g&&(y=n),40===m&&74===g&&(y=i),40===m&&73===g&&(y=a),36!==m||64!==g&&66!==g||(y=o),null!==y){l=l=y;var _=h;return h=!0,_?c(t):null}return e.prepend([m,g]),h=!1,l=p,c(t)}}}function M(e){e.fatal;var t=0,n=1,r=2,a=t;this.handler=function(e,o){if(-1===o&&a!==t)return e.prepend(o),a=t,[27,40,66];if(-1===o&&a===t)return-1;if(!(a!==t&&a!==n||14!==o&&15!==o&&27!==o))return f(65533);if(a===t&&s(o))return o;if(a===n&&(s(o)&&92!==o&&126!==o||165==o||8254==o)){if(s(o))return o;if(165===o)return 92;if(8254===o)return 126}if(s(o)&&a!==t)return e.prepend(o),a=t,[27,40,66];if((165===o||8254===o)&&a!==n)return e.prepend(o),a=n,[27,40,74];8722===o&&(o=65293);var u=y(o,w("jis0208"));return null===u?f(o):a!==r?(e.prepend(o),a=r,[27,36,66]):[i(u/94)+33,u%94+33]}}function C(e){var t=e.fatal,n=0;this.handler=function(e,i){if(-1===i&&0!==n)return n=0,c(t);if(-1===i&&0===n)return-1;if(0!==n){var a=n,s=null;n=0;var u=i<127?64:65,f=a<160?129:193;if((r(i,64,126)||r(i,128,252))&&(s=188*(a-f)+i-u),r(s,8836,10715))return 48508+s;var l=null===s?null:b(s,w("jis0208"));return null===l&&o(i)&&e.prepend(i),null===l?c(t):l}return o(i)||128===i?i:r(i,161,223)?65216+i:r(i,129,159)||r(i,224,252)?(n=i,null):c(t)}}function B(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(s(t)||128===t)return t;if(165===t)return 92;if(8254===t)return 126;if(r(t,65377,65439))return t-65377+161;8722===t&&(t=65293);var n=function(e){return(h=h||w("jis0208").map((function(e,t){return r(t,8272,8835)?null:e}))).indexOf(e)}(t);if(null===n)return f(t);var a=i(n/188),o=n%188;return[a+(a<31?129:193),o+(o<63?64:65)]}}function U(e){var t=e.fatal,n=0;this.handler=function(e,i){if(-1===i&&0!==n)return n=0,c(t);if(-1===i&&0===n)return-1;if(0!==n){var a=n,s=null;n=0,r(i,65,254)&&(s=190*(a-129)+(i-65));var u=null===s?null:b(s,w("euc-kr"));return null===s&&o(i)&&e.prepend(i),null===u?c(t):u}return o(i)?i:r(i,129,254)?(n=i,null):c(t)}}function D(e){e.fatal;this.handler=function(e,t){if(-1===t)return-1;if(s(t))return t;var n=y(t,w("euc-kr"));return null===n?f(t):[i(n/190)+129,n%190+65]}}function N(e,t){var n=e>>8,r=255&e;return t?[n,r]:[r,n]}function F(e,t){var n=t.fatal,i=null,a=null;this.handler=function(t,o){if(-1===o&&(null!==i||null!==a))return c(n);if(-1===o&&null===i&&null===a)return-1;if(null===i)return i=o,null;var s;if(s=e?(i<<8)+o:(o<<8)+i,i=null,null!==a){var u=a;return a=null,r(s,56320,57343)?65536+1024*(u-55296)+(s-56320):(t.prepend(N(s,e)),c(n))}return r(s,55296,56319)?(a=s,null):r(s,56320,57343)?c(n):s}}function V(e,t){t.fatal;this.handler=function(t,n){if(-1===n)return-1;if(r(n,0,65535))return N(n,e);var i=N(55296+(n-65536>>10),e),a=N(56320+(n-65536&1023),e);return i.concat(a)}}function G(e){e.fatal;this.handler=function(e,t){return-1===t?-1:o(t)?t:63360+t-128}}function H(e){e.fatal;this.handler=function(e,t){return-1===t?-1:s(t)?t:r(t,63360,63487)?t-63360+128:f(t)}}Object.defineProperty&&(Object.defineProperty(_.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(_.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(_.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),_.prototype.decode=function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=a(t),this._do_not_flush||(this._decoder=m[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(t.stream);for(var r,i=new u(n),o=[];;){var s=i.read();if(-1===s)break;if(-1===(r=this._decoder.handler(i,s)))break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}if(!this._do_not_flush){do{if(-1===(r=this._decoder.handler(i,i.read())))break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}while(!i.endOfStream());this._decoder=null}return function(e){var t,n;return t=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===t.indexOf(n)||this._ignoreBOM||this._BOMseen||(e.length>0&&65279===e[0]?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(e)}.call(this,o)},Object.defineProperty&&Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),x.prototype.encode=function(e,t){e=void 0===e?"":String(e),t=a(t),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(t.stream);for(var n,r=new u(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var a=t.charCodeAt(r);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var s=1023&a,u=1023&o;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e)),i=[];;){var o=r.read();if(-1===o)break;if(-1===(n=this._encoder.handler(r,o)))break;Array.isArray(n)?i.push.apply(i,n):i.push(n)}if(!this._do_not_flush){for(;-1!==(n=this._encoder.handler(r,r.read()));)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)},v["UTF-8"]=function(e){return new O(e)},m["UTF-8"]=function(e){return new A(e)},"encoding-indexes"in t&&p.forEach((function(e){"Legacy single-byte encodings"===e.heading&&e.encodings.forEach((function(e){var t=e.name,n=w(t.toLowerCase());m[t]=function(e){return new E(n,e)},v[t]=function(e){return new S(n,e)}}))})),m.GBK=function(e){return new T(e)},v.GBK=function(e){return new j(e,!0)},v.gb18030=function(e){return new j(e)},m.gb18030=function(e){return new T(e)},v.Big5=function(e){return new I(e)},m.Big5=function(e){return new k(e)},v["EUC-JP"]=function(e){return new L(e)},m["EUC-JP"]=function(e){return new R(e)},v["ISO-2022-JP"]=function(e){return new M(e)},m["ISO-2022-JP"]=function(e){return new P(e)},v.Shift_JIS=function(e){return new B(e)},m.Shift_JIS=function(e){return new C(e)},v["EUC-KR"]=function(e){return new D(e)},m["EUC-KR"]=function(e){return new U(e)},v["UTF-16BE"]=function(e){return new V(!0,e)},m["UTF-16BE"]=function(e){return new F(!0,e)},v["UTF-16LE"]=function(e){return new V(!1,e)},m["UTF-16LE"]=function(e){return new F(!1,e)},v["x-user-defined"]=function(e){return new H(e)},m["x-user-defined"]=function(e){return new G(e)},e.exports={TextEncoder:x,TextDecoder:_}}).call(this,n("yLpj"))},xGy9:function(e,t,n){"use strict";n("E5k/"),n("YbXK"),n("cFtU"),n("pJf4"),n("q8oJ"),n("8npG"),n("rzGZ"),n("m210"),n("4DPX");var r="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n\n // Constant-Linear-Exponential\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a={name:"lights",vs:r,fs:r,getUniforms:function e(t){void 0===t&&(t=o);if("lightSources"in t){var n=t.lightSources||{},r=n.ambientLight,a=n.pointLights,u=n.directionalLights;return r||a&&a.length>0||u&&u.length>0?Object.assign({},function(e){var t=e.ambientLight,n=e.pointLights,r=void 0===n?[]:n,i=e.directionalLights,a=void 0===i?[]:i,o={};o["lighting_uAmbientLight.color"]=t?s(t):[0,0,0];return r.forEach((function(e,t){o["lighting_uPointLight["+t+"].color"]=s(e),o["lighting_uPointLight["+t+"].position"]=e.position,o["lighting_uPointLight["+t+"].attenuation"]=e.attenuation||[1,0,0]})),o.lighting_uPointLightCount=r.length,a.forEach((function(e,t){o["lighting_uDirectionalLight["+t+"].color"]=s(e),o["lighting_uDirectionalLight["+t+"].direction"]=e.direction})),o.lighting_uDirectionalLightCount=a.length,o}({ambientLight:r,pointLights:a,directionalLights:u}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){for(var c,f={pointLights:[],directionalLights:[]},l=i(t.lights||[]);!(c=l()).done;){var p=c.value;switch(p.type){case"ambient":f.ambientLight=p;break;case"directional":f.directionalLights.push(p);break;case"point":f.pointLights.push(p)}}return e({lightSources:f})}return{}},defines:{MAX_LIGHTS:3}};var o={};function s(e){var t=void 0===e?{}:e,n=t.color,r=void 0===n?[0,0,0]:n,i=t.intensity,a=void 0===i?1:i;return r.map((function(e){return e*a/255}))}},zTTH:function(e,t,n){"use strict";var r=n("P8UN"),i=n("Wadk")(6),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("Dq1/")(a)}}]);