(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/wHA":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("E5k/");var n=r("lHlH");function a(t,e,r){var a=r.removedProps,i=void 0===a?{}:a,s=r.deprecatedProps,o=void 0===s?{}:s,u=r.replacedProps,c=void 0===u?{}:u;for(var f in i)if(f in e){var h=i[f]?t+"."+i[f]:"N/A";n.f.removed(t+"."+f,h)()}for(var l in o)if(l in e){var d=o[l];n.f.deprecated(t+"."+l,t+"."+d)()}var g=null;for(var E in c)if(E in e){var b=c[E];n.f.deprecated(t+"."+E,t+"."+b)(),(g=g||Object.assign({},e))[b]=e[E],delete g[E]}return g||e}},"2aL3":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n,a=r("mECX"),i=r("2urO"),s={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};e.b=((n={})[s.WEBGL2]=[!1,!0],n[s.VERTEX_ARRAY_OBJECT]=["OES_vertex_array_object",!0],n[s.TIMER_QUERY]=["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],n[s.INSTANCED_RENDERING]=["ANGLE_instanced_arrays",!0],n[s.MULTIPLE_RENDER_TARGETS]=["WEBGL_draw_buffers",!0],n[s.ELEMENT_INDEX_UINT32]=["OES_element_index_uint",!0],n[s.BLEND_EQUATION_MINMAX]=["EXT_blend_minmax",!0],n[s.FLOAT_BLEND]=["EXT_float_blend"],n[s.COLOR_ENCODING_SRGB]=["EXT_sRGB",!0],n[s.TEXTURE_DEPTH]=["WEBGL_depth_texture",!0],n[s.TEXTURE_FLOAT]=["OES_texture_float",!0],n[s.TEXTURE_HALF_FLOAT]=["OES_texture_half_float",!0],n[s.TEXTURE_FILTER_LINEAR_FLOAT]=["OES_texture_float_linear"],n[s.TEXTURE_FILTER_LINEAR_HALF_FLOAT]=["OES_texture_half_float_linear"],n[s.TEXTURE_FILTER_ANISOTROPIC]=["EXT_texture_filter_anisotropic"],n[s.COLOR_ATTACHMENT_RGBA32F]=[function(t){var e,r=new i.a(t,{format:t.RGBA,type:t.FLOAT,dataFormat:t.RGBA}),n=new a.a(t,{id:"test-framebuffer",check:!1,attachments:(e={},e[t.COLOR_ATTACHMENT0]=r,e)}),s=n.getStatus();return r.delete(),n.delete(),s===t.FRAMEBUFFER_COMPLETE},"EXT_color_buffer_float"],n[s.COLOR_ATTACHMENT_FLOAT]=[!1,"EXT_color_buffer_float"],n[s.COLOR_ATTACHMENT_HALF_FLOAT]=["EXT_color_buffer_half_float"],n[s.GLSL_FRAG_DATA]=["WEBGL_draw_buffers",!0],n[s.GLSL_FRAG_DEPTH]=["EXT_frag_depth",!0],n[s.GLSL_DERIVATIVES]=["OES_standard_derivatives",!0],n[s.GLSL_TEXTURE_LOD]=["EXT_shader_texture_lod",!0],n)},"2urO":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));r("ofTv"),r("E5k/"),r("6kNP"),r("8npG");var n=r("73Rc"),a=r.n(n),i=r("rfXe"),s=r("3dIF"),o=r("HOtY");var u=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(s.b)(e),(r instanceof Promise||"string"==typeof r)&&(r={data:r}),"string"==typeof r.data&&(r=Object.assign({},r,{data:Object(o.a)(r.data)})),(n=t.call(this,e,Object.assign({},r,{target:a.a.TEXTURE_2D}))||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){return i.a.isSupported(t,e)},n}(i.a)},"3LCa":function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));r("5irr"),r("E5k/"),r("YBKJ"),r("9ZhD"),r("ofTv");var n=r("73Rc"),a=r.n(n),i=r("98Cc"),s=r("YJ55"),o=r("3dIF"),u=r("UBYz"),c=r("lHlH"),f=r("/wHA"),h=r("Iq2B");function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},g={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:d},E={removedProps:d},b=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),n.target=r.target||(n.gl.webgl2?a.a.COPY_READ_BUFFER:a.a.ARRAY_BUFFER),n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i,d,b,_=n.prototype;return _.getElementCount=function(t){return void 0===t&&(t=this.accessor),Math.round(this.byteLength/s.a.getBytesPerElement(t))},_.getVertexCount=function(t){return void 0===t&&(t=this.accessor),Math.round(this.byteLength/s.a.getBytesPerVertex(t))},_.initialize=function(t){return void 0===t&&(t={}),ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=Object(f.a)("Buffer",t,g),this.usage=t.usage||a.a.STATIC_DRAW,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data,t.offset,t.byteLength):this._setByteLength(t.byteLength||0),this},_.setProps=function(t){return"accessor"in(t=Object(f.a)("Buffer",t,E))&&this.setAccessor(t.accessor),this},_.setAccessor=function(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new s.a(t),this},_.reallocate=function(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)},_.setData=function(t){return this.initialize(t)},_.subData=function(t){ArrayBuffer.isView(t)&&(t={data:t});var e=t,r=e.data,n=e.offset,i=void 0===n?0:n,s=e.srcOffset,u=void 0===s?0:s,c=t.byteLength||t.length;Object(h.a)(r);var f=this.gl.webgl2?a.a.COPY_WRITE_BUFFER:this.target;return this.gl.bindBuffer(f,this.handle),0!==u||void 0!==c?(Object(o.a)(this.gl),this.gl.bufferSubData(this.target,i,r,u,c)):this.gl.bufferSubData(f,i,r),this.gl.bindBuffer(f,null),this.debugData=null,this._inferType(r),this},_.copyData=function(t){var e=t.sourceBuffer,r=t.readOffset,n=void 0===r?0:r,i=t.writeOffset,s=void 0===i?0:i,u=t.size,c=this.gl;return Object(o.a)(c),c.bindBuffer(a.a.COPY_READ_BUFFER,e.handle),c.bindBuffer(a.a.COPY_WRITE_BUFFER,this.handle),c.copyBufferSubData(a.a.COPY_READ_BUFFER,a.a.COPY_WRITE_BUFFER,n,s,u),c.bindBuffer(a.a.COPY_READ_BUFFER,null),c.bindBuffer(a.a.COPY_WRITE_BUFFER,null),this.debugData=null,this},_.getData=function(t){var e=void 0===t?{}:t,r=e.dstData,n=void 0===r?null:r,i=e.srcByteOffset,s=void 0===i?0:i,c=e.dstOffset,f=void 0===c?0:c,l=e.length,d=void 0===l?0:l;Object(o.a)(this.gl);var g,E,b=Object(u.c)(this.accessor.type||a.a.FLOAT,{clamped:!1}),_=this._getAvailableElementCount(s),v=f;n?g=(E=n.length)-v:E=v+(g=Math.min(_,d||_));var m=Math.min(_,g);return d=d||m,Object(h.a)(d<=m),n=n||new b(E),this.gl.bindBuffer(a.a.COPY_READ_BUFFER,this.handle),this.gl.getBufferSubData(a.a.COPY_READ_BUFFER,s,n,f,d),this.gl.bindBuffer(a.a.COPY_READ_BUFFER,null),n},_.bind=function(t){var e=void 0===t?{}:t,r=e.target,n=void 0===r?this.target:r,i=e.index,s=void 0===i?this.accessor&&this.accessor.index:i,o=e.offset,u=void 0===o?0:o,c=e.size;return n===a.a.UNIFORM_BUFFER||n===a.a.TRANSFORM_FEEDBACK_BUFFER?void 0!==c?this.gl.bindBufferRange(n,s,this.handle,u,c):(Object(h.a)(0===u),this.gl.bindBufferBase(n,s,this.handle)):this.gl.bindBuffer(n,this.handle),this},_.unbind=function(t){var e=void 0===t?{}:t,r=e.target,n=void 0===r?this.target:r,i=e.index,s=void 0===i?this.accessor&&this.accessor.index:i;return n===a.a.UNIFORM_BUFFER||n===a.a.TRANSFORM_FEEDBACK_BUFFER?this.gl.bindBufferBase(n,s,null):this.gl.bindBuffer(n,null),this},_.getDebugData=function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})},_.invalidateDebugData=function(){this.debugData=null},_._setData=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.byteLength+e),Object(h.a)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();var n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,e,t),this.gl.bindBuffer(n,null),this.debugData=t.slice(0,10),this.bytesUsed=r,this._trackAllocatedMemory(r);var a=Object(u.b)(t);return Object(h.a)(a),this.setAccessor(new s.a(this.accessor,{type:a})),this},_._setByteLength=function(t,e){void 0===e&&(e=this.usage),Object(h.a)(t>=0),this._trackDeallocatedMemory();var r=t;0===t&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,e),this.gl.bindBuffer(n,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this},_._getTarget=function(){return this.gl.webgl2?a.a.COPY_WRITE_BUFFER:this.target},_._getAvailableElementCount=function(t){var e=t/Object(u.c)(this.accessor.type||a.a.FLOAT,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e},_._inferType=function(t){this.accessor.type||this.setAccessor(new s.a(this.accessor,{type:Object(u.b)(t)}))},_._createHandle=function(){return this.gl.createBuffer()},_._deleteHandle=function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()},_._getParameter=function(t){this.gl.bindBuffer(this.target,this.handle);var e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e},_.setByteLength=function(t){return c.f.deprecated("setByteLength","reallocate")(),this.reallocate(t)},_.updateAccessor=function(t){return c.f.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new s.a(this.accessor,t),this},i=n,(d=[{key:"type",get:function(){return c.f.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return c.f.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}])&&l(i.prototype,d),b&&l(i,b),n}(i.a)},"3dIF":function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return s}));var n=r("Iq2B"),a=r("lHlH");function i(t){Object(n.a)(Object(a.d)(t),"Invalid WebGLRenderingContext")}function s(t){Object(n.a)(Object(a.e)(t),"Requires WebGL2")}},"62vL":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return i}));r("sC2a"),r("YBKJ");var n=r("Iq2B");function a(t,e){if("string"!=typeof e)return e;var r=Number(e);if(!isNaN(r))return r;var a=t[e=e.replace(/^.*\./,"")];return Object(n.a)(void 0!==a,"Accessing undefined constant GL."+e),a}function i(t,e){for(var r in e=Number(e),t)if(t[r]===e)return"GL."+r;return String(e)}},"7rsd":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("lHlH");function a(t,e,r,a){var i="See luma.gl "+r+" Upgrade Guide at https://luma.gl/docs/upgrade-guide",s=Object.getPrototypeOf(t);a.forEach((function(t){s.methodName||(s[t]=function(){throw n.f.removed("Calling removed method "+e+"."+t+": ",i)(),new Error(t)})}))}},"88iX":function(t,e,r){r("Sc3u")("Int8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},"98Cc":function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));r("Dq+y"),r("Ggvi"),r("YbXK"),r("cFtU"),r("pJf4"),r("q8oJ"),r("8npG"),r("rzGZ"),r("m210"),r("4DPX");var n=r("lHlH"),a=r("JR+K"),i=r("3dIF"),s=r("62vL"),o=r("BunF"),u=r("Iq2B"),c=r("7rsd");function f(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d="Resource subclass must define virtual methods",g=function(){function t(t,e){void 0===e&&(e={}),Object(i.b)(t);var r=e,n=r.id,a=r.userData,s=void 0===a?{}:a;this.gl=t,this.id=n||Object(o.c)(this.constructor.name),this.userData=s,this._bound=!1,this._handle=e.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}var e,r,h,g=t.prototype;return g.toString=function(){return this.constructor.name+"("+this.id+")"},g.delete=function(t){var e=(void 0===t?{}:t).deleteChildren,r=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach((function(t){t.delete()})),this},g.bind=function(t){return void 0===t&&(t=this.handle),"function"!=typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e);var e},g.unbind=function(){this.bind(null)},g.getParameter=function(t,e){void 0===e&&(e={}),t=Object(s.b)(this.gl,t),Object(u.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var a=Object(n.e)(this.gl);if(!((!("webgl2"in r)||a)&&(!("extension"in r)||this.gl.getExtension(r.extension)))){var i=r.webgl1,o="webgl2"in r?r.webgl2:r.webgl1;return a?o:i}}return this._getParameter(t,e)},g.getParameters=function(t){void 0===t&&(t={});for(var e,r={},a=r.parameters,i=r.keys,o=this.constructor.PARAMETERS||{},u=Object(n.e)(this.gl),c={},h=f(a||Object.keys(o));!(e=h()).done;){var l=e.value,d=o[l];if(d&&(!("webgl2"in d)||u)&&(!("extension"in d)||this.gl.getExtension(d.extension))){var g=i?Object(s.a)(this.gl,l):l;c[g]=this.getParameter(l,t),i&&"GLenum"===d.type&&(c[g]=Object(s.a)(this.gl,c[g]))}}return c},g.setParameter=function(t,e){t=Object(s.b)(this.gl,t),Object(u.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var a=Object(n.e)(this.gl);if(!((!("webgl2"in r)||a)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(e=Object(s.b)(e))}return this._setParameter(t,e),this},g.setParameters=function(t){for(var e in t)this.setParameter(e,t[e]);return this},g.stubRemovedMethods=function(t,e,r){return Object(c.a)(this,t,e,r)},g.initialize=function(t){},g._createHandle=function(){throw new Error(d)},g._deleteHandle=function(){throw new Error(d)},g._bindHandle=function(){throw new Error(d)},g._getOptsFromHandle=function(){throw new Error(d)},g._getParameter=function(t,e){throw new Error(d)},g._setParameter=function(t,e){throw new Error(d)},g._context=function(){return this.gl.luma=this.gl.luma||{},this.gl.luma},g._addStats=function(){var t=this.constructor.name,e=a.a.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get(t+"s Created").incrementCount(),e.get(t+"s Active").incrementCount()},g._removeStats=function(){var t=this.constructor.name;a.a.get("Resource Counts").get(t+"s Active").decrementCount()},g._trackAllocatedMemory=function(t,e){void 0===e&&(e=this.constructor.name);var r=a.a.get("Memory Usage");r.get("GPU Memory").addCount(t),r.get(e+" Memory").addCount(t),this.byteLength=t},g._trackDeallocatedMemory=function(t){void 0===t&&(t=this.constructor.name);var e=a.a.get("Memory Usage");e.get("GPU Memory").subtractCount(this.byteLength),e.get(t+" Memory").subtractCount(this.byteLength),this.byteLength=0},e=t,(r=[{key:"handle",get:function(){return this._handle}}])&&l(e.prototype,r),h&&l(e,h),t}()},AFhB:function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return f})),r.d(e,"c",(function(){return h})),r.d(e,"d",(function(){return l})),r.d(e,"e",(function(){return d}));var n,a,i,s=r("73Rc"),o=r.n(s),u=r("lHlH"),c=((n={})[o.a.RGB]={dataFormat:o.a.RGB,types:[o.a.UNSIGNED_BYTE,o.a.UNSIGNED_SHORT_5_6_5]},n[o.a.RGBA]={dataFormat:o.a.RGBA,types:[o.a.UNSIGNED_BYTE,o.a.UNSIGNED_SHORT_4_4_4_4,o.a.UNSIGNED_SHORT_5_5_5_1]},n[o.a.ALPHA]={dataFormat:o.a.ALPHA,types:[o.a.UNSIGNED_BYTE]},n[o.a.LUMINANCE]={dataFormat:o.a.LUMINANCE,types:[o.a.UNSIGNED_BYTE]},n[o.a.LUMINANCE_ALPHA]={dataFormat:o.a.LUMINANCE_ALPHA,types:[o.a.UNSIGNED_BYTE]},n[o.a.R32F]={dataFormat:o.a.RED,types:[o.a.FLOAT],gl2:!0},n[o.a.RG32F]={dataFormat:o.a.RG,types:[o.a.FLOAT],gl2:!0},n[o.a.RGB32F]={dataFormat:o.a.RGB,types:[o.a.FLOAT],gl2:!0},n[o.a.RGBA32F]={dataFormat:o.a.RGBA,types:[o.a.FLOAT],gl2:!0},n),f=((a={})[o.a.RED]=1,a[o.a.RED_INTEGER]=1,a[o.a.RG]=2,a[o.a.RG_INTEGER]=2,a[o.a.RGB]=3,a[o.a.RGB_INTEGER]=3,a[o.a.RGBA]=4,a[o.a.RGBA_INTEGER]=4,a[o.a.DEPTH_COMPONENT]=1,a[o.a.DEPTH_STENCIL]=1,a[o.a.ALPHA]=1,a[o.a.LUMINANCE]=1,a[o.a.LUMINANCE_ALPHA]=2,a),h=((i={})[o.a.FLOAT]=4,i[o.a.UNSIGNED_INT]=4,i[o.a.INT]=4,i[o.a.UNSIGNED_SHORT]=2,i[o.a.SHORT]=2,i[o.a.HALF_FLOAT]=2,i[o.a.BYTE]=1,i[o.a.UNSIGNED_BYTE]=1,i);function l(t,e){var r=c[e];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(u.e)(t)&&r.gl2||r.gl1;return"string"==typeof n?t.getExtension(n):n}function d(t,e){var r=c[e];switch(r&&r.types[0]){case o.a.FLOAT:return t.getExtension("OES_texture_float_linear");case o.a.HALF_FLOAT:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},AItV:function(t,e,r){r("Sc3u")("Int16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},BunF:function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return o}));var n=r("Iq2B"),a={};function i(t){return void 0===t&&(t="id"),a[t]=a[t]||1,t+"-"+a[t]++}function s(t){return Object(n.a)("number"==typeof t,"Input must be a number"),t&&0==(t&t-1)}function o(t){var e=!0;for(var r in t){e=!1;break}return e}},EpVc:function(t,e,r){"use strict";r.d(e,"b",(function(){return f})),r.d(e,"a",(function(){return h}));r("9ZhD"),r("YBKJ"),r("m5Zt");var n=r("73Rc"),a=r.n(n),i=(r("3LCa"),r("mECX")),s=(r("rfXe"),r("lHlH"),r("3dIF"),r("UBYz")),o=r("Iq2B");function u(t){switch(t){case a.a.ALPHA:case a.a.R32F:case a.a.RED:return 1;case a.a.RG32F:case a.a.RG:return 2;case a.a.RGB:case a.a.RGB32F:return 3;case a.a.RGBA:case a.a.RGBA32F:return 4;default:return Object(o.a)(!1),0}}var c=r("kgJN");function f(t,e){var r=void 0===e?{}:e,n=r.sourceX,i=void 0===n?0:n,c=r.sourceY,f=void 0===c?0:c,h=r.sourceFormat,d=void 0===h?a.a.RGBA:h,g=r.sourceAttachment,E=void 0===g?a.a.COLOR_ATTACHMENT0:g,b=r.target,_=void 0===b?null:b,v=r.sourceWidth,m=r.sourceHeight,A=r.sourceType,T=l(t),p=T.framebuffer,R=T.deleteFramebuffer;Object(o.a)(p);var y=p.gl,F=p.handle,O=p.attachments;v=v||p.width,m=m||p.height,E===a.a.COLOR_ATTACHMENT0&&null===F&&(E=a.a.FRONT),Object(o.a)(O[E]),_=function(t,e,r,n,i){if(t)return t;e=e||a.a.UNSIGNED_BYTE;var o=Object(s.c)(e,{clamped:!1}),c=u(r);return new o(n*i*c)}(_,A=A||O[E].type,d,v,m),A=A||Object(s.b)(_);var I=y.bindFramebuffer(a.a.FRAMEBUFFER,F);return y.readPixels(i,f,v,m,d,A,_),y.bindFramebuffer(a.a.FRAMEBUFFER,I||null),R&&p.delete(),_}function h(t,e){for(var r=void 0===e?{}:e,n=r.sourceAttachment,i=void 0===n?a.a.COLOR_ATTACHMENT0:n,o=r.targetMaxHeight,u=void 0===o?Number.MAX_SAFE_INTEGER:o,c=f(t,{sourceAttachment:i}),h=t.width,l=t.height;l>u;){var d=Object(s.d)({data:c,width:h,height:l});c=d.data,h=d.width,l=d.height}Object(s.a)({data:c,width:h,height:l});var g=document.createElement("canvas");g.width=h,g.height=l;var E=g.getContext("2d"),b=E.createImageData(h,l);return b.data.set(c),E.putImageData(b,0,0),g.toDataURL()}function l(t){return t instanceof i.a?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Object(c.b)(t),deleteFramebuffer:!0}}},HOSt:function(t,e,r){r("Sc3u")("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},IObG:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return o}));r("5irr"),r("SIeT"),r("6nXr");var n=r("lHlH"),a=r("3dIF"),i=r("Iq2B");function s(t,e){var r=void 0===e?{}:e,a=r.framebuffer,s=void 0===a?null:a,o=r.color,u=void 0===o?null:o,c=r.depth,f=void 0===c?null:c,h=r.stencil,l=void 0===h?null:h,d={};s&&(d.framebuffer=s);var g=0;u&&(g|=16384,!0!==u&&(d.clearColor=u)),f&&(g|=256,!0!==f&&(d.clearDepth=f)),l&&(g|=1024,!0!==f&&(d.clearStencil=f)),Object(i.a)(0!==g,"clear: bad arguments"),Object(n.k)(t,d,(function(){t.clear(g)}))}function o(t,e){var r=void 0===e?{}:e,s=r.framebuffer,o=void 0===s?null:s,u=r.buffer,c=void 0===u?6144:u,f=r.drawBuffer,h=void 0===f?0:f,l=r.value,d=void 0===l?[0,0,0,0]:l;Object(a.a)(t),Object(n.k)(t,{framebuffer:o},(function(){switch(c){case 6144:switch(d.constructor){case Int32Array:t.clearBufferiv(c,h,d);break;case Uint32Array:t.clearBufferuiv(c,h,d);break;case Float32Array:default:t.clearBufferfv(c,h,d)}break;case 6145:t.clearBufferfv(6145,0,[d]);break;case 6146:t.clearBufferiv(6146,0,[d]);break;case 34041:var e=d[0],r=d[1];t.clearBufferfi(34041,0,e,r);break;default:Object(i.a)(!1,"clear: bad arguments")}}))}},Ifu7:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return u}));var n,a=r("Iq2B"),i=((n={})[5126]=[5126,1,"float"],n[35664]=[5126,2,"vec2"],n[35665]=[5126,3,"vec3"],n[35666]=[5126,4,"vec4"],n[5124]=[5124,1,"int"],n[35667]=[5124,2,"ivec2"],n[35668]=[5124,3,"ivec3"],n[35669]=[5124,4,"ivec4"],n[5125]=[5125,1,"uint"],n[36294]=[5125,2,"uvec2"],n[36295]=[5125,3,"uvec3"],n[36296]=[5125,4,"uvec4"],n[35670]=[5126,1,"bool"],n[35671]=[5126,2,"bvec2"],n[35672]=[5126,3,"bvec3"],n[35673]=[5126,4,"bvec4"],n[35674]=[5126,8,"mat2"],n[35685]=[5126,8,"mat2x3"],n[35686]=[5126,8,"mat2x4"],n[35675]=[5126,12,"mat3"],n[35687]=[5126,12,"mat3x2"],n[35688]=[5126,12,"mat3x4"],n[35676]=[5126,16,"mat4"],n[35689]=[5126,16,"mat4x2"],n[35690]=[5126,16,"mat4x3"],n);function s(t){switch(t){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return Object(a.a)(!1),0}}function o(t){var e=i[t];return e?{type:e[0],components:e[1]}:null}function u(t,e){switch(t){case 5120:case 5121:case 5122:case 5123:t=5126}for(var r in i){var n=i[r],a=n[0],s=n[1],o=n[2];if(a===t&&s===e)return{glType:r,name:o}}return null}},Kb1d:function(t,e,r){var n=r("P8UN");n(n.P,"Array",{copyWithin:r("cRJv")}),r("Dq1/")("copyWithin")},KcFQ:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));r("ofTv");var n,a=r("73Rc"),i=r.n(a),s=r("98Cc"),o="EXT_color_buffer_float",u=((n={})[i.a.DEPTH_COMPONENT16]={bpp:2},n[i.a.DEPTH_COMPONENT24]={gl2:!0,bpp:3},n[i.a.DEPTH_COMPONENT32F]={gl2:!0,bpp:4},n[i.a.STENCIL_INDEX8]={bpp:1},n[i.a.DEPTH_STENCIL]={bpp:4},n[i.a.DEPTH24_STENCIL8]={gl2:!0,bpp:4},n[i.a.DEPTH32F_STENCIL8]={gl2:!0,bpp:5},n[i.a.RGBA4]={bpp:2},n[i.a.RGB565]={bpp:2},n[i.a.RGB5_A1]={bpp:2},n[i.a.R8]={gl2:!0,bpp:1},n[i.a.R8UI]={gl2:!0,bpp:1},n[i.a.R8I]={gl2:!0,bpp:1},n[i.a.R16UI]={gl2:!0,bpp:2},n[i.a.R16I]={gl2:!0,bpp:2},n[i.a.R32UI]={gl2:!0,bpp:4},n[i.a.R32I]={gl2:!0,bpp:4},n[i.a.RG8]={gl2:!0,bpp:2},n[i.a.RG8UI]={gl2:!0,bpp:2},n[i.a.RG8I]={gl2:!0,bpp:2},n[i.a.RG16UI]={gl2:!0,bpp:4},n[i.a.RG16I]={gl2:!0,bpp:4},n[i.a.RG32UI]={gl2:!0,bpp:8},n[i.a.RG32I]={gl2:!0,bpp:8},n[i.a.RGB8]={gl2:!0,bpp:3},n[i.a.RGBA8]={gl2:!0,bpp:4},n[i.a.RGB10_A2]={gl2:!0,bpp:4},n[i.a.RGBA8UI]={gl2:!0,bpp:4},n[i.a.RGBA8I]={gl2:!0,bpp:4},n[i.a.RGB10_A2UI]={gl2:!0,bpp:4},n[i.a.RGBA16UI]={gl2:!0,bpp:8},n[i.a.RGBA16I]={gl2:!0,bpp:8},n[i.a.RGBA32I]={gl2:!0,bpp:16},n[i.a.RGBA32UI]={gl2:!0,bpp:16},n[i.a.R16F]={gl2:o,bpp:2},n[i.a.RG16F]={gl2:o,bpp:4},n[i.a.RGBA16F]={gl2:o,bpp:8},n[i.a.R32F]={gl2:o,bpp:4},n[i.a.RG32F]={gl2:o,bpp:8},n[i.a.RGBA32F]={gl2:o,bpp:16},n[i.a.R11F_G11F_B10F]={gl2:o,bpp:4},n),c=r("lHlH"),f=r("Iq2B");var h=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=(void 0===e?{}:e).format;return!r||function(t,e,r){var n=r[e];if(!n)return!1;var a=Object(c.e)(t)&&n.gl2||n.gl1;return"string"==typeof a?t.getExtension(a):a}(t,r,u)},n.getSamplesForFormat=function(t,e){var r=e.format;return t.getInternalformatParameter(i.a.RENDERBUFFER,r,i.a.SAMPLES)};var a=n.prototype;return a.initialize=function(t){var e=t.format,r=t.width,n=void 0===r?1:r,a=t.height,s=void 0===a?1:a,o=t.samples,h=void 0===o?0:o;return Object(f.a)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(i.a.RENDERBUFFER,this.handle),0!==h&&Object(c.e)(this.gl)?this.gl.renderbufferStorageMultisample(i.a.RENDERBUFFER,h,e,n,s):this.gl.renderbufferStorage(i.a.RENDERBUFFER,e,n,s),this.format=e,this.width=n,this.height=s,this.samples=h,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*u[this.format].bpp),this},a.resize=function(t){var e=t.width,r=t.height;return e!==this.width||r!==this.height?this.initialize({width:e,height:r,format:this.format,samples:this.samples}):this},a._createHandle=function(){return this.gl.createRenderbuffer()},a._deleteHandle=function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()},a._bindHandle=function(t){this.gl.bindRenderbuffer(i.a.RENDERBUFFER,t)},a._syncHandle=function(t){this.format=this.getParameter(i.a.RENDERBUFFER_INTERNAL_FORMAT),this.width=this.getParameter(i.a.RENDERBUFFER_WIDTH),this.height=this.getParameter(i.a.RENDERBUFFER_HEIGHT),this.samples=this.getParameter(i.a.RENDERBUFFER_SAMPLES)},a._getParameter=function(t){return this.gl.bindRenderbuffer(i.a.RENDERBUFFER,this.handle),this.gl.getRenderbufferParameter(i.a.RENDERBUFFER,t)},n}(s.a)},SIeT:function(t,e,r){r("Sc3u")("Uint32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},UBYz:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return o})),r.d(e,"d",(function(){return u}));r("Kb1d"),r("6nXr"),r("AItV"),r("88iX"),r("HOSt"),r("CtJk"),r("SIeT"),r("h3Sa"),r("5irr");var n=r("73Rc"),a=r.n(n);function i(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return a.a.FLOAT;case Uint16Array:return a.a.UNSIGNED_SHORT;case Uint32Array:return a.a.UNSIGNED_INT;case Uint8Array:case Uint8ClampedArray:return a.a.UNSIGNED_BYTE;case Int8Array:return a.a.BYTE;case Int16Array:return a.a.SHORT;case Int32Array:return a.a.INT;default:throw new Error("Failed to deduce GL constant from typed array")}}function s(t,e){var r=(void 0===e?{}:e).clamped,n=void 0===r||r;switch(t){case a.a.FLOAT:return Float32Array;case a.a.UNSIGNED_SHORT:case a.a.UNSIGNED_SHORT_5_6_5:case a.a.UNSIGNED_SHORT_4_4_4_4:case a.a.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case a.a.UNSIGNED_INT:return Uint32Array;case a.a.UNSIGNED_BYTE:return n?Uint8ClampedArray:Uint8Array;case a.a.BYTE:return Int8Array;case a.a.SHORT:return Int16Array;case a.a.INT:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function o(t){var e=t.data,r=t.width,n=t.height,a=t.bytesPerPixel,i=void 0===a?4:a,s=t.temp,o=r*i;s=s||new Uint8Array(o);for(var u=0;u<n/2;++u){var c=u*o,f=(n-u-1)*o;s.set(e.subarray(c,c+o)),e.copyWithin(c,f,f+o),e.set(s,f)}}function u(t){for(var e=t.data,r=t.width,n=t.height,a=Math.round(r/2),i=Math.round(n/2),s=new Uint8Array(a*i*4),o=0;o<i;o++)for(var u=0;u<a;u++)for(var c=0;c<4;c++)s[4*(o*a+u)+c]=e[4*(2*o*r+2*u)+c];return{data:s,width:a,height:i}}},WFpA:function(t,e,r){"use strict";r.d(e,"a",(function(){return z}));r("sC2a"),r("E5k/"),r("ofTv"),r("YbXK"),r("cFtU"),r("pJf4"),r("q8oJ"),r("8npG"),r("rzGZ"),r("m210"),r("4DPX");var n,a=r("73Rc"),i=r.n(a),s=r("98Cc"),o=r("rfXe"),u=r("mECX"),c=(r("Ll4R"),r("SIeT"),r("6nXr"),r("5irr"),r("YBKJ"),r("9ZhD"),r("lHlH")),f=r("KcFQ"),h=r("Iq2B"),l=((n={})[i.a.FLOAT]=O.bind(null,"uniform1fv",v,1,I),n[i.a.FLOAT_VEC2]=O.bind(null,"uniform2fv",v,2,I),n[i.a.FLOAT_VEC3]=O.bind(null,"uniform3fv",v,3,I),n[i.a.FLOAT_VEC4]=O.bind(null,"uniform4fv",v,4,I),n[i.a.INT]=O.bind(null,"uniform1iv",m,1,I),n[i.a.INT_VEC2]=O.bind(null,"uniform2iv",m,2,I),n[i.a.INT_VEC3]=O.bind(null,"uniform3iv",m,3,I),n[i.a.INT_VEC4]=O.bind(null,"uniform4iv",m,4,I),n[i.a.BOOL]=O.bind(null,"uniform1iv",m,1,I),n[i.a.BOOL_VEC2]=O.bind(null,"uniform2iv",m,2,I),n[i.a.BOOL_VEC3]=O.bind(null,"uniform3iv",m,3,I),n[i.a.BOOL_VEC4]=O.bind(null,"uniform4iv",m,4,I),n[i.a.FLOAT_MAT2]=O.bind(null,"uniformMatrix2fv",v,4,B),n[i.a.FLOAT_MAT3]=O.bind(null,"uniformMatrix3fv",v,9,B),n[i.a.FLOAT_MAT4]=O.bind(null,"uniformMatrix4fv",v,16,B),n[i.a.SAMPLER_2D]=F,n[i.a.SAMPLER_CUBE]=F,n[i.a.UNSIGNED_INT]=O.bind(null,"uniform1uiv",A,1,I),n[i.a.UNSIGNED_INT_VEC2]=O.bind(null,"uniform2uiv",A,2,I),n[i.a.UNSIGNED_INT_VEC3]=O.bind(null,"uniform3uiv",A,3,I),n[i.a.UNSIGNED_INT_VEC4]=O.bind(null,"uniform4uiv",A,4,I),n[i.a.FLOAT_MAT2x3]=O.bind(null,"uniformMatrix2x3fv",v,6,B),n[i.a.FLOAT_MAT2x4]=O.bind(null,"uniformMatrix2x4fv",v,8,B),n[i.a.FLOAT_MAT3x2]=O.bind(null,"uniformMatrix3x2fv",v,6,B),n[i.a.FLOAT_MAT3x4]=O.bind(null,"uniformMatrix3x4fv",v,12,B),n[i.a.FLOAT_MAT4x2]=O.bind(null,"uniformMatrix4x2fv",v,8,B),n[i.a.FLOAT_MAT4x3]=O.bind(null,"uniformMatrix4x3fv",v,12,B),n[i.a.SAMPLER_3D]=F,n[i.a.SAMPLER_2D_SHADOW]=F,n[i.a.SAMPLER_2D_ARRAY]=F,n[i.a.SAMPLER_2D_ARRAY_SHADOW]=F,n[i.a.SAMPLER_CUBE_SHADOW]=F,n[i.a.INT_SAMPLER_2D]=F,n[i.a.INT_SAMPLER_3D]=F,n[i.a.INT_SAMPLER_CUBE]=F,n[i.a.INT_SAMPLER_2D_ARRAY]=F,n[i.a.UNSIGNED_INT_SAMPLER_2D]=F,n[i.a.UNSIGNED_INT_SAMPLER_3D]=F,n[i.a.UNSIGNED_INT_SAMPLER_CUBE]=F,n[i.a.UNSIGNED_INT_SAMPLER_2D_ARRAY]=F,n),d={},g={},E={},b=[0];function _(t,e,r,n){1===e&&"boolean"==typeof t&&(t=t?1:0),Number.isFinite(t)&&(b[0]=t,t=b);var a=t.length;if(a%e&&c.f.warn("Uniform size should be multiples of "+e,t)(),t instanceof r)return t;var i=n[a];i||(i=new r(a),n[a]=i);for(var s=0;s<a;s++)i[s]=t[s];return i}function v(t,e){return _(t,e,Float32Array,d)}function m(t,e){return _(t,e,Int32Array,g)}function A(t,e){return _(t,e,Uint32Array,E)}function T(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};var e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name "+t);return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function p(t,e,r){var n=l[r.type];if(!n)throw new Error("Unknown GLSL uniform type "+r.type);return n().bind(null,t,e)}function R(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;for(var e=Math.min(t.length,16),r=0;r<e;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof o.a||(t instanceof f.a||t instanceof u.a&&Boolean(t.texture))))}function y(t,e,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(t[e])for(var n=t[e],a=0,i=r.length;a<i;++a)n[a]=r[a];else t[e]=r.slice();else t[e]=r}function F(){var t=null;return function(e,r,n){var a=t!==n;return a&&(e.uniform1i(r,n),t=n),a}}function O(t,e,r,n){var a=null,i=null;return function(s,o,u){var c=e(u,r),f=c.length,l=!1;if(null===a)a=new Float32Array(f),i=f,l=!0;else{Object(h.a)(i===f,"Uniform length cannot change.");for(var d=0;d<f;++d)if(c[d]!==a[d]){l=!0;break}}return l&&(n(s,t,o,c),a.set(c)),l}}function I(t,e,r,n){t[e](r,n)}function B(t,e,r,n){t[e](r,!1,n)}r("TAD1");function N(t,e){void 0===e&&(e="unnamed");var r=t.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return r?r[1]:e}r("HQhv");function L(t,e,r,n){for(var a=t.split(/\r?\n/),i={},s={},o=n||N(e)||"(unnamed)",u=function(t){switch(t){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(r)+" shader "+o,c=0;c<a.length;c++){var f=a[c];if(!(f.length<=1)){var h=f.split(":"),l=h[0],d=parseInt(h[2],10);if(isNaN(d))throw new Error("GLSL compilation error in "+u+": "+t);"WARNING"!==l?i[d]=f:s[d]=f}}var g=function(t,e,r){void 0===e&&(e=1);void 0===r&&(r=": ");var n=t.split(/\r?\n/),a=String(n.length+e-1).length;return n.map((function(t,n){var i=n+e,s=String(i).length;return S(i,a-s)+r+t}))}(e);return{shaderName:u,errors:U(i,g),warnings:U(s,g)}}function U(t,e){for(var r="",n=0;n<e.length;n++){var a=e[n];if((t[n+3]||t[n+2]||t[n+1])&&(r+=a+"\n",t[n+1])){var i=t[n+1],s=i.split(":",3),o=s[0],u=parseInt(s[1],10)||0;r+=S("^^^ "+o+": "+i.substring(s.join(":").length+1).trim()+"\n\n",u)}}return r}function S(t,e){for(var r="",n=0;n<e;++n)r+=" ";return""+r+t}var w=r("3dIF"),x=r("BunF");function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var D=function(t){function e(r,n){var a;Object(w.b)(r),Object(h.a)("string"==typeof n.source,"Shader: GLSL source code must be a JavaScript string");var i=N(n.source,null)||n.id||Object(x.c)("unnamed "+e.getTypeName(n.shaderType));return(a=t.call(this,r,{id:i})||this).shaderType=n.shaderType,a.source=n.source,a.initialize(n),a}P(e,t),e.getTypeName=function(t){switch(t){case i.a.VERTEX_SHADER:return"vertex-shader";case i.a.FRAGMENT_SHADER:return"fragment-shader";default:return Object(h.a)(!1),"unknown"}};var r=e.prototype;return r.initialize=function(t){var e=t.source,r=N(e,null);r&&(this.id=Object(x.c)(r)),this._compile(e)},r.getParameter=function(t){return this.gl.getShaderParameter(this.handle,t)},r.toString=function(){return e.getTypeName(this.shaderType)+":"+this.id},r.getName=function(){return N(this.source)||"unnamed-shader"},r.getSource=function(){return this.gl.getShaderSource(this.handle)},r.getTranslatedSource=function(){var t=this.gl.getExtension("WEBGL.debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"},r._compile=function(t){if(void 0===t&&(t=this.source),t.startsWith("#version ")||(t="#version 100\n"+t),this.source=t,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(i.a.COMPILE_STATUS)){var e=L(this.gl.getShaderInfoLog(this.handle),this.source,this.shaderType,this.id),r=e.shaderName,n=e.errors,a=e.warnings;throw c.f.error("GLSL compilation errors in "+r+"\n"+n)(),c.f.warn("GLSL compilation warnings in "+r+"\n"+a)(),new Error("GLSL compilation errors in "+r)}},r._deleteHandle=function(){this.gl.deleteShader(this.handle)},r._getOptsFromHandle=function(){return{type:this.getParameter(i.a.SHADER_TYPE),source:this.getSource()}},e}(s.a),M=function(t){function e(e,r){return"string"==typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:i.a.VERTEX_SHADER}))||this}return P(e,t),e.prototype._createHandle=function(){return this.gl.createShader(i.a.VERTEX_SHADER)},e}(D),C=function(t){function e(e,r){return"string"==typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:i.a.FRAGMENT_SHADER}))||this}return P(e,t),e.prototype._createHandle=function(){return this.gl.createShader(i.a.FRAGMENT_SHADER)},e}(D),j=(r("zGcK"),r("YJ55")),H=r("Ifu7"),G=function(){function t(t){this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}var e=t.prototype;return e.getAttributeInfo=function(t){var e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null},e.getAttributeLocation=function(t){var e=this.getAttributeInfo(t);return e?e.location:-1},e.getAttributeAccessor=function(t){var e=this.getAttributeInfo(t);return e?e.accessor:null},e.getVaryingInfo=function(t){var e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null},e.getVaryingIndex=function(t){var e=this.getVaryingInfo();return e?e.location:-1},e.getVaryingAccessor=function(t){var e=this.getVaryingInfo();return e?e.accessor:null},e._readAttributesFromProgram=function(t){for(var e=t.gl,r=e.getProgramParameter(t.handle,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var a=e.getActiveAttrib(t.handle,n),i=a.name,s=a.type,o=a.size,u=e.getAttribLocation(t.handle,i);u>=0&&this._addAttribute(u,i,s,o)}this.attributeInfos.sort((function(t,e){return t.location-e.location}))},e._readVaryingsFromProgram=function(t){var e=t.gl;if(Object(c.e)(e)){for(var r=e.getProgramParameter(t.handle,e.TRANSFORM_FEEDBACK_VARYINGS),n=0;n<r;n++){var a=e.getTransformFeedbackVarying(t.handle,n),i=a.name,s=a.type,o=a.size;this._addVarying(n,i,s,o)}this.varyingInfos.sort((function(t,e){return t.location-e.location}))}},e._addAttribute=function(t,e,r,n){var a=Object(H.a)(r),i={type:a.type,size:n*a.components};this._inferProperties(t,e,i);var s={location:t,name:e,accessor:new j.a(i)};this.attributeInfos.push(s),this.attributeInfosByLocation[t]=s,this.attributeInfosByName[s.name]=s},e._inferProperties=function(t,e,r){/instance/i.test(e)&&(r.divisor=1)},e._addVarying=function(t,e,r,n){var a=Object(H.a)(r),i=a.type,s=a.components,o={location:t,name:e,accessor:new j.a({type:i,size:n*s})};this.varyingInfos.push(o),this.varyingInfosByName[o.name]=o},t}(),X=r("62vL");function k(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Y=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],z=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).stubRemovedMethods("Program","v6.0",Y),n._isCached=!1,n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n._setId(r.id),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.initialize=function(t){void 0===t&&(t={});var e=t,r=e.hash,n=e.vs,a=e.fs,i=e.varyings,s=e.bufferMode,o=void 0===s?35981:s;return this.hash=r||"",this.vs="string"==typeof n?new M(this.gl,{id:t.id+"-vs",source:n}):n,this.fs="string"==typeof a?new C(this.gl,{id:t.id+"-fs",source:a}):a,Object(h.a)(this.vs instanceof M),Object(h.a)(this.fs instanceof C),this.uniforms={},this._textureUniforms={},this._texturesRenderable=!0,i&&i.length>0&&(Object(w.a)(this.gl),this.varyings=i,this.gl.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new G(this),this.setProps(t)},a.delete=function(e){return void 0===e&&(e={}),this._isCached?this:t.prototype.delete.call(this,e)},a.setProps=function(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this},a.draw=function(t){var e=this,r=t.logPriority,n=t.drawMode,a=void 0===n?i.a.TRIANGLES:n,s=t.vertexCount,o=t.offset,u=void 0===o?0:o,f=t.start,l=t.end,d=t.isIndexed,g=void 0!==d&&d,E=t.indexType,b=void 0===E?i.a.UNSIGNED_SHORT:E,_=t.instanceCount,v=void 0===_?0:_,m=t.isInstanced,A=void 0===m?v>0:m,T=t.vertexArray,p=void 0===T?null:T,R=t.transformFeedback,y=t.framebuffer,F=t.parameters,O=void 0===F?{}:F,I=t.uniforms,B=t.samplers;if((I||B)&&(c.f.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(I||{})),c.f.priority>=r){var N=y?y.id:"default",L="mode="+Object(X.a)(this.gl,a)+" verts="+s+" instances="+v+" indexType="+Object(X.a)(this.gl,b)+" isInstanced="+A+" isIndexed="+g+" Framebuffer="+N;c.f.log(r,L)()}return Object(h.a)(p),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===s||A&&0===v)&&(p.bindForDraw(s,v,(function(){if(void 0!==y&&(O=Object.assign({},O,{framebuffer:y})),R){var t=Object(H.c)(a);R.begin(t)}e._bindTextures(),Object(c.k)(e.gl,O,(function(){g&&A?e.gl.drawElementsInstanced(a,s,b,u,v):g&&Object(c.e)(e.gl)&&!isNaN(f)&&!isNaN(l)?e.gl.drawRangeElements(a,f,l,s,b,u):g?e.gl.drawElements(a,s,b,u):A?e.gl.drawArraysInstanced(a,u,s,v):e.gl.drawArrays(a,u,s)})),R&&R.end()})),!0)},a.setUniforms=function(t){for(var e in void 0===t&&(t={}),c.f.priority>=2&&function(t,e,r){for(var n in t){var a=t[n];if((!r||Boolean(r[n]))&&!R(a))throw e=e?e+" ":"",console.error(e+" Bad uniform "+n,a),new Error(e+" Bad uniform "+n)}}(t,this.id,this._uniformSetters),this.gl.useProgram(this.handle),t){var r=t[e],n=this._uniformSetters[e];if(n){var a=r,i=!1;if(a instanceof u.a&&(a=a.texture),a instanceof o.a)if(i=this.uniforms[e]!==r){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var s=a,f=n.textureIndex;s.bind(f),a=f,s.loaded||(this._texturesRenderable=!1),this._textureUniforms[e]=s}else a=n.textureIndex;else this._textureUniforms[e]&&delete this._textureUniforms[e];(n(a)||i)&&y(this.uniforms,e,r)}}return this},a._areTexturesRenderable=function(){if(this._texturesRenderable)return!0;for(var t in this._texturesRenderable=!0,this._textureUniforms){var e=this._textureUniforms[t];this._texturesRenderable=this._texturesRenderable&&e.loaded}return this._texturesRenderable},a._bindTextures=function(){for(var t in this._textureUniforms){var e=this._uniformSetters[t].textureIndex;this._textureUniforms[t].bind(e)}},a._createHandle=function(){return this.gl.createProgram()},a._deleteHandle=function(){this.gl.deleteProgram(this.handle)},a._getOptionsFromHandle=function(t){for(var e,r={},n=k(this.gl.getAttachedShaders(t));!(e=n()).done;){var a=e.value;switch(this.gl.getShaderParameter(this.handle,i.a.SHADER_TYPE)){case i.a.VERTEX_SHADER:r.vs=new M({handle:a});break;case i.a.FRAGMENT_SHADER:r.fs=new C({handle:a})}}return r},a._getParameter=function(t){return this.gl.getProgramParameter(this.handle,t)},a._setId=function(t){if(!t){var e=this._getName();this.id=Object(x.c)(e)}},a._getName=function(){var t=this.vs.getName()||this.fs.getName();return t=(t=t.replace(/shader/i,""))?t+"-program":"program"},a._compileAndLink=function(){var t=this.gl;if((t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),c.f.time(4,"linkProgram for "+this._getName())(),t.linkProgram(this.handle),c.f.timeEnd(4,"linkProgram for "+this._getName())(),t.debug||c.f.level>0)&&(t.validateProgram(this.handle),!t.getProgramParameter(this.handle,t.LINK_STATUS)))throw new Error("Error linking: "+t.getProgramInfoLog(this.handle))},a._readUniformLocationsFromLinkedProgram=function(){var t=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(i.a.ACTIVE_UNIFORMS);for(var e=0;e<this._uniformCount;e++){var r=this.gl.getActiveUniform(this.handle,e),n=T(r.name),a=n.name,s=(n.isArray,t.getUniformLocation(this.handle,a));if(this._uniformSetters[a]=p(t,s,r),r.size>1)for(var o=0;o<r.size;o++)s=t.getUniformLocation(this.handle,a+"["+o+"]"),this._uniformSetters[a+"["+o+"]"]=p(t,s,r)}this._textureIndexCounter=0},a.getActiveUniforms=function(t,e){return this.gl.getActiveUniforms(this.handle,t,e)},a.getUniformBlockIndex=function(t){return this.gl.getUniformBlockIndex(this.handle,t)},a.getActiveUniformBlockParameter=function(t,e){return this.gl.getActiveUniformBlockParameter(this.handle,t,e)},a.uniformBlockBinding=function(t,e){this.gl.uniformBlockBinding(this.handle,t,e)},n}(s.a)},WY7U:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));r("rzGZ"),r("Dq+y"),r("YbXK"),r("ofTv"),r("E5k/"),r("6kNP"),r("8npG");var n=r("o0o1"),a=r.n(n),i=(r("wcNg"),r("73Rc")),s=r.n(i),o=r("lHlH"),u=r("rfXe"),c=r("3dIF");function f(t,e,r,n,a,i,s){try{var o=t[i](s),u=o.value}catch(c){return void r(c)}o.done?e(u):Promise.resolve(u).then(n,a)}var h=[s.a.TEXTURE_CUBE_MAP_POSITIVE_X,s.a.TEXTURE_CUBE_MAP_NEGATIVE_X,s.a.TEXTURE_CUBE_MAP_POSITIVE_Y,s.a.TEXTURE_CUBE_MAP_NEGATIVE_Y,s.a.TEXTURE_CUBE_MAP_POSITIVE_Z,s.a.TEXTURE_CUBE_MAP_NEGATIVE_Z],l=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(c.b)(e),(n=t.call(this,e,Object.assign({},r,{target:s.a.TEXTURE_CUBE_MAP}))||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.initialize=function(t){var e=this;void 0===t&&(t={});var r=t,n=r.mipmaps,a=void 0===n||n,i=r.parameters,s=void 0===i?{}:i;this.opts=t,this.setCubeMapImageData(t).then((function(){e.loaded=!0,a&&e.generateMipmap(t),e.setParameters(s)}))},i.subImage=function(t){var e=t.face,r=t.data,n=t.x,a=void 0===n?0:n,i=t.y,s=void 0===i?0:i,o=t.mipmapLevel,u=void 0===o?0:o;return this._subImage({target:e,data:r,x:a,y:s,mipmapLevel:u})},i.setCubeMapImageData=function(){var t,e=(t=a.a.mark((function t(e){var r,n,i,u,c,f,l,d,g,E,b,_,v,m=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.width,n=e.height,i=e.pixels,u=e.data,c=e.border,f=void 0===c?0:c,l=e.format,d=void 0===l?s.a.RGBA:l,g=e.type,E=void 0===g?s.a.UNSIGNED_BYTE:g,b=this.gl,_=i||u,t.next=5,Promise.all(h.map((function(t){var e=_[t];return Promise.all(Array.isArray(e)?e:[e])})));case 5:v=t.sent,this.bind(),h.forEach((function(t,e){v[e].length>1&&!1!==m.opts.mipmaps&&o.f.warn(m.id+" has mipmap and multiple LODs.")(),v[e].forEach((function(e,a){r&&n?b.texImage2D(t,a,d,r,n,f,d,E,e):b.texImage2D(t,a,d,d,E,e)}))})),this.unbind();case 9:case"end":return t.stop()}}),t,this)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function s(t){f(i,n,a,s,o,"next",t)}function o(t){f(i,n,a,s,o,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}(),i.setImageDataForFace=function(t){var e=this,r=t.face,n=t.width,a=t.height,i=t.pixels,o=t.data,u=t.border,c=void 0===u?0:u,f=t.format,h=void 0===f?s.a.RGBA:f,l=t.type,d=void 0===l?s.a.UNSIGNED_BYTE:l,g=this.gl,E=i||o;return this.bind(),E instanceof Promise?E.then((function(n){return e.setImageDataForFace(Object.assign({},t,{face:r,data:n,pixels:n}))})):this.width||this.height?g.texImage2D(r,0,h,n,a,c,h,d,E):g.texImage2D(r,0,h,h,d,E),this},n}(u.a);l.FACES=h},WrWi:function(t,e,r){"use strict";r.d(e,"a",(function(){return A}));r("YBKJ"),r("9ZhD"),r("pJf4"),r("E5k/"),r("n0hJ"),r("ofTv"),r("rzGZ"),r("Dq+y"),r("8npG");var n=r("73Rc"),a=r.n(n),i=r("lHlH"),s=r("YJ55"),o=r("3LCa"),u=(r("SIeT"),r("6nXr"),r("5irr"),r("98Cc")),c=(r("Kb1d"),null);function f(t,e){var r;return new t((r=t.BYTES_PER_ELEMENT*e,(!c||c.byteLength<r)&&(c=new ArrayBuffer(r)),c),0,e)}var h=r("Iq2B"),l=(r("sc67"),r("W7fB")),d=r("o7VR"),g=r("KFwR");function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(t){var e,r;function n(e,r){var n;void 0===r&&(r={});var a=r.id||r.program&&r.program.id;return(n=t.call(this,e,Object.assign({},r,{id:a}))||this).buffer=null,n.bufferValue=null,n.isDefaultArray=r.isDefaultArray||!1,n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){return void 0===e&&(e={}),!e.constantAttributeZero||(Object(i.e)(t)||"Chrome"===function(t){if(!t&&!Object(d.a)())return"Node";if(Object(g.a)(t))return"Electron";var e="undefined"!=typeof navigator?navigator:{},r=t||e.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),a=-1!==r.indexOf("Trident/");return n||a?"IE":l.b.chrome?"Chrome":l.b.safari?"Safari":l.b.mozInnerScreenX?"Firefox":"Unknown"}())},n.getDefaultArray=function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new n(t,{handle:null,isDefaultArray:!0})),t.luma.defaultVertexArray},n.getMaxAttributes=function(t){return n.MAX_ATTRIBUTES=n.MAX_ATTRIBUTES||t.getParameter(t.MAX_VERTEX_ATTRIBS),n.MAX_ATTRIBUTES},n.setConstant=function(t,e,r){switch(r.constructor){case Float32Array:n._setConstantFloatArray(t,e,r);break;case Int32Array:n._setConstantIntArray(t,e,r);break;case Uint32Array:n._setConstantUintArray(t,e,r);break;default:Object(h.a)(!1)}};var s,u,c,b=n.prototype;return b.delete=function(){t.prototype.delete.call(this),this.buffer&&this.buffer.delete()},b.initialize=function(t){return void 0===t&&(t={}),this.setProps(t)},b.setProps=function(t){return this},b.setElementBuffer=function(t,e){var r=this;return void 0===t&&(t=null),void 0===e&&(e={}),Object(h.a)(!t||t.target===a.a.ELEMENT_ARRAY_BUFFER,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((function(){r.gl.bindBuffer(a.a.ELEMENT_ARRAY_BUFFER,t?t.handle:null)})),this},b.setBuffer=function(t,e,r){if(e.target===a.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(e,r);var n=r.size,s=r.type,o=r.stride,u=r.offset,c=r.normalized,f=r.integer,l=r.divisor,d=this.gl;return t=Number(t),this.bind((function(){d.bindBuffer(d.ARRAY_BUFFER,e.handle),f?(Object(h.a)(Object(i.e)(d)),d.vertexAttribIPointer(t,n,s,o,u)):d.vertexAttribPointer(t,n,s,c,o,u),d.enableVertexAttribArray(t),d.vertexAttribDivisor(t,l||0)})),this},b.enable=function(t,e){var r=this;return void 0===e&&(e=!0),!e&&0===t&&!n.isSupported(this.gl,{constantAttributeZero:!0})||(t=Number(t),this.bind((function(){return e?r.gl.enableVertexAttribArray(t):r.gl.disableVertexAttribArray(t)}))),this},b.getConstantBuffer=function(t,e,r){var n=this._normalizeConstantArrayValue(e,r),a=n.byteLength*t,i=n.length*t,s=!this.buffer;if(this.buffer=this.buffer||new o.a(this.gl,a),s=(s=s||this.buffer.reallocate(a))||!this._compareConstantArrayValues(n,this.bufferValue)){var u=f(e.constructor,i);!function(t){for(var e=t.target,r=t.source,n=t.start,a=void 0===n?0:n,i=t.count,s=void 0===i?1:i,o=r.length,u=s*o,c=0,f=a;c<o;c++)e[f++]=r[c];for(;c<u;)c<u-c?(e.copyWithin(a+c,a,a+c),c*=2):(e.copyWithin(a+c,a,a+u-c),c=u)}({target:u,source:n,start:0,count:i}),this.buffer.subData(u),this.bufferValue=e}return this.buffer},b._normalizeConstantArrayValue=function(t,e){return Array.isArray(t)?new Float32Array(t):t},b._compareConstantArrayValues=function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0},n._setConstantFloatArray=function(t,e,r){switch(r.length){case 1:t.vertexAttrib1fv(e,r);break;case 2:t.vertexAttrib2fv(e,r);break;case 3:t.vertexAttrib3fv(e,r);break;case 4:t.vertexAttrib4fv(e,r);break;default:Object(h.a)(!1)}},n._setConstantIntArray=function(t,e,r){switch(Object(h.a)(Object(i.e)(t)),r.length){case 1:t.vertexAttribI1iv(e,r);break;case 2:t.vertexAttribI2iv(e,r);break;case 3:t.vertexAttribI3iv(e,r);break;case 4:t.vertexAttribI4iv(e,r);break;default:Object(h.a)(!1)}},n._setConstantUintArray=function(t,e,r){switch(Object(h.a)(Object(i.e)(t)),r.length){case 1:t.vertexAttribI1uiv(e,r);break;case 2:t.vertexAttribI2uiv(e,r);break;case 3:t.vertexAttribI3uiv(e,r);break;case 4:t.vertexAttribI4uiv(e,r);break;default:Object(h.a)(!1)}},b._createHandle=function(){return this.gl.createVertexArray()},b._deleteHandle=function(t){return this.gl.deleteVertexArray(t),[this.elements]},b._bindHandle=function(t){this.gl.bindVertexArray(t)},b._getParameter=function(t,e){var r=this,n=e.location;return Object(h.a)(Number.isFinite(n)),this.bind((function(){switch(t){case a.a.VERTEX_ATTRIB_ARRAY_POINTER:return r.gl.getVertexAttribOffset(n,t);default:return r.gl.getVertexAttrib(n,t)}}))},s=n,(u=[{key:"MAX_ATTRIBUTES",get:function(){return n.getMaxAttributes(this.gl)}}])&&E(s.prototype,u),c&&E(s,c),n}(u.a),_=r("7rsd"),v=/^(.+)__LOCATION_([0-9]+)$/,m=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],A=function(){function t(t,e){void 0===e&&(e={});var r=e.id||e.program&&e.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new b(t),Object(_.a)(this,"VertexArray","v6.0",m),this.initialize(e),Object.seal(this)}var e=t.prototype;return e.delete=function(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()},e.initialize=function(t){return void 0===t&&(t={}),this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)},e.reset=function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this},e.setProps=function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this},e.clearDrawParams=function(){this.drawParams=null},e.getDrawParams=function(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams},e.setAttributes=function(t){var e=this;return Object.assign(this.attributes,t),this.vertexArrayObject.bind((function(){for(var r in t){var n=t[r];e._setAttribute(r,n)}e.gl.bindBuffer(a.a.ARRAY_BUFFER,null)})),this},e.setElementBuffer=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(t,e),this},e.setBuffer=function(t,e,r){if(void 0===r&&(r={}),e.target===a.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(e,r);var n=this._resolveLocationAndAccessor(t,e,e.accessor,r),i=n.location,s=n.accessor;return i>=0&&(this.values[i]=e,this.accessors[i]=s,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,e,s)),this},e.setConstant=function(t,e,r){void 0===r&&(r={});var n=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},r)),a=n.location,i=n.accessor;return a>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,i),this.values[a]=e,this.accessors[a]=i,this.clearDrawParams(),this.vertexArrayObject.enable(a,!1)),this},e.unbindBuffers=function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.vertexArrayObject.setElementBuffer(null),t.buffer=t.buffer||new o.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof o.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(a.a.ARRAY_BUFFER,t.buffer.handle),t.gl.vertexAttribPointer(e,1,a.a.FLOAT,!1,0,0))})),this},e.bindBuffers=function(){var t=this;return this.vertexArrayObject.bind((function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var r=t.values[e];r instanceof o.a&&t.setBuffer(e,r)}})),this},e.bindForDraw=function(t,e,r){var n,a=this;return this.vertexArrayObject.bind((function(){a._setConstantAttributes(t,e),n=r()})),n},e._resolveLocationAndAccessor=function(t,e,r,n){var a=this,o=this._getAttributeIndex(t),u=o.location,c=o.name;if(!Number.isFinite(u)||u<0)return this.unused[t]=e,i.f.once(3,(function(){return"unused value "+t+" in "+a.id}))(),this;var f=this._getAttributeInfo(c||u);if(!f)return{location:-1,accessor:null};var l=this.accessors[u]||{},d=s.a.resolve(f.accessor,l,r,n),g=d.size,E=d.type;return Object(h.a)(Number.isFinite(g)&&Number.isFinite(E)),{location:u,accessor:d}},e._getAttributeInfo=function(t){return this.configuration&&this.configuration.getAttributeInfo(t)},e._getAttributeIndex=function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var r=v.exec(t),n=r?r[1]:t,a=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+a,name:n}:{location:-1}},e._setAttribute=function(t,e){if(e instanceof o.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof o.a){var r=e[0],n=e[1];this.setBuffer(t,r,n)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var a=e;this.setConstant(t,a)}else{if(!(e.buffer instanceof o.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var i=e;this.setBuffer(t,i.buffer,i)}},e._setConstantAttributes=function(t,e){var r=Math.max(0|t,0|e),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var a=1;a<this.vertexArrayObject.MAX_ATTRIBUTES;a++)n=this.values[a],ArrayBuffer.isView(n)&&this._setConstantAttribute(a,n)},e._setConstantAttributeZero=function(t,e){if(b.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var r=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}},e._setConstantAttribute=function(t,e){b.setConstant(this.gl,t,e)},e._updateDrawParams=function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t},e._updateDrawParamsForLocation=function(t,e){var r=this.values[e],n=this.accessors[e];if(r){var a=n.divisor>0;if(t.isInstanced=t.isInstanced||a,r instanceof o.a){var i=r;if(a){var s=i.getVertexCount(n);t.instanceCount=Math.min(t.instanceCount,s)}else{var u=i.getVertexCount(n);t.vertexCount=Math.min(t.vertexCount,u)}}}},e.setElements=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),i.f.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)},t}()},YJ55:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));r("DrhF"),r("q8oJ"),r("8npG"),r("nWfQ");var n=r("73Rc"),a=r.n(n),i=r("UBYz"),s=r("Iq2B"),o=r("/wHA");function u(t,e,r){return(u=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&f(a,r.prototype),a}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l={offset:0,stride:0,type:a.a.FLOAT,size:1,divisor:0,normalized:!1,integer:!1},d={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},g=function(){function t(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach((function(e){return t._assign(e)})),Object.freeze(this)}t.getBytesPerElement=function(t){return Object(i.c)(t.type||a.a.FLOAT).BYTES_PER_ELEMENT},t.getBytesPerVertex=function(t){return Object(s.a)(t.size),Object(i.c)(t.type||a.a.FLOAT).BYTES_PER_ELEMENT*t.size},t.resolve=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(t,[l].concat(r))};var e,r,n,c=t.prototype;return c.toString=function(){return JSON.stringify(this)},c._assign=function(t){return void 0===t&&(t={}),void 0!==(t=Object(o.a)("Accessor",t,d)).type&&(this.type=t.type,t.type!==a.a.INT&&t.type!==a.a.UNSIGNED_INT||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"==typeof index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this},e=t,(r=[{key:"BYTES_PER_ELEMENT",get:function(){return t.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return t.getBytesPerVertex(this)}}])&&h(e.prototype,r),n&&h(e,n),t}()},dTJe:function(t,e,r){"use strict";r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return c})),r.d(e,"a",(function(){return f}));r("YbXK"),r("cFtU"),r("pJf4"),r("q8oJ"),r("8npG"),r("rzGZ"),r("m210"),r("4DPX");var n=r("2aL3"),a=r("lHlH"),i=r("Iq2B");function s(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){return c(t,e)}function c(t,e){return(e=Array.isArray(e)?e:[e]).every((function(e){return h(t,e)}))}function f(t){for(var e in t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},n.b)void 0===t.luma.caps[e]&&(t.luma.caps[e]=h(t,e));return t.luma.caps}function h(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},void 0===t.luma.caps[e]&&(t.luma.caps[e]=function(t,e){var r,o=n.b[e];Object(i.a)(o,e);var u=Object(a.e)(t)&&o[1]||o[0];if("function"==typeof u)r=u(t);else if(Array.isArray(u)){r=!0;for(var c,f=s(u);!(c=f()).done;){var h=c.value;r=r&&Boolean(t.getExtension(h))}}else"string"==typeof u?r=Boolean(t.getExtension(u)):"boolean"==typeof u?r=u:Object(i.a)(!1);return r}(t,e)),t.luma.caps[e]||a.f.log(2,"Feature: "+e+" not supported")(),t.luma.caps[e]}},h3Sa:function(t,e,r){r("Sc3u")("Uint16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},kgJN:function(t,e,r){"use strict";r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return h}));r("E5k/");var n=r("2urO"),a=r("WY7U"),i=r("viZF"),s=r("mECX"),o=r("73Rc"),u=r.n(o),c=r("Iq2B");function f(t,e){Object(c.a)(t instanceof n.a||t instanceof a.a||t instanceof i.a);var r=t.constructor,s=t.gl,o=t.width,u=t.height,f=t.format,h=t.type,l=t.dataFormat,d=t.border,g=t.mipmaps;return new r(s,Object.assign({width:o,height:u,format:f,type:h,dataFormat:l,border:d,mipmaps:g},e))}function h(t,e){var r,n=t.gl,a=t.width,i=t.height,o=t.id;return new s.a(n,Object.assign({},e,{id:"framebuffer-for-"+o,width:a,height:i,attachments:(r={},r[u.a.COLOR_ATTACHMENT0]=t,r)}))}},m5Zt:function(t,e,r){var n=r("P8UN");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},mECX:function(t,e,r){"use strict";r.d(e,"a",(function(){return m}));r("YBKJ"),r("E5k/"),r("Dq+y"),r("Ggvi"),r("ofTv"),r("YbXK"),r("cFtU"),r("pJf4"),r("q8oJ"),r("8npG"),r("rzGZ"),r("m210"),r("4DPX");var n=r("73Rc"),a=r.n(n),i=r("lHlH"),s=r("98Cc"),o=r("2urO"),u=r("KcFQ"),c=r("IObG"),f=r("EpVc"),h=r("dTJe"),l=r("3dIF"),d=r("62vL"),g=r("Iq2B");function E(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,r){return e&&_(t.prototype,e),r&&_(t,r),t}var m=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).width=null,n.height=null,n.attachments={},n.readBuffer=a.a.COLOR_ATTACHMENT0,n.drawBuffers=[a.a.COLOR_ATTACHMENT0],n.ownResources=[],n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=void 0===e?{}:e,n=r.colorBufferFloat,a=r.colorBufferHalfFloat,i=!0;return n&&(i=Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("WEBGL_color_buffer_float")||t.getExtension("OES_texture_float"))),a&&(i=i&&Boolean(t.getExtension("EXT_color_buffer_float")||t.getExtension("EXT_color_buffer_half_float"))),i},n.getDefaultFramebuffer=function(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new n(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer},v(n,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}]);var s=n.prototype;return s.initialize=function(t){var e=t.width,r=void 0===e?1:e,n=t.height,a=void 0===n?1:n,i=t.attachments,s=void 0===i?null:i,o=t.color,u=void 0===o||o,c=t.depth,f=void 0===c||c,h=t.stencil,l=void 0!==h&&h,d=t.check,E=void 0===d||d,b=t.readBuffer,_=t.drawBuffers;if(Object(g.a)(r>=0&&a>=0,"Width and height need to be integers"),this.width=r,this.height=a,s)for(var v in s){var m=s[v];(Array.isArray(m)?m[0]:m).resize({width:r,height:a})}else s=this._createDefaultAttachments(u,f,l,r,a);this.update({clearAttachments:!0,attachments:s,readBuffer:b,drawBuffers:_}),s&&E&&this.checkStatus()},s.delete=function(){for(var e,r=E(this.ownResources);!(e=r()).done;){e.value.delete()}t.prototype.delete.call(this)},s.update=function(t){var e=t.attachments,r=void 0===e?{}:e,n=t.readBuffer,i=t.drawBuffers,s=t.clearAttachments,o=void 0!==s&&s,u=t.resizeAttachments,c=void 0===u||u;this.attach(r,{clearAttachments:o,resizeAttachments:c});var f=this.gl,h=f.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);return n&&this._setReadBuffer(n),i&&this._setDrawBuffers(i),f.bindFramebuffer(a.a.FRAMEBUFFER,h||null),this},s.resize=function(t){var e=void 0===t?{}:t,r=e.width,n=e.height;if(null===this.handle)return Object(g.a)(void 0===r&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var a in void 0===r&&(r=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),r!==this.width&&n!==this.height&&i.f.log(2,"Resizing framebuffer "+this.id+" to "+r+"x"+n)(),this.attachments)this.attachments[a].resize({width:r,height:n});return this.width=r,this.height=n,this},s.attach=function(t,e){var r=this,n=void 0===e?{}:e,i=n.clearAttachments,s=void 0!==i&&i,o=n.resizeAttachments,c=void 0===o||o,f={};s&&Object.keys(this.attachments).forEach((function(t){f[t]=null})),Object.assign(f,t);var h=this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);for(var l in f){Object(g.a)(void 0!==l,"Misspelled framebuffer binding point?");var d=Number(l),E=f[d],b=E;if(b)if(b instanceof u.a)this._attachRenderbuffer({attachment:d,renderbuffer:b});else if(Array.isArray(E)){var _=E[0],v=E[1],m=void 0===v?0:v,A=E[2],T=void 0===A?0:A;b=_,this._attachTexture({attachment:d,texture:_,layer:m,level:T})}else this._attachTexture({attachment:d,texture:b,layer:0,level:0});else this._unattach(d);c&&b&&b.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(a.a.FRAMEBUFFER,h||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter((function(t){return!r.attachments[t]})).forEach((function(t){delete r.attachments[t]}))},s.checkStatus=function(){var t=this.gl,e=this.getStatus();if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error(A(e));return this},s.getStatus=function(){var t=this.gl,e=t.bindFramebuffer(a.a.FRAMEBUFFER,this.handle),r=t.checkFramebufferStatus(a.a.FRAMEBUFFER);return t.bindFramebuffer(a.a.FRAMEBUFFER,e||null),r},s.clear=function(t){var e=void 0===t?{}:t,r=e.color,n=e.depth,i=e.stencil,s=e.drawBuffers,o=void 0===s?[]:s,u=this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);return(r||n||i)&&Object(c.a)(this.gl,{color:r,depth:n,stencil:i}),o.forEach((function(t,e){Object(c.b)({drawBuffer:e,value:t})})),this.gl.bindFramebuffer(a.a.FRAMEBUFFER,u||null),this},s.readPixels=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null},s.readPixelsToBuffer=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null},s.copyToDataUrl=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null},s.copyToImage=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null},s.copyToTexture=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},s.blit=function(t){return void 0===t&&(t={}),i.f.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null},s.invalidate=function(t){var e=t.attachments,r=void 0===e?[]:e,n=t.x,i=void 0===n?0:n,s=t.y,o=void 0===s?0:s,u=t.width,c=t.height,f=this.gl;Object(l.a)(f);var h=f.bindFramebuffer(a.a.READ_FRAMEBUFFER,this.handle);return 0===i&&0===o&&void 0===u&&void 0===c?f.invalidateFramebuffer(a.a.READ_FRAMEBUFFER,r):f.invalidateFramebuffer(a.a.READ_FRAMEBUFFER,r,i,o,u,c),f.bindFramebuffer(a.a.READ_FRAMEBUFFER,h),this},s.getAttachmentParameter=function(t,e,r){var n=this._getAttachmentParameterFallback(e);return null===n&&(this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle),n=this.gl.getFramebufferAttachmentParameter(a.a.FRAMEBUFFER,t,e),this.gl.bindFramebuffer(a.a.FRAMEBUFFER,null)),r&&n>1e3&&(n=Object(d.a)(this.gl,n)),n},s.getAttachmentParameters=function(t,e,r){void 0===t&&(t=a.a.COLOR_ATTACHMENT0),void 0===r&&(r=this.constructor.ATTACHMENT_PARAMETERS||[]);for(var n,i={},s=E(r);!(n=s()).done;){var o=n.value;i[e?Object(d.a)(this.gl,o):o]=this.getAttachmentParameter(t,o,e)}return i},s.getParameters=function(t){void 0===t&&(t=!0);for(var e={},r=0,n=Object.keys(this.attachments);r<n.length;r++){var a=n[r],i=Number(a);e[t?Object(d.a)(this.gl,i):i]=this.getAttachmentParameters(i,t)}return e},s.show=function(){return"undefined"!=typeof window&&window.open(Object(f.a)(this),"luma-debug-texture"),this},s.log=function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=""),t>i.f.level||"undefined"==typeof window)return this;e=e||"Framebuffer "+this.id;var r=Object(f.a)(this,{maxHeight:100});return i.f.image({logLevel:t,message:e,image:r},e)(),this},s.bind=function(t){var e=(void 0===t?{}:t).target,r=void 0===e?a.a.FRAMEBUFFER:e;return this.gl.bindFramebuffer(r,this.handle),this},s.unbind=function(t){var e=(void 0===t?{}:t).target,r=void 0===e?a.a.FRAMEBUFFER:e;return this.gl.bindFramebuffer(r,null),this},s._createDefaultAttachments=function(t,e,r,n,i){var s,c=null;t&&((c=c||{})[a.a.COLOR_ATTACHMENT0]=new o.a(this.gl,{id:this.id+"-color0",pixels:null,format:a.a.RGBA,type:a.a.UNSIGNED_BYTE,width:n,height:i,mipmaps:!1,parameters:(s={},s[a.a.TEXTURE_MIN_FILTER]=a.a.LINEAR,s[a.a.TEXTURE_MAG_FILTER]=a.a.LINEAR,s[a.a.TEXTURE_WRAP_S]=a.a.CLAMP_TO_EDGE,s[a.a.TEXTURE_WRAP_T]=a.a.CLAMP_TO_EDGE,s)}),this.ownResources.push(c[a.a.COLOR_ATTACHMENT0]));return e&&r?((c=c||{})[a.a.DEPTH_STENCIL_ATTACHMENT]=new u.a(this.gl,{id:this.id+"-depth-stencil",format:a.a.DEPTH24_STENCIL8,width:n,height:111}),this.ownResources.push(c[a.a.DEPTH_STENCIL_ATTACHMENT])):e?((c=c||{})[a.a.DEPTH_ATTACHMENT]=new u.a(this.gl,{id:this.id+"-depth",format:a.a.DEPTH_COMPONENT16,width:n,height:i}),this.ownResources.push(c[a.a.DEPTH_ATTACHMENT])):r&&Object(g.a)(!1),c},s._unattach=function(t){var e=this.attachments[t];e&&(e instanceof u.a?this.gl.framebufferRenderbuffer(a.a.FRAMEBUFFER,t,a.a.RENDERBUFFER,null):this.gl.framebufferTexture2D(a.a.FRAMEBUFFER,t,a.a.TEXTURE_2D,null,0),delete this.attachments[t])},s._attachRenderbuffer=function(t){var e=t.attachment,r=void 0===e?a.a.COLOR_ATTACHMENT0:e,n=t.renderbuffer;this.gl.framebufferRenderbuffer(a.a.FRAMEBUFFER,r,a.a.RENDERBUFFER,n.handle),this.attachments[r]=n},s._attachTexture=function(t){var e=t.attachment,r=void 0===e?a.a.COLOR_ATTACHMENT0:e,n=t.texture,i=t.layer,s=t.level,o=this.gl;switch(o.bindTexture(n.target,n.handle),n.target){case a.a.TEXTURE_2D_ARRAY:case a.a.TEXTURE_3D:o.framebufferTextureLayer(a.a.FRAMEBUFFER,r,n.target,s,i);break;case a.a.TEXTURE_CUBE_MAP:var u=function(t){return t<a.a.TEXTURE_CUBE_MAP_POSITIVE_X?t+a.a.TEXTURE_CUBE_MAP_POSITIVE_X:t}(i);o.framebufferTexture2D(a.a.FRAMEBUFFER,r,u,n.handle,s);break;case a.a.TEXTURE_2D:o.framebufferTexture2D(a.a.FRAMEBUFFER,r,a.a.TEXTURE_2D,n.handle,s);break;default:Object(g.a)(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[r]=n},s._setReadBuffer=function(t){var e=this.gl;Object(i.e)(e)?e.readBuffer(t):Object(g.a)(t===a.a.COLOR_ATTACHMENT0||t===a.a.BACK,"Multiple render targets not supported"),this.readBuffer=t},s._setDrawBuffers=function(t){var e=this.gl;if(Object(i.e)(e))e.drawBuffers(t);else{var r=e.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(t):Object(g.a)(1===t.length&&(t[0]===a.a.COLOR_ATTACHMENT0||t[0]===a.a.BACK),"Multiple render targets not supported")}this.drawBuffers=t},s._getAttachmentParameterFallback=function(t){var e=Object(h.a)(this.gl);switch(t){case a.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return e.WEBGL2?null:0;case a.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return e.WEBGL2?null:8;case a.a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return e.WEBGL2?null:a.a.UNSIGNED_INT;case a.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return e.WEBGL2||e.EXT_sRGB?null:a.a.LINEAR;default:return null}},s._createHandle=function(){return this.gl.createFramebuffer()},s._deleteHandle=function(){this.gl.deleteFramebuffer(this.handle)},s._bindHandle=function(t){return this.gl.bindFramebuffer(a.a.FRAMEBUFFER,t)},v(n,[{key:"color",get:function(){return this.attachments[a.a.COLOR_ATTACHMENT0]||null}},{key:"texture",get:function(){return this.attachments[a.a.COLOR_ATTACHMENT0]||null}},{key:"depth",get:function(){return this.attachments[a.a.DEPTH_ATTACHMENT]||this.attachments[a.a.DEPTH_STENCIL_ATTACHMENT]||null}},{key:"stencil",get:function(){return this.attachments[a.a.STENCIL_ATTACHMENT]||this.attachments[a.a.DEPTH_STENCIL_ATTACHMENT]||null}}]),n}(s.a);function A(t){return(m.STATUS||{})[t]||"Framebuffer error "+t}var T=[a.a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,a.a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,a.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING,a.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE];m.ATTACHMENT_PARAMETERS=T},n0hJ:function(t,e,r){var n=r("P8UN");n(n.P,"Array",{fill:r("Y++M")}),r("Dq1/")("fill")},rfXe:function(t,e,r){"use strict";r.d(e,"a",(function(){return E}));r("YBKJ"),r("9ZhD"),r("E5k/"),r("6kNP"),r("q8oJ"),r("8npG");var n=r("73Rc"),a=r.n(n),i=r("98Cc"),s=r("3LCa"),o=r("AFhB"),u=r("lHlH"),c=r("QenK"),f=r("3dIF"),h=r("BunF"),l=r("Iq2B");var d=[a.a.LINEAR,a.a.NEAREST],g=c.global.WebGLBuffer||function(){},E=function(t){var e,r;function n(e,r){var n,a=r.id,i=void 0===a?Object(h.c)("texture"):a,s=r.handle,o=r.target;return(n=t.call(this,e,{id:i,handle:s})||this).target=o,n.textureUnit=void 0,n.loaded=!1,n.width=void 0,n.height=void 0,n.depth=void 0,n.format=void 0,n.type=void 0,n.dataFormat=void 0,n.border=void 0,n.textureUnit=void 0,n.mipmaps=void 0,n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=void 0===e?{}:e,n=r.format,a=r.linearFiltering,i=!0;return n&&(i=(i=i&&Object(o.d)(t,n))&&(!a||Object(o.e)(t,n))),i};var i=n.prototype;return i.toString=function(){return"Texture("+this.id+","+this.width+"x"+this.height+")"},i.initialize=function(t){var e=this;void 0===t&&(t={});var r=t.data;if(r instanceof Promise)return r.then((function(r){return e.initialize(Object.assign({},t,{pixels:r,data:r}))})),this;var n=t,i=n.pixels,s=void 0===i?null:i,o=n.format,c=void 0===o?a.a.RGBA:o,f=n.border,h=void 0===f?0:f,l=n.recreate,d=void 0!==l&&l,g=n.parameters,E=void 0===g?{}:g,b=n.pixelStore,_=void 0===b?{}:b,v=n.textureUnit,m=void 0===v?void 0:v,A=t.mipmaps,T=void 0===A||A;r||(r=s);var p=t,R=p.width,y=p.height,F=p.dataFormat,O=p.type,I=t.depth,B=void 0===I?0:I,N=this._deduceParameters({format:c,type:O,dataFormat:F,compressed:!1,data:r,width:R,height:y});return R=N.width,y=N.height,F=N.dataFormat,O=N.type,this.width=R,this.height=y,this.depth=B,this.format=c,this.type=O,this.dataFormat=F,this.border=h,this.textureUnit=m,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(a.a.TEXTURE0+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),T&&this._isNPOT()&&(u.f.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),T=!1,this._updateForNPOT(E)),this.mipmaps=T,this.setImageData({data:r,width:R,height:y,depth:B,format:c,type:O,dataFormat:F,border:h,mipmaps:T,parameters:_}),T&&this.generateMipmap(),this.setParameters(E),d&&(this.data=r),this},i.resize=function(t){var e=t.height,r=t.width,n=t.mipmaps,a=void 0!==n&&n;return r!==this.width||e!==this.height?this.initialize({width:r,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:a}):this},i.generateMipmap=function(t){var e=this;return void 0===t&&(t={}),this._isNPOT()?(u.f.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(u.k)(this.gl,t,(function(){e.gl.generateMipmap(e.target)})),this.gl.bindTexture(this.target,null),this)},i.setImageData=function(t){this._trackDeallocatedMemory("Texture");var e=t.target,r=void 0===e?this.target:e,n=t.pixels,i=void 0===n?null:n,s=t.level,c=void 0===s?0:s,h=t.format,d=void 0===h?this.format:h,g=t.border,E=void 0===g?this.border:g,b=t.offset,_=void 0===b?0:b,v=t.parameters,m=void 0===v?{}:v,A=t.data,T=void 0===A?null:A,p=t.type,R=void 0===p?this.type:p,y=t.width,F=void 0===y?this.width:y,O=t.height,I=void 0===O?this.height:O,B=t.dataFormat,N=void 0===B?this.dataFormat:B,L=t.compressed,U=void 0!==L&&L;T||(T=i);var S=this._deduceParameters({format:d,type:R,dataFormat:N,compressed:U,data:T,width:F,height:I});R=S.type,N=S.dataFormat,U=S.compressed,F=S.width,I=S.height;var w=this.gl;w.bindTexture(this.target,this.handle);var x,P=this._getDataType({data:T,compressed:U});if(T=P.data,x=P.dataType,Object(u.k)(this.gl,m,(function(){switch(x){case"null":w.texImage2D(r,c,d,F,I,E,N,R,T);break;case"typed-array":w.texImage2D(r,c,d,F,I,E,N,R,T,_);break;case"buffer":Object(f.a)(w),w.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,T.handle||T),w.texImage2D(r,c,d,F,I,E,N,R,_),w.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,null);break;case"browser-object":Object(u.e)(w)?w.texImage2D(r,c,d,F,I,E,N,R,T):w.texImage2D(r,c,d,N,R,T);break;case"compressed":w.compressedTexImage2D(r,c,d,F,I,E,T);break;default:Object(l.a)(!1,"Unknown image data type")}})),T&&T.byteLength)this._trackAllocatedMemory(T.byteLength,"Texture");else{var D=o.a[this.dataFormat]||4,M=o.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*D*M,"Texture")}return this.loaded=!0,this},i.setSubImageData=function(t){var e=this,r=t.target,n=void 0===r?this.target:r,i=t.pixels,o=void 0===i?null:i,c=t.data,h=void 0===c?null:c,d=t.x,E=void 0===d?0:d,b=t.y,_=void 0===b?0:b,v=t.width,m=void 0===v?this.width:v,A=t.height,T=void 0===A?this.height:A,p=t.level,R=void 0===p?0:p,y=t.format,F=void 0===y?this.format:y,O=t.type,I=void 0===O?this.type:O,B=t.dataFormat,N=void 0===B?this.dataFormat:B,L=t.compressed,U=void 0!==L&&L,S=t.offset,w=void 0===S?0:S,x=t.border,P=(void 0===x&&this.border,t.parameters),D=void 0===P?{}:P,M=this._deduceParameters({format:F,type:I,dataFormat:N,compressed:U,data:h,width:m,height:T});if(I=M.type,N=M.dataFormat,U=M.compressed,m=M.width,T=M.height,Object(l.a)(0===this.depth,"texSubImage not supported for 3D textures"),h||(h=o),h&&h.data){var C=h;h=C.data,m=C.shape[0],T=C.shape[1]}h instanceof s.a&&(h=h.handle),this.gl.bindTexture(this.target,this.handle),Object(u.k)(this.gl,D,(function(){U?e.gl.compressedTexSubImage2D(n,R,E,_,m,T,F,h):null===h?e.gl.texSubImage2D(n,R,E,_,m,T,N,I,null):ArrayBuffer.isView(h)?e.gl.texSubImage2D(n,R,E,_,m,T,N,I,h,w):h instanceof g?(Object(f.a)(e.gl),e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,h),e.gl.texSubImage2D(n,R,E,_,m,T,N,I,w),e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,null)):Object(u.e)(e.gl)?e.gl.texSubImage2D(n,R,E,_,m,T,N,I,h):e.gl.texSubImage2D(n,R,E,_,N,I,h)})),this.gl.bindTexture(this.target,null)},i.copyFramebuffer=function(t){return void 0===t&&(t={}),u.f.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},i.getActiveUnit=function(){return this.gl.getParameter(a.a.ACTIVE_TEXTURE)-a.a.TEXTURE0},i.bind=function(t){void 0===t&&(t=this.textureUnit);var e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(e.TEXTURE0+t)),e.bindTexture(this.target,this.handle),t},i.unbind=function(t){void 0===t&&(t=this.textureUnit);var e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(e.TEXTURE0+t)),e.bindTexture(this.target,null),t},i._getDataType=function(t){var e=t.data,r=t.compressed;return void 0!==r&&r?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof s.a?{data:e.handle,dataType:"buffer"}:e instanceof g?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}},i._deduceParameters=function(t){var e=t.format,r=t.data,n=t.width,a=t.height,i=t.dataFormat,s=t.type,u=t.compressed,c=o.b[e];i=i||c&&c.dataFormat,s=s||c&&c.types[0],u=u||c&&c.compressed;var f=this._deduceImageSize(r,n,a);return{dataFormat:i,type:s,compressed:u,width:n=f.width,height:a=f.height,format:e,data:r}},i._deduceImageSize=function(t,e,r){var n;return n="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:r}:{width:e>=0?e:1,height:r>=0?r:1},Object(l.a)(n,"Could not deduced texture size"),Object(l.a)(void 0===e||n.width===e,"Deduced texture width does not match supplied width"),Object(l.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n},i._createHandle=function(){return this.gl.createTexture()},i._deleteHandle=function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")},i._getParameter=function(t){switch(t){case a.a.TEXTURE_WIDTH:return this.width;case a.a.TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}},i._setParameter=function(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case a.a.TEXTURE_MIN_LOD:case a.a.TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,t,e);break;case a.a.TEXTURE_WIDTH:case a.a.TEXTURE_HEIGHT:Object(l.a)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this},i._isNPOT=function(){return!Object(u.e)(this.gl)&&(!(!this.width||!this.height)&&(!Object(h.b)(this.width)||!Object(h.b)(this.height)))},i._updateForNPOT=function(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)},i._getNPOTParam=function(t,e){if(this._isNPOT())switch(t){case a.a.TEXTURE_MIN_FILTER:-1===d.indexOf(e)&&(e=a.a.LINEAR);break;case a.a.TEXTURE_WRAP_S:case a.a.TEXTURE_WRAP_T:e!==a.a.CLAMP_TO_EDGE&&(e=a.a.CLAMP_TO_EDGE)}return e},n}(i.a)},viZF:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));r("ofTv"),r("E5k/");var n=r("73Rc"),a=r.n(n),i=r("lHlH"),s=r("3dIF"),o=r("rfXe"),u=r("AFhB"),c=r("3LCa");var f=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(s.a)(e),r=Object.assign({depth:1},r,{target:a.a.TEXTURE_3D,unpackFlipY:!1}),(n=t.call(this,e,r)||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t){return Object(i.e)(t)},n.prototype.setImageData=function(t){var e=this,r=t.level,n=void 0===r?0:r,s=t.dataFormat,o=void 0===s?a.a.RGBA:s,f=t.width,h=t.height,l=t.depth,d=void 0===l?1:l,g=t.border,E=void 0===g?0:g,b=t.format,_=t.type,v=void 0===_?a.a.UNSIGNED_BYTE:_,m=t.offset,A=void 0===m?0:m,T=t.data,p=t.parameters,R=void 0===p?{}:p;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(i.k)(this.gl,R,(function(){ArrayBuffer.isView(T)&&e.gl.texImage3D(e.target,n,o,f,h,d,E,b,v,T),T instanceof c.a&&(e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,T.handle),e.gl.texImage3D(e.target,n,o,f,h,d,E,b,v,A))})),T&&T.byteLength)this._trackAllocatedMemory(T.byteLength,"Texture");else{var y=u.a[this.dataFormat]||4,F=u.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*y*F,"Texture")}return this.loaded=!0,this},n}(o.a)}}]);