(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{HGgG:function(i,t,n){"use strict";n.d(t,"a",(function(){return d}));n("5irr"),n("h3Sa"),n("xtjI"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi");var e=n("PG+Z"),r=n("BunF");function o(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.push.apply(n,e)}return n}function a(i){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(i,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(n,t))}))}return i}function l(i,t,n){return t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}var c=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),u=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),g=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),s=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),h={POSITION:{size:3,value:new Float32Array(u)},NORMAL:{size:3,value:new Float32Array(g)},TEXCOORD_0:{size:2,value:new Float32Array(s)}},d=function(i){var t,n;function e(t){void 0===t&&(t={});var n=t.id,e=void 0===n?Object(r.c)("cube-geometry"):n;return i.call(this,a(a({},t),{},{id:e,indices:{size:1,value:new Uint16Array(c)},attributes:a(a({},h),t.attributes)}))||this}return n=i,(t=e).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,e}(e.a)},"PG+Z":function(i,t,n){"use strict";n.d(t,"a",(function(){return g}));n("YBKJ"),n("9ZhD"),n("E5k/"),n("xtjI"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("Ggvi");var e=n("BunF"),r=n("Iq2B");function o(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.push.apply(n,e)}return n}function a(i,t,n){return t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function l(i,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function c(i,t,n){return t&&l(i.prototype,t),n&&l(i,n),i}var u={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},g=function(){function i(i){void 0===i&&(i={});var t=i,n=t.id,r=void 0===n?Object(e.c)("geometry"):n,o=t.drawMode,a=void 0===o?u.TRIANGLES:o,l=t.attributes,c=void 0===l?{}:l,g=t.indices,s=void 0===g?null:g,h=t.vertexCount,d=void 0===h?null:h;this.id=r,this.drawMode=0|a,this.attributes={},this.userData={},this._setAttributes(c,s),this.vertexCount=d||this._calculateVertexCount(this.attributes,this.indices)}c(i,null,[{key:"DRAW_MODE",get:function(){return u}}]);var t=i.prototype;return t.getVertexCount=function(){return this.vertexCount},t.getAttributes=function(){return this.indices?function(i){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(i,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(n,t))}))}return i}({indices:this.indices},this.attributes):this.attributes},t._print=function(i){return"Geometry "+this.id+" attribute "+i},t._setAttributes=function(i,t){for(var n in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),i){var e=i[n];e=ArrayBuffer.isView(e)?{value:e}:e,Object(r.a)(ArrayBuffer.isView(e.value),this._print(n)+": must be typed array or object with value as typed array"),"POSITION"!==n&&"positions"!==n||e.size||(e.size=3),"indices"===n?(Object(r.a)(!this.indices),this.indices=e):this.attributes[n]=e}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},t._calculateVertexCount=function(i,t){if(t)return t.value.length;var n=1/0;for(var e in i){var o=i[e],a=o.value,l=o.size;!o.constant&&a&&l>=1&&(n=Math.min(n,a.length/l))}return Object(r.a)(Number.isFinite(n)),n},c(i,[{key:"mode",get:function(){return this.drawMode}}]),i}()},Wmn6:function(i,t,n){"use strict";n.d(t,"a",(function(){return o}));var e=n("xGy9"),r="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",o=(e.a,{name:"phong-lighting",dependencies:[e.a],fs:r,defines:{LIGHTING_FRAGMENT:1},getUniforms:l}),a={};function l(i){if(void 0===i&&(i=a),!("material"in i))return{};var t=i.material;return t?function(i){var t=i.ambient,n=void 0===t?.35:t,e=i.diffuse,r=void 0===e?.6:e,o=i.shininess,a=void 0===o?32:o,l=i.specularColor;return{lighting_uAmbient:n,lighting_uDiffuse:r,lighting_uShininess:a,lighting_uSpecularColor:(void 0===l?[30,30,30]:l).map((function(i){return i/255}))}}(t):{lighting_uEnabled:!1}}},xGy9:function(i,t,n){"use strict";n("E5k/"),n("YbXK"),n("cFtU"),n("pJf4"),n("q8oJ"),n("8npG"),n("rzGZ"),n("m210"),n("4DPX");var e="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n\n // Constant-Linear-Exponential\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";function r(i,t){var n;if("undefined"==typeof Symbol||null==i[Symbol.iterator]){if(Array.isArray(i)||(n=function(i,t){if(!i)return;if("string"==typeof i)return o(i,t);var n=Object.prototype.toString.call(i).slice(8,-1);"Object"===n&&i.constructor&&(n=i.constructor.name);if("Map"===n||"Set"===n)return Array.from(i);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(i,t)}(i))||t&&i&&"number"==typeof i.length){n&&(i=n);var e=0;return function(){return e>=i.length?{done:!0}:{done:!1,value:i[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=i[Symbol.iterator]()).next.bind(n)}function o(i,t){(null==t||t>i.length)&&(t=i.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=i[n];return e}t.a={name:"lights",vs:e,fs:e,getUniforms:function i(t){void 0===t&&(t=a);if("lightSources"in t){var n=t.lightSources||{},e=n.ambientLight,o=n.pointLights,c=n.directionalLights;return e||o&&o.length>0||c&&c.length>0?Object.assign({},function(i){var t=i.ambientLight,n=i.pointLights,e=void 0===n?[]:n,r=i.directionalLights,o=void 0===r?[]:r,a={};a["lighting_uAmbientLight.color"]=t?l(t):[0,0,0];return e.forEach((function(i,t){a["lighting_uPointLight["+t+"].color"]=l(i),a["lighting_uPointLight["+t+"].position"]=i.position,a["lighting_uPointLight["+t+"].attenuation"]=i.attenuation||[1,0,0]})),a.lighting_uPointLightCount=e.length,o.forEach((function(i,t){a["lighting_uDirectionalLight["+t+"].color"]=l(i),a["lighting_uDirectionalLight["+t+"].direction"]=i.direction})),a.lighting_uDirectionalLightCount=o.length,a}({ambientLight:e,pointLights:o,directionalLights:c}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){for(var u,g={pointLights:[],directionalLights:[]},s=r(t.lights||[]);!(u=s()).done;){var h=u.value;switch(h.type){case"ambient":g.ambientLight=h;break;case"directional":g.directionalLights.push(h);break;case"point":g.pointLights.push(h)}}return i({lightSources:g})}return{}},defines:{MAX_LIGHTS:3}};var a={};function l(i){var t=void 0===i?{}:i,n=t.color,e=void 0===n?[0,0,0]:n,r=t.intensity,o=void 0===r?1:r;return e.map((function(i){return i*o/255}))}}}]);